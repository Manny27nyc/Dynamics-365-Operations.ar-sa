---
title: إعداد سيناريو لذكاء IoT
description: يوضح هذا الموضوع كيفية تكوين سيناريوهات لذكاء IoT في Microsoft Dynamics 365 Supply Chain Management.
author: tonyafehr
ms.date: 08/16/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: tfehr
ms.custom: ''
ms.search.region: Global
ms.author: tfehr
ms.search.validFrom: 2020-04-04
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: b8e8c65cebe64f86dcf158668e8a4f5600c158a1
ms.sourcegitcommit: 9acfb9ddba9582751f53501b82a7e9e60702a613
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 11/10/2021
ms.locfileid: "7782417"
---
# <a name="scenario-setup-for-iot-intelligence"></a>إعداد سيناريو لذكاء IoT

[!include [banner](../../includes/banner.md)]

يوضح هذا الموضوع كيفية تكوين سيناريوهات لذكاء IoT في Microsoft Dynamics 365 Supply Chain Management. قبل إعداد السيناريوهات، يجب [إعداد Microsoft Dynamics Lifecycle Services (LCS)](iot-lcs-setup.md).

في هذا الموضوع، ستقوم بتكوين سيناريو **وقت تعطل المعدات** لإنشاء إخطاء في Supply Chain Management عند تعطل أحد الأجهزة. يبين هذا الموضوع أيضًا كيفية تكوين سيناريو **جودة المنتج** بحيث يتم إنشاء اخطار إذا كانت سمة أحد الأصناف خارج نطاق محدد، وكيفية تكوين سيناريو‏‎ **تأخيرات الإنتاج** بحيث يتم إنشاء اخطار إذا كان صافي الإنتاج أقل من قيمة الحد.

## <a name="configure-the-equipment-downtime-scenario-in-supply-chain-management"></a>تكوين سيناريو تعطل المعدات في Supply Chain Management

يقوم سيناريو **وقت تعطل المعدات** بتعيين إشارة **خروج الجزء** إلى حد التنبيه الخاص بالجهاز. وتجري مراقبة الجهاز فقط عندما يكون محددًا للسيناريو وعندما يكون معينًا إلى وضع **التشغيل** في Supply Chain Management. إذا تجاوز الوقت منذ آخر مرت تم فيها استلام إشارة **خروج الجزء** من الجهاز حد التنبيه، عندها يتم تشغيل إخطار **الجهاز معطل**. إذا كان الجهاز لا يزال قيد التشغيل، يتم تشغيل إخطار **الجهاز قيد التشغيل** عند تلقي إشارة **خروج الجزء** التالية. إذا ظل الجهاز معطلاً لمدة تزيد عن 30 دقيقة، يتم تشغيل إخطار **الجهاز معطل** جديد.

يتضمن سيناريو **وقت تعطل المعدات** التبعيات التالية:

+ يمكن تشغيل تنبيه فقط إذا كان أمر الإنتاج قيد التشغيل على جهاز تم تعيينه.
+ يجب إرسال إشارة تمثل إشارة **خروج الجزء** للجهاز المعين إلى مركز IoT، ويجب تضمين اسم خاصية فريد.
+ يجب أن تكون خاصية **الطابع الزمني** UNIX، حيث يتم التعبير عن القيمة بالمللي ثانية، موجودة في رسالة مركز Azure IoT.

لتكوين السيناريو، اتبع هذه الخطوات.

1. سجل دخولك إلى Supply Chain Management.
2. قم بتمكين علامة ميزة ذكاء IoT. لمزيد من المعلومات، راجع [‏‫نظرة عامة على إدارة الميزات](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md).
3. تكوين المقاييس. لمزيد من المعلومات، راجع [كيفية تكوين المقاييس](iot-metrics-setup.md#configure-metrics).
4. انتقل إلى **التحكم بالإنتاج \> الإعداد \> ذكاء IoT \> إدارة السيناريوهات‬‏‫**.
6. على اللوحة **وقت تعطل المعدات**، حدد **تكوين** لفتح معالج التكوين.

   الصفحة الأولى في المعالج هي صفحة **تعريف مخطط مستشعر المعدات**. في هذه الصفحة، هدفك هو إعداد المخطط في Supply Chain Management بحيث يتطابق مع تنسيق JavaScript Object Notation (JSON) لرسائل مركز IoT. يمكن تعريف العديد من مخططات الرسائل. لمزيد من المعلومات، راجع [تنسيقات المخطط لرسائل مركز IoT](iot-schema-format.md). في هذا المثال، تحتوي حمولة الرسائل على مجموعة من الرسائل بهذا التنسيق.

    ```json
    {
        "timestamp": 1576016821614,
        "payload": [
            {
                "id": "IoTInt.Machine1225.PartOut",
                "timestamp": 1576016821614,
                "value": True
            },
            {
                "id": "IoTInt.Machine1226.PartOut",
                "timestamp": 1576016991616,
                "value": True
            }
        ]
    }
    ```

7. أضف سطرًا إلى الجدول، ثم قم بتعيين القيم التالية:

    1. قم بتعيين حقل **اسم المخطط** إلى **المعرف**.
    2. قم بتعيين حقل **مسار المخطط** إلى **/payload\[\*\]/id**.
    3. قم بعيين حقل **الوصف** إلى **معرف الرسالة**.

8. أضف سطرًا آخر إلى الجدول، ثم قم بتعيين القيم التالية:

    1. قم بتعيين حقل **اسم المخطط** إلى **الطابع الزمني**.
    2. قم بتعيين حقل **مسار المخطط** إلى **/payload\[\*\]/timestamp**.
    3. قم بتعيين حقل **الوصف** إلى **الطابع الزمني للرسالة**.

9. أضف سطرًا آخر إلى الجدول، ثم قم بتعيين القيم التالية:

    1. قم بتعيين حقل **اسم المخطط** إلى **القيمة**.
    2. قم بتعيين حقل **مسار المخطط** إلى **/payload\[\*\]/value**.
    3. قم بتعيين حقل **الوصف** إلى **قيمة الرسالة**.

    > [!NOTE]
    > لا حاجة إلى تعريف كافة الخصائص في الرسالة. يمكنك تعريف الخصائص التي تحتاج إليها فقط. في الخطوات السابقة، لم تقم بإنشاء صف **الطابع الزمني الجذر‬‏‫**. مسار **الطابع الزمني الجذر** يجب أن يكون **/timestamp**.

10. حدد **التالي** للانتقال إلى صفحة **خريطة مخططات مستشعرات المعدات**.
11. في صف **معرف مورد المعدات** في حقل **اسم المخطط** حدد **المعرف**.
12. في الصف **وقت UTC**، في حقل **اسم المخطط** حدد **الطابع الزمني**.
13. في صف **الإشارة الناتجة عن الصف**، في حقل **اسم المخطط** حدد **القيمة**.
14. حدد **التالي** للانتقال إلى صفحة **تكوين معرف مورد المعدات**.
15. اتبع هذه الخطوات لتعيين تعيين القيم في رسالة مركز IoT إلى موارد Supply Chain Management:

    1. في الجدول **قيم بيانات الإشارات**، أضف صفًا جديدًا. في حقل **القيمة**، أدخل **IoTInt.Machine1225.PartOut**. تأتي هذه القيمة من خاصية **معرف** JSON إلى رسالة مركز IoT.
    2. حدد **حفظ**.
    3. في جدول **تعيين سجل الأعمال**، حدد **جديد**. يتم تلقائيًا ملء قيمة افتراضية للحقل **نوع سجل الأعمال**، ولا تحتاج إلى تغييرها.
    4. في حقل **سجل الأعمال**، حدد مورد جهاز Supply Chain Management الذي يتم إرسال قيمة الإشارة منه.
    5. حدد **حفظ**.
    6. كرر هذه الخطوات لإضافة تعيين سجل أعمال جديد لـ **Machine1226**. يمكنك تعيين قيم بيانات متعددة الإشارات لسجل مفرد في Supply Chain Management.

16. استخدم عمود **المحدد** لتحديد الأجهزة التي تريد معالجتها. لا حاجة إلى تعريف جميع قيم الإشارات، ولا حاجة إلى تحديد جميع الأجهزة.
17. حدد **التالي** للانتقال إلى صفحة **تكوين الإشارات الناتجة عن الجزء**.
18. في جدول **قيم بيانات الإشارات**، أضف صفًا، وعيّن حقل **القيمة** على **صحيح**. تأتي هذه القيمة من خاصية **قيمة** JSON إلى رسالة مركز IoT. يمكنك إضافة العديد من القيم التي تحتاج إليها للسيناريو.
19. حدد **حفظ**.
20. حدد **التالي** للانتقال إلى صفحة **حد تعطل المعدات**. الأجهزة المدرجة هي الأجهزة التي تم تعيينها سابقًا إلى قيم الإشارة. في هذه الصفحة، عليك تعيين حد لمعرفة ما إذا كان الجهاز معطلاً أم لا. على سبيل المثال، إذا قمت بتعيين الحد إلى **10**، فستقوم Supply Chain Management بإنشاء إخطار إذا لم يكن يتم تلقي إشارة **خروج الجزء** من الجهاز لمدة 10 دقائق.
21. حدد **التالي** للانتقال إلى صفحة **تمكين السيناريو**. عيّن الخيار لتمكين السيناريو.
22. حدد **إنهاء**.

تم الآن إكمال إعداد السيناريو. سيبدأ ذكاء IoT تلقائيا معالجة رسائل مركز IoT.

## <a name="configure-the-product-quality-scenario-in-supply-chain-management"></a>تكوين سيناريو جودة المنتج في Supply Chain Management

يقوم سيناريو **جودة المنتج** بإنشاء إخطار إذا كان هناك سمة لأحد الأصناف خارج النطاق المحدد. على سبيل المثال، يرسل المستشعر وزن كل صنف إلى مركز IoT. إذا كان أحد وزن أحد الأصناف ثقيلاً جدًا أو خفيفًا جدًا، فسيتم إنشاء إخطار في Supply Chain Management.

يتضمن سيناريو **جودة المنتج** التبعيات التالية:

+ يمكن تشغيل تنبيه فقط إذا كان أمر الإنتاج يعمل على جهاز معين وينتج منتجًا لديه سمة دًفعة معينة.
+ يجب إرسال إشارة تمثل سمة الدُفعة إلى مركز IoT، ويجب تضمين اسم خاصية فريد.
+ يجب أن تكون خاصية **الطابع الزمني** UNIX، حيث يتم التعبير عن القيمة بالمللي ثانية، موجودة في رسالة مركز Azure IoT.

## <a name="configure-the-production-delays-scenario-in-supply-chain-management"></a>تكوين سيناريو تأخيرات الإنتاج في Supply Chain Management

يقوم سيناريو **تأخيرات الإنتاج** بإنشاء إخطار إذا كان صافي الإنتاج أقل من قيمة الحد. في هذا السيناريو، يتم إرسال إشارة **خروج الجزء** إلى مركز IoT لكل صنف تم إنتاجه. في Supply Chain Management، يتم حساب تأخير الأمر استنادًا إلى مقدار الوقت المجدول لتشغيل أمر الإنتاج، وعدد الأصناف التي يجب إنتاجها، ومقدار الوقت الذي تم خلاله تشغيل المهمة ، وعدد إشارات **خروج الجزء** التي تم استلامها. يتم إنشاء إخطار بالتأخير إذا كان عدد إشارات **خروج الجزء** للمهمة أقل من قيمة الحد.

يتضمن سيناريو **تأخيرات الإنتاج** التبعيات التالية:

+ يمكن تشغيل تنبيه فقط إذا كان أمر الإنتاج قيد التشغيل على جهاز تم تعيينه.
+ يجب إرسال إشارة تمثل إشارة **خروج الجزء** للجهاز المعين إلى مركز Azure IoT، ويجب تضمين اسم خاصية فريد.
+ يجب أن تكون خاصية **الطابع الزمني** UNIX، حيث يتم التعبير عن القيمة بالمللي ثانية، موجودة في رسالة مركز Azure IoT.

## <a name="disable-a-scenario"></a>تعطيل سيناريو

اتبع هذه الخطوات لتعطيل سيناريو.

1. في Supply Chain Management، انتقل إلى **التحكم بالإنتاج \> الإعداد \> ذكاء IoT \> إدارة السيناريو**.
2. في لوحة السيناريو، حدد **تكوين**.
3. حدد **التالي** للانتقال إلى صفحة المعالج الأخيرة.
4. عيّن خيار تعطيل السيناريو.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]