---
title: سياسات دمج الشحنات
description: يقدم هذا الموضوع نظرة عامة حول الوظيفة التي توفر التكوين المرن لنُهج دمج الشحنات.
author: GarmMSFT
ms.date: 05/12/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench, WHSShipConsolidationError, WHSShipConsolidationSetShipment, WHSShipConsolidationPolicySelect, WHSShipPlanningListPage, TMSCarrierGroup, WHSShipConsolidationTemplate, WHSShipConsolidationTemplateApply, WHSShipConsolidationTemplateCreate
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.3
ms.openlocfilehash: 11ee4beefed02425d4650de3e896e608d3d00ef5
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/29/2021
ms.locfileid: "7577950"
---
# <a name="shipment-consolidation-policies"></a>سياسات دمج الشحنات

[!include [banner](../includes/banner.md)]

تسمح عملية دمج الشحنات التي تستخدم نُهج دمج الشحنات بالدمج التلقائي للشحنات أثناء الإصدار التلقائي واليدوي إلى المستودع. يحتوي الدمج المؤتمت الذي كان متاحًا قبل تقديم هذه الميزة على حقول ثابتة الترميز وكان يعتمد على حقل **دمج الشحنة عند الإصدار إلى المستودع** الذي تم تعيينه لأحد المستودعات.

يتم استخدام نُهج دمج الشحنات للوظائف التالية:

- الوظيفة الدفعية المؤتمتة للإصدار إلى مستودع
- أمر **إصدار إلى المستودع** في أمر المبيعات أو أمر التحويل
- صفحة **الإصدار إلى مستودع** المخصصة
- أمر **الإصدار إلى مستودع** في صفحة **منضدة عمل تخطيط الحمل**
- الدمج اليدوي للشحنات في صفحات **دمج الشحنات** و **منضدة عمل دمج الشحنات**

قبل تقديم نُهج دمج الشحنات، كانت وظيفة الدمج موجودة كإعداد على مستوى المستودع. وكان يتم التعامل مع كافة الطلبات لكافة العملاء من مستودع واحد كما لو أن لديهم نفس متطلبات الدمج. تضيف نُهج دمج الشحنات دعمًا للسيناريوهات التي يكون فيها للمؤسسات المختلفة متطلبات مختلفة لدمج الشحنات.

تُستخدم الاستعلامات لتحديد نهج دمج الشحنات الذي ينطبق، ثم تحدد مجموعة من الحقول القابلة للتحرير كيفية تجميع بنود التحميل على مستوى الشحنة. (يشبه هذا النمط الأسلوب الذي تتبعه القوالب الموجية.) بالإضافة إلى ذلك، تمت إضافة خيار **دمج مع الشحنات الموجودة** إلى كل نهج. عند تشغيل هذا الخيار، فإن إجراء *الإصدار إلى مستودع* يبحث عن الشحنات المطلوب دمجها وذلك بالبحث ضمن الشحنات الموجودة التي تم إنشاؤها استنادا إلى نفس نهج الدمج. في هذه الحالة، سيقوم النظام بتحديد شحنة أو حمل موجود بدلا من إنشاء شحنة جديدة. مع ذلك، سيقوم النظام بالدمج فقط مع الشحنات الموجودة التي تكون حالتها *مفتوحة*؛ ولن يتم اعتبار الشحنات التي تنتمي إلى إصدار موجة بالحالة *تم إصدارها* أو أعلى منها كأهداف للدمج.

عندما توفرت نُهج دمج الشحنات، تم إخفاء إعداد **دمج الشحنة عند الإصدار إلى مستودع** الذي كان متاحًا في السابق في صفحة إعداد **المستودعات**. لمساعدتك في الانتقال إلى ميزة دمج الشحنات الجديدة، تعمل وظيفة في صفحة **نُهج دمج الشحنات** على إنشاء نهج افتراضي يتضمن الإعداد القديم تلقائيًا للمستودعات الموجودة. بعد إنشاء هذا النهج الافتراضي، لن تتم مراعات إعداد **دمج الشحنات عند الإصدار إلى المستودع** في صفحة إعداد **المستودعات** بعد ذلك.

يمكنك استخدام صفحة **إصدار إلى المستودع** لتجاوز يدويًا نهج الدمج القابل للتطبيق بنفس الطريقة التي يمكنك من خلالها تجاوز نهج التنفيذ.

يمكنك استخدام أمر **الإصدار \> الإصدار إلى المستودع** في صفحة **منضدة عمل تخطيط الحمل** لبناء الأحمال الصادرة التي تستند إلى أمر المبيعات وبنود أمر التحويل قبل القيام بالإصدار إلى المستودع. وتستخدم هذه التحميلات نفس منطق الدمج الذي تم تقديمه مع نُهج دمج الشحن.

يمكنك استخدام صفحة **منضدة عمل دمج الشحنات** لدمج الشحنات الموجودة التي لم يتم تأكيدها بعد ولكن تم إصدارها بالفعل إلى المستودع. تدعم هذه الوظيفة السيناريوهات التي يتم فيها تشغيل عملية الإصدار التلقائي، التي تتضمن عملية دمج شحنات خاص بها، لعدة مرات في اليوم، ولكن يتم تحديد عمليات الدمج الإضافية المحتملة يدويًا قبل اكتمال الشحن إلى شركات الشحن أثناء عملية التأكيد. تتيح لك هذه الوظيفة دمج الشحنات الصادرة التي تم إنشاؤها من أمر المبيعات أو بنود أمر التحويل في أي وقت بعد إصدار الشحنات إلى المستودع ولكن قبل تأكيدها.

تعمل صفحة **منضدة عمل دمج الشحنات** مثل منضدة عمل إنشاء الحمل، حيث يمكنك تقييم الشحنات المتعددة في نفس الوقت وتعيين أمر غير مدمج لشحنة معينة. يمكنك تطبيق قوالب دمج الشحنات لتقييم عمليات الدمج المقترحة عدة مرات وتأكيدها. يتم تنفيذ بعض القواعد لمنع الدمج غير المخول وتحذيرك بشأن الأخطاء المحتملة.

## <a name="overview-of-new-functionality"></a>نظرة عامة على الوظائف الجديدة

يصف هذا القسم الصفحات والأوامر والميزات التي تم تغييرها أو إضافتها عند تشغيل ميزة *نُهج دمج الشحنات* واستخدامها.

### <a name="shipment-consolidation-policies-page"></a>صفحة نُهج دمج الشحنات

يتم تمييز النُهج حسب نوع أمر العمل. يمثل نوع **أوامر المبيعات** شحنات _أمر المبيعات_ ، ويمثل نوع **أوامر التحويل** شحنات _إصدار التحويل_.

يحتوي كل نهج لدمج الشحنات على استعلام يحدد وقت تطبيقه ورقم التسلسل الذي يحدد أمر التنفيذ. يتم تطبيق الدمج لكل توليفة فريدة من الحقول المحددة. وتُستخدم معلمة إضافية تم توفيرها في الدمج مع الشحنات (المفتوحة) الموجودة. يتم تقييم النُهج وتطبيقها في كل مرة يتم فيها إنشاء شحنة جديدة (قبل معالجة الموجة).

إذا كان النهج يفتقر إلى أي حقول إلزامية، أو إذا كان يتضمن أي حقول محظورة، يتم وضع علامة على النهج باعتباره غير صالح في قسم **المحدد**. وتكون قوائم الحقول الإلزامية والمحظورة مرمزة بشكل ثابت ويمكن توسيعها.

توضح القائمة التالية الحقول الإلزامية. نظرا لتقسيم الشحنات دائمًا استنادًا إلى هذه الحقول، لا يمكنك تجميع الشحنات المتعددة التي تحتوي على قيم مختلفة لهذه الحقول.

- لأوامر التوريد:

    - **رقم الحساب:** _WHSShipmentTable.AccountNum_
    - **مستلم التسليم:** _WHSShipmentTable.DeliveryName_
    - **العنوان البريدي (RecId):** _WHSShipmentTable.DeliveryPostalAddress_
    - **المستودع:** _WHSShipmentTable.InventLocationId_

- لأوامر التحويل:

    - **من المستودع:** _InventTransferTable.InventLocationIdFrom_
    - **إلى المستودع:** _InventTransferTable.InventLocationIdTo_

لا تتوفر الحقول التالية لكافة أنواع المستندات. لا تكون هذه الحقول مرئية في واجهة المستخدم (UI) ، ولا يمكن استخدامها للدمج.

- **معرف الشحنة:** _WHSShipmentTable.ShipmentId_
- **الحالة:** _WHSShipmentTable.ShipmentStatus_
- **سياسة دمج الشحنات:** _WHSShipmentTable.ShipConsolidationPolicyName_
- **نوع حركة العمل:** _WHSShipmentTable.WorkTransType_
- **معرف الموجة:** _WHSShipmentTable.WaveId_
- **معرف الحمل:** _WHSShipmentTable.LoadId_
- **معرف الشحنة:** _WHSLoadLine.ShipmentId_
- **معرف الحمل:** _WHSLoadLine.LoadId_

افتراضيًا، عند إنشاء نهج، يتم استخدام مجموعة الحقول الإلزامية كحقول الدمج. ومع ذلك، يمكنك تعديل القائمة باستخدام أزرار سهم إلى اليسار و سهم إلى اليمين. (تشبه العملية عملية تحديد الأساليب في قوالب الموجة.)

سيتم استخدام القيم التي يحددها المستخدمون لهذه الحقول مع كافة الشحنات التي تم إنشاؤها حديثًا، أو ستتم إضافتها إلى شحنات موجودة أثناء الدمج مع تلك الشحنات. عندما يكون هناك شحنتين بنفس القيمة لحقل تم تحديده لدمج هذه الشحنات، يتم دمج الشحنات. ينطبق نفس المبدأ على كافة حقول الدمج اللاحقة التي تم تحديدها. في حالة اختلاف القيم، يتم التخلص من الشحنة الثانية وسيتم تحديدها لشحنة جديده. تتكون عملية الدمج المؤتمت من إنشاء كافة تجميعات القيم الفريدة لحقول دمج الشحنات ثم تعيين شحنة للمجموعة ذات الصلة.

يتم تجاهل الحقول غير المحددة أثناء عملية الدمج. إذا كان هناك شحنتين بقيم مختلفة لحقل غير محدد، يتم مسح الحقل (وهذا يعني، أنه يتم تعيينه على فارغ). إذا كانت الشحنتان لهما نفس القيمة لأحد الحقول غير المحددة، يتم ملء الحقل

تكون قائمة حقول الدمج (أي الحقول التي سيتم مسحها إذا كانت بقيم مختلفة) بترميز ثابت. تحتوي القائمة على كافة الحقول التي تمت تهيئتها من أمر مبيعات أو بند أمر تحويل عند إنشاء شحنة جديدة. بمعنى آخر، إذا لم يكن الحقل مهيئًا من أمر مبيعات أو بند أمر تحويل، سيتم تجاهله عند إضافة بيانات جديدة إلى شحنة موجودة.

### <a name="release-to-warehouse-page"></a>صفحة الإصدار إلى مستودع

- حقل جديد في الشبكة السفلية يُظهر نهج الدمج الذي تم تطبيقه.
- ويتيح لك زر جديد إما تحديد و/أو تجاوز نهج الدمج يدويًا.

### <a name="release-to-warehouse-command-on-the-load-planning-workbench-page"></a>أمر الإصدار إلى مستودع في صفحة منضدة عمل تخطيط الحمل

- تم تعديل المنطق بحيث يستخدم نُهج الدمج المطبقة.
- يتم الآن دمج الشحنات ضمن حمل واحد فقط.

### <a name="consolidate-shipments-page"></a>صفحة دمج الشحنات

- تم تغيير البحث عن الشحنات المتشابهة (أي، المرشحة للدمج) بحيث تستخدم الحقول المحددة في نهج دمج الشحنات.
- ويتم الآن تعيين الحقول التي لها قيم مختلفة في الشحنات المختلفة على فارغ. (في السابق، كان يتم استخدام القيم من الشحنة "الأساسية" المحددة.)

### <a name="shipment-consolidation-workbench-page"></a>صفحة منضدة عمل دمج الشحنات

- تعمل الوظيفة الجديدة على تكرار عملية الدمج اليدوي على نطاق أكبر.
- يمكنك الآن فتح هذه الصفحة من قائمة **الإصدار إلى المستودع** في وحدة **إدارة المستودعات**.
- تحلل الخوارزمية الشحنات الموجودة التي لم يتم شحنها بعد. بعد ذلك تقترح عملية الدمج، استنادا إلى الحقول المحددة في نُهج الدمج.

## <a name="comparison-of-functionality"></a>مقارنه الوظيفة

يلخص الجدول التالي كيفية عمل دمج الشحنات عند عدم استخدام نُهج دمج الشحنات وعند استخدامها.

| بدون نُهج دمج الشحنات | مع نُهج دمج الشحنات |
|---|----|
| غير قابل للتطبيق | يجب أن تشتمل الشحنات الخاصة بالمبيعات أو التحويل المحددة للدمج على نفس نهج الدمج الخاص مثل الشحنة التي يجري إنشائها، أو يجب تعيينها إلى شحنة مفتوحة (عند تشغيل الخيار **دمج مع الشحنات الموجودة**). |
| لا يبحث إجراء *الإصدار إلى المستودع* بين الشحنات الموجودة للعثور على شحنة للدمج. يتم استخدام الشحنات فقط التي تم إنشاؤها بواسطة مثيل حديث من إجراء *الإصدار إلى المستودع* للبحث عن شحنة للدمج. | إذا كان خيار **الدمج مع الشحنات الموجودة** قيد التشغيل لنهج دمج يتم استخدامه حاليًا، فإن إجراء *الإصدار إلى المستودع* سيبحث عن الشحنات الموجودة التي تم إنشاؤها بناء على نفس نهج الدمج للعثور على شحنة للدمج. ولذلك ، إذا كان لديك نهجان، فلن يتم مطلقا دمج الشحنة التي تم إنشاؤها استنادًا إلى النهج 2 مع الشحنة التي تم إنشاؤها استنادا إلى النهج 1. |
| غير قابل للتطبيق | إذا كانت قائمة حقول نهج الدمج فارغة، أو إذا لم يتم العثور على نهج، فسيتم إنشاء شحنة جديدة لكل أمر مبيعات أو بند أمر تحويل. |
| يحدد حقل الدمج التالي التوليفة الفريدة للقيم المستخدمة لدمج الشحنات *لبند تحويل*. (يتم تجاهل كافة الحقول الأخرى.)<ul><li>رقم الأمر (OrderNum)</li></ul> | تحدد حقول الدمج التالية التوليفة الفريدة للقيم المستخدمة لدمج الشحنات *لبند تحويل*. (يتم تجاهل كافة الحقول الأخرى.)<ul><li>رقم الأمر (OrderNum)</li><li>مستلم التسليم (DeliveryName)</li><li>العنوان البريدي (DeliveryPostalAddress)</li><li>كود بلد ISO (CountryRegionISOCode)</li><li>العنوان (Address)</li><li>الموقع (InventSiteId)</li><li>المستودع (InventLocationId)</li><li>شركة الشحن (CarrierCode)</li><li>خدمه الناقل (CarrierServiceCode)</li><li>وضع التسليم (ModeCode)</li><li>مجموعة الناقلين (CarrierGroupCode)</li><li>شروط التسليم (DlvTermId)</li></ul>وتعتبر هذه الحقول هي الحقول الوحيدة التي تتوفر وتتم تهيئتها عند إنشاء شحنة جديدة. |
| تحدد حقول الدمج التالية التوليفة الفريدة للقيم المستخدمة لدمج الشحنات *لبند مبيعات*. (يتم تجاهل كافة الحقول الأخرى.)<ul><li>رقم الأمر (OrderNum)</li><li>مرجع العميل (CustomerRef)</li><li>طلب العميل (CustomerReq)</li><li>شروط التسليم (DlvTermId)</li></ul> | تحدد حقول الدمج التالية التوليفة الفريدة للقيم المستخدمة لدمج الشحنات *لبند مبيعات*. (يتم تجاهل كافة الحقول الأخرى.)<ul><li>رقم الأمر (OrderNum)</li><li>رقم الحساب (AccountNum)</li><li>مستلم التسليم (DeliveryName)</li><li>العنوان البريدي (DeliveryPostalAddress)</li><li>كود بلد ISO (CountryRegionISOCode)</li><li>العنوان (Address)</li><li>الموقع (InventSiteId)</li><li>المستودع (InventLocationId)</li><li>شركة الشحن (CarrierCode)</li><li>خدمه الناقل (CarrierServiceCode)</li><li>وضع التسليم (ModeCode)</li><li>مجموعة الناقلين (CarrierGroupCode)</li><li>معرف الوسيط (BrokerCode)</li><li>الاتجاه (LoadDirection)</li><li>شروط التسليم (DlvTermId)</li><li>مرجع العميل (CustomerRef)</li><li>طلب العميل (CustomerReq)</li></ul>وتعتبر هذه الحقول هي الحقول الوحيدة التي تتوفر وتتم تهيئتها عند إنشاء شحنة جديدة. |
| غير قابل للتطبيق | حقول الدمج التالية إلزامية بالنسبة *لبند المبيعات* ولا يمكن إزالتها:<ul><li>رقم الحساب (AccountNum)</li><li>مستلم التسليم (DeliveryName)</li><li>العنوان البريدي (DeliveryPostalAddress)</li><li>المستودع (InventLocationId)</li></ul>افتراضيًا، سيتم تعيين هذه الحقول عند إنشاء نهج جديد. ولا يمكن إزالتها. |
| يستخدم إجراء *إصدار الأحمال إلى المستودع* في صفحة **منضدة عمل تخطيط الحمل** ترميزًا منفصلا خاصًا به لإنشاء الشحنات والموجات. | يتم تطبيق نُهج الشحن لتحديد الحقول التي يجب تقييمها للدمج. ويتم دمج الشحنات ضمن حمل واحد فقط. |
| عليك يدويًا تحديد **دمج الشحنات** في صفحة **كافة الشحنات** ثم تحديد الشحنة "الأساسية". سيقوم عامل التصفية باقتراح أية شحنات موجودة تشتمل على قيم مطابقة للعديد من الحقول الرئيسية. | عليك يدويًا تحديد **دمج الشحنات** في صفحة **كافة الشحنات** ثم تحديد الشحنة "الأساسية". سيقوم النظام باقتراح شحنات أخرى موجودة وذلك بمطابقة قيم العديد من الحقول الرئيسية التي تم تكوينها لنُهج دمج الشحنات ذات الصلة. |
| يمكنك استخدام الأمر **دمج الشحنات** في صفحة **كافة الشحنات** لشحنة واحدة فقط. | تساعدك صفحة **منضدة عمل دمج الشحنات** في العثور على مجموعة من الشحنات ليست بعد بالحالة مشحون. يتم تحليل هذه الشحنات بناء على العديد من الحقول الرئيسية التي تم تكوينها في نُهج دمج الشحنات. يتم اقتراح أي شحنات تتطابق فيها قيم هذه الحقول للدمج.<p>يمكنك الاحتفاظ يدويًا بالدمج عن طريق إزالة الشحنات من عمليات الدمج المقترحة و/أو إضافة الشحنات إليها. يمكن أن تحدث أنواع متعددة من الأخطاء، ولكن يمكنك تجاوز بعضها.</p> |
| **ملاحظه التصميم:** يعمل إجراء *الإصدار التلقائي لأوامر المبيعات إلى المستودع* على تقسيم بنود المبيعات إلى مجموعات. وتحتوي كل مجموعة على قيمة **ReleaseToWarehouseId** فريدة خاصة بها وتتم معالجتها على نحو منفصل بواسطة إجراء *الإصدار إلى المستودع*. يؤدي هذا الإجراء إلى إنشاء عمل جديد بغض النظر عن إعداد فاصل العمل. | **ملاحظه التصميم:** يقوم الإجراء *الإصدار التلقائي لأوامر المبيعات إلى المستودع* بتعيين نفس قيمة **ReleaseToWarehouseId** إلى جميع بنود المبيعات التي تتم معالجتها. وتتم معالجة كافة بنود المبيعات بواسطة إجراء *الإصدار إلى المستودع* في نفس الوقت. لضمان السلوك السابق، يجب عليك تكوين فاصل العمل لكل معرف شحنة. |

## <a name="additional-resources"></a>الموارد الإضافية

- [تكوين نُهج دمج الشحنات](configure-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]