---
title: تسلسل العمل الموجه بواسطة النظام
description: يوفر هذا الموضوع معلومات حول تسلسل العمل الموجه بواسطة النظام. تتيح لك هذه الوظيفة فرز وتصفية أوامر العمل التي يقدمها النظام للمستخدمين ليتم تنفيذها. وهي مفيدو في السيناريوهات التي يُطلب فيها معايير إضافية لتوجيه عملية الانتقاء من المستودع.
author: Mirzaab
manager: tfehr
ms.date: 07/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-07-03
ms.dyn365.ops.version: Release 10.0.7
ms.openlocfilehash: 2884c480d20090266f7cffb5e7d0aca58c1174f0
ms.sourcegitcommit: edb46dce498df42b09e8f5ad6de00f86c8022dfa
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 07/03/2020
ms.locfileid: "3534840"
---
# <a name="system-directed-work-sequencing"></a>تسلسل العمل الموجه بواسطة النظام

[!include [banner](../includes/banner.md)]

يتيح لك تسلسل العمل الموجه من النظام فرز وتصفية أوامر العمل التي يقدمها النظام للمستخدمين ليتم تنفيذها. وهي مفيدة في السيناريوهات التي تتطلب معايير إضافية (مثل وقت الشحن، أو منطقة الانتقاء، أو ملف تعريف الموقع، أو مجموعة من المعايير المتعددة) لتوجيه عملية الانتقاء من المستودع.

تقوم هذه الوظيفة بتوسيع وظيفة الانتقاء الموجه من النظام الحالية عن طريق إضافة أمر استعلام موجه من النظام؛ حيث يمكن للمستخدمين إعداد تسلسل واستعلام واحد أو أكثر والذي سيقوم بتقييم كافة أوامر العمل التي يتم إنشاؤها. لن يتم التقاط وتقديم إلا أوامر العمل التي تفي بالمعايير المحددة في إعداد عنصر قائمة جهاز المحمول.

لذلك، تتيح هذه الوظيفة تحسينًا إضافيًا لعمليات الانتقاء من المستودع حيث تحدد أوامر العمل التي تطابق المعايير المحددة، وتعيينها إلى عنصر قائمة الأجهزة المحمولة الصحيح، ثم تقدمها للعامل، استنادًا إلى مجموعة محددة من المهارات أو معدات انتقاء أو متطلبات أخرى.

> [!NOTE]
> في حالة الحاجة إلى معايير مختلفة، يجب استخدام عدة عناصر لقائمة الأجهزة المحمولة.

## <a name="turn-on-the-organization-wide-system-directed-work-sequencing-feature"></a>تشغيل ميزة تسلسل العمل الموجه بواسطة النظام على مستوى المؤسسة

قبل أن تتمكن من استخدام ميزة تسلسل العمل الموجه بواسطة النظام، يجب تشغيلها في النظام الخاص بك. بإمكان المسؤولين استخدام مساحة عمل [إدارة الميزات](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) للتحقق من حالة الميزة وتشغيلها إذا كانت مطلوبة. هناك، يتم إدراج الميزة بالطريقة التالية:

- **الوحدة:** *إدارة المستودعات*
- **اسم الميزة:** *تسلسل العمل الموجه بواسطة النظام على مستوى المؤسسة*

## <a name="setup"></a>الإعداد

### <a name="make-demo-data-available"></a>جعل بيانات العرض التوضيحي متاحة

للعمل في السيناريو باستخدام القيم المقدمة في هذا الموضوع يجب أن تعمل على نظام تم تثبيت البيانات القياسية التوضيحية عليه. بالإضافة إلى ذلك، يجب أن تحدد الكيان القانوني **USMF**. يستخدم السيناريو المستودع *51* من البيانات التوضيحية.

> [!IMPORTANT]
> قبل أن تقوم بإصدار الأوامر إلى المستودع، تأكد من أن مواقع الانتقاء لديها مخزون كاف لكافة الأصناف الموجودة على كافة الأوامر.
>
> يجب أن تدعم بيانات USMF الافتراضية هذا السيناريو. إذا كنت تستخدم البيانات التوضيحية، فراجع إعداد **توجيه الموقع** لمعرفة ما هي مواقع الانتقاء التي يتم استخدامها لانتقاء أمر المبيعات. إذا كان من الضروري تسوية المخزون، فيمكنك إنشاء حركات يدوية أو استخدام تزويد أو استخدام أي سير عمل آخر.

### <a name="set-up-a-mobile-device-menu-item"></a>إعداد عنصر قائمة الجهاز المحمول

1. انتقل إلى **إدارة المستودعات \> إعداد \> جهاز محمول \> عناصر قائمة الجهاز المحمول**.
1. في قائمة عناصر قائمة الجهاز المحمول، حدد **انتقاء المبيعات - النظام**. يجب أن يكون عنصر القائمة المطلوب موجودًا بالفعل. 
1. أكد الإعدادات التالية:

    - في علامة التبويب السريعة **عام**، يجب تعيين الحقل **موجه بواسطة** إلى *النظام الذي تم التوجيه إليه*.
    - يجب أن تعرض علامة التبويب السريعة **فئات العمل** الإعدادات التالية.

        | معرف فئة العمل | نوع أمر العمل |
        |---|---|
        | مبيعات | أوامر المبيعات |
        | انتقاء SO | أوامر المبيعات |

1. في جزء الإجراءات، حدد **استعلامات تسلسل العمل الموجه بواسطة النظام**.
1. حدد **تحرير**.
1. قم بحذف البند الموجود، ثم أكد الإجراء عن طريق تحديد **نعم**.
1. في جزء الإجراءات، حدد **جديد** لإنشاء بند.
1. في البند الجديد، قم بتعيين القيم التالية:

    - **رقم المسلسل:** *1*
    - **حقل الوصف:** *كمية العمل أقل من 20 وتنازلي*

1. حدد **حفظ**.
1. في جزء الإجراءات، حدد **تحرير استعلام**.
1. في علامة التبويب **صلات**، قم بتوسيع التسلسل الهرمي للصلات لإظهار جدول **بنود العمل**.
1. حدد صلة جدول **بنود العمل**.
1. حدد **إضافة انضمام جدول**.
1. في القائمة التي تظهر، ابحث عن الصف الذي يحتوي على الإعدادات التالية وقم بتحديده:

    - **وضع الصلة:** *n:1*
    - **العلاقة:** *المواقع (الموقع)*

1. حدد **تحديد**.

    تتم إضافة المواقع إلى صلة الجدول.

1. في علامة التبويب **الفرز**، حدد **إضافة** لإضافة سطر جديد.
1. في البند الجديد، قم بتعيين القيم التالية:

    - **الجدول:** *بنود العمل*
    - **الجدول المشتق:** *بنود العمل*
    - **الحقل:** *كمية العمل* (في مربع الرسالة التي تظهر، حدد **نعم** لإضافة الفرز إلى هذا الحقل.)
    - **اتجاه البحث:** *تنازلي*

1. حدد علامة التبويب **النطاق**.

    إذا كان يجب تضمين معايير عمل محددة في التسلسل، فيمكنك تحديدها في علامة تبويب **النطاق**. في هذا المثال، تريد تضمين العمل فقط الذي تكون كميته أقل من 20 وحدة (أقل وحدة قياس).

    لاحظ أن بعض البنود قد تم تضمينها بالفعل. يجب عدم إزالة هذه البنود.

1. حدد **إضافة** لإضافة سطر.
1. في البند الجديد، قم بتعيين القيم التالية:

    - **الجدول:** *بنود العمل*
    - **الجدول المشتق:** *بنود العمل*
    - **الحقل:** *كمية عمل المخزون*
    - **المعايير:** *\<20* (أقل من 20)

1. حدد **إضافة** لإضافة سطر آخر.
1. في البند الجديد، قم بتعيين القيم التالية:

    - **الجدول:** *بنود العمل*
    - **الجدول المشتق:** *بنود العمل*
    - **الحقل:** *نوع العمل*
    - **المعايير:** *انتقاء*

1. حدد **إضافة** لإضافة سطر آخر.
1. في البند الجديد، قم بتعيين القيم التالية:

    - **الجدول:** *المواقع*
    - **الجدول المشتق:** *المواقع*
    - **الحقل:** *معرف ملف الموقع*
    - **المعايير:** *!STAGE*

        > [!IMPORTANT]
        > تأكد من تضمين علامة التعجب (*!*) أمام *STAGE*.

1. حدد **موافق** لحفظ الاستعلام وإغلاقه.
1. حدد **حفظ**.
1. أغلق الصفحة للعودة إلى صفحة **عناصر قائمة الجهاز المحمول**.

> [!NOTE]
> يحدد هذا الإعداد المعايير التي سيتم استخدامها لتغذية العمل المؤهل بعنصر قائمة الجهاز المحمول. إذا قمت بإضافة المزيد من بنود المعايير إلى الاستعلام، فسيقوم النظام باستخدام بند الاستعلام الذي له رقم التسلسل الأقل أولا. بمعنى آخر، سيتم تقديم كافة الأعمال المؤهلة لرقم التسلسل 1 إلى المستخدم أولا، ثم كل أعمال رقم التسلسل 2. بالتالي، إذا كان من الضروري استخدام نطاق فرز معين معًا، فيجب تحديدهما في نفس استعلام تسلسل العمل الموجه بواسطة النظام.
>
> سيقوم هذا الإعداد بالتقاط أي عمل يحتوي على بند واحد على الأقل حيث تكون الكمية أقل من 20 وحدة. بالتالي، إذا كان العمل يحتوي على بند تكون فيه الكمية هي 20 وحدة بالضبط أو أكثر من 20 وحدة، فإنه سيكون صالحا، بشرط أن يحتوي أيضا على بند واحد على الأقل حيث تكون الكمية أقل من 20 وحدة.

### <a name="location-directives"></a>توجيهات الموقع

إذا كنت تستخدم بيانات شركة Contoso الافتراضية، فلن يتطلب الاستعلام عن الإجراء الموجة إلى الموقع القيام بأي تغييرات. مع ذلك، للتأكد من أن توجيهات المواقع ستقوم بالتقاط الأصناف الموجودة في أوامر المبيعات عند تطبيق الميزة في بيئة خلاف Contoso، قم بإنشاء توجيه موقع جديد. للتحقق من الإعدادات في بيئة العرض التوضيحي، اتبع الخطوات التالية.

1. انتقل إلى **إدارة المستودعات‬** \> **الإعداد** \> **موجهات الموقع**.
1. في الحقل **نوع أمر العمل**، حدد *أوامر المبيعات*.
1. حدد التوجيه الخاص بالموقع الذي يسمى *51 الانتقاء*.
1. في علامة التبويب السريعة **إجراءات توجيه الموقع**، حدد السطر الخاص بالإجراء **انتقاء**.
1. حدد **تحرير استعلام**فوق الشبكة.
1. راجع استعلام **النطاق**.

    1. ابحث عن البند الذي تم فيه تعيين حقل **الحقل** إلى *الموقع*.
    2. تأكد من أن حقل **المعايير** فارغ (أي أنه لا توجد قيود).

## <a name="scenario"></a>سيناريو

### <a name="create-sales-order-picking-work"></a>إنشاء عمل انتقاء لأمر المبيعات

قبل تشغيل الانتقاء الموجه بواسطة النظام، يجب إنشاء بعض العمل الصادر. في هذا السيناريو، ستقوم بإنشاء أربعة أوامر مبيعات تستند إلى استعلامات محددة لتسلسل العمل الموجه بواسطة النظام.

عليك حجز كميات مخزون لكل أمر مبيعات. بالتالي، لا يمكن سحب المخزون المحجوز من المستودع لأوامر أخرى إلا إذا تم إلغاء حجز المخزون أو جزء منه.

ستقوم بعد ذلك بإصدار كل أمر مبيعات للمستودع لإنشاء العمل الصادر.

#### <a name="sales-order-1"></a>أمر المبيعات 1

1. انتقل إلى **المبيعات والتسويق \> أوامر المبيعات \> كافة أوامر المبيعات‬**.
1. في جزء الإجراءات، حدد **جديد** لإنشاء أمر المبيعات 1.
1. في مربع الحوار **إنشاء أمر المبيعات**، قم بتعيين القيم التالية:

    - في قسم **العميل**، قم بتعيين حقل **حساب العميل** إلى *US-004*.
    - في القسم **عام**، قم بتعيين حقل **المستودع** إلى *51*.

1. حدد **موافق** لإغلاق مربع الحوار. قم بتدوين رقم أمر المبيعات.
1. أضف سطرًا إلى أمر المبيعات الجديد، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9200*
    - **الكمية:** *20*

1. في قائمة **المخزون** أعلى الشبكة، حدد **حجز**.
1. في صفحة **الحجز**، حدد **حجز لوط** لحجز المخزون.
1. أغلق صفحة **الحجز**.
1. في جزء الإجراءات، ضمن علامة التبويب **المستودع**، حدد **إصدار إلى المستودع‬** لإنشاء عمل للمستودع.

    سوف تستلم رسائل معلوماتية تعرض معرف الموجة ومعرفات الشحنة التي تم إنشاؤها لأمر المبيعات.

#### <a name="sales-order-2"></a>أمر المبيعات 2

1. في جزء الإجراءات، حدد **جديد** لإنشاء أمر المبيعات 2.
1. في مربع الحوار **إنشاء أمر المبيعات**، قم بتعيين القيم التالية:

    - **حساب العميل:** *US-007*
    - **المستودع:** *51*

1. حدد **موافق** لإغلاق مربع الحوار. قم بتدوين رقم أمر المبيعات.
1. أضف سطرًا إلى أمر المبيعات الجديد، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9200*
    - **الكمية:** *5*

1. حدد **إضافة سطر** لإضافة سطر ثان، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9201*
    - **الكمية:** *1*

1. احجز المخزون لكل من البندين.
1. قم بإصدار الأمر إلى المستودع.

#### <a name="sales-order-3"></a>أمر المبيعات 3

1. في جزء الإجراءات، حدد **جديد** لإنشاء أمر المبيعات 3.
1. في مربع الحوار **إنشاء أمر المبيعات**، قم بتعيين القيم التالية:

    - **حساب العميل:** *US-009*
    - **المستودع:** *51*

1. حدد **موافق** لإغلاق مربع الحوار. قم بتدوين رقم أمر المبيعات.
1. أضف سطرًا إلى أمر المبيعات الجديد، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9200*
    - **الكمية:** *7*

1. حدد **إضافة سطر** لإضافة سطر ثان، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9202*
    - **الكمية:** *8*

1. احجز المخزون لكل من البندين.
1. قم بإصدار الأمر إلى المستودع.

#### <a name="sales-order-4"></a>أمر المبيعات 4

1. في جزء الإجراءات، حدد **جديد** لإنشاء أمر المبيعات 4.
1. في مربع الحوار **إنشاء أمر المبيعات**، قم بتعيين القيم التالية:

    - **حساب العميل:** *US-010*
    - **المستودع:** *51*

1. حدد **موافق** لإغلاق مربع الحوار. قم بتدوين رقم أمر المبيعات.
1. أضف سطرًا إلى أمر المبيعات الجديد، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9200*
    - **الكمية:** *25*

1. حدد **إضافة سطر** لإضافة سطر ثان، ثم قم بتعيين القيم التالية:

    - **رقم الصنف:** *M9202*
    - **الكمية:** *10*

1. احجز المخزون لكل من البندين.
1. قم بإصدار الأمر إلى المستودع.

### <a name="get-work-ids-for-the-work-that-was-created"></a>الحصول على معرفات العمل للعمل الذي تم إنشاؤه

1. انتقل إلى **إدارة المستودعات \> العمل \> تفاصيل العمل**.
1. قم بالتصفية حسب حقل **المستودع** بحيث يتم عرض العمل الخاص بالمستودع *51*.
1. ينبغي أن يتم إنشاء أربع معرفات عمل. قم بتدوين معرف العمل لكل أمر مبيعات.

    | مُعرف أمر المبيعات | معرف العمل | كمية العمل |
    |---|---|---|
    | أمر المبيعات 1 | معرف العمل 1 | 20 وحدة |
    | أمر المبيعات 2 | معرف العمل 2 | 6 وحدات (مجموع كلا السطرين) |
    | أمر المبيعات 3 | معرف العمل 3 | 15 وحدة (مجموع كلا السطرين) |
    | أمر المبيعات 4 | معرف العمل 4 | 35 وحدة (مجموع كلا السطرين) |

قبل تشغيل سير العمل على الجهاز المحمول، تأكد من أن العمل الذي قمت بإنشائه للتو بالحالة *مفتوح* للمستودع *51* ونوع أمر العمل *أمر مبيعات*. خلاف ذلك، قد تختلف نتائج الاختبار، لأن الانتقاء المباشر من النظام سيتضمن كافة العمل المؤهل.

1. الانتقال إلى **إدارة المستودعات \> العمل \> الصادر \> عمل المبيعات المفتوح**.
1. في شبكة **عمل المبيعات المفتوح**، بالتصفية حسب حقل **المستودع** بحيث يتم فقط عرض العمل الخاص بالمستودع *51*.
1. تأكد من أنه تم عرض معرفات العمل الأربع التي قمت بإنشائها مسبقا فقط.
1. أغلق صفحة **العمل**.

### <a name="mobile-device-flow-execution"></a>تنفيذ سير عمل الجهاز المحمول

واستنادا إلى الإعداد، سيقوم النظام بتغذيه عمل المستخدم الذي تم فرزه من أعلى كمية لبند العمل إلى الأقل. ستكون الكمية في كل بند أقل من 20 وحدة.

تذكر أن هذا الإعداد سوف يلتقط أي عمل يحتوي على بند واحد على الأقل حيث تكون الكمية أقل من 20 وحدة. بالتالي، إذا كان العمل يحتوي على بند آخر حيث تكون الكمية 20 وحدة بالضبط أو أكثر من 20 وحدة، فسيكون صالحًا أيضًا.

#### <a name="mobile-app"></a>تطبيق الجوال

1. سجل الدخول إلى تطبيق المستودع كمستخدم في المستودع *51*.
1. انتقل إلى **الصادر \> انتقاء المبيعات - النظام**.

    يتم تقديم خطوة الانتقاء لمعرف العمل *4*. يتم تقديم معرف العمل هذا أولا بسبب إعداد أمر الاستعلام الموجه بواسطة النظام، حيث حددت أن يجب عمل تسلسل للعمل استنادًا إلى كمية بند العمل التنازلية.

1. أكمل الانتقاء والوضع المطلوب لإغلاق معرف العمل.

    بعد ذلك، يتم تقديم معرف العمل *3*. ويكون أحد بنود العمل الخاصة به تاليًا في التسلسل، استنادًا إلى كمية بند العمل.

1. أكمل الانتقاء والوضع لإغلاق معرف العمل.

    بعد ذلك، يتم تقديم معرف العمل *2*. يكون بند انتقاء العمل هذا تاليًا في التسلسل.

1. أكمل الانتقاء والوضع لإغلاق معرف العمل.

    ولا تظهر لك أي أعمال إضافية. معرف العمل *1* ليس مؤهلا لعنصر قائمة الجهاز المحمول هذا، نظرا لأن الاستعلام يحدد أن رؤوس العمل تعتبر فقط إذا كانت الكمية الموجودة في بنود العمل أقل من 20 وحدة.

## <a name="tips"></a>تلميحات

تكون استعلامات تسلسل العمل الموجه بواسطة النظام *شمولية*. ومن المهم أن تتذكر هذه الحقيقة لبعض الإعدادات. على سبيل المثال، عندما تريد فقط أن يعالج عنصر قائمة معين العمل الذي بالوحدة *وحدة*، وقمت بتحديد هذا القيد في علامة تبويب **النطاق** الخاص بالاستعلام. في هذه الحالة، سيتم تغذية كل العمل الذي يحتوي بند عمل واحد على الأقل فيه على وحد العمل *الوحدة* للعامل. بالتالي، قد يتضمن هذا العمل أيضا العمل الذي تحتوي بنود العمل به على وحدة عمل خلاف *الوحدة* (مثل *صندوق* أو *بالتة*). سيقوم الاستعلام باستبعاد فقط العمل الذي لم يتم تعيين وحدة العمل لأي بند عمل به على *الوحدة*.

بالتالي، في المثال من هذا السيناريو، يتم أيضًا التقاط معرف العمل *4* بواسطة الاستعلام. وعندما تم إنشاؤه، تمت إضافة بندين: واحد لـ 25 وحدة وآخر لـ 10 وحدات. ما يزال العمل مقدمًا إلى المستخدم، نظرا لأن بند عمل واحد الأقل يتضمن كمية أقل من 20 وحدة.

استنادا إلى السيناريو، يمكنك منع هذا السلوك باستخدام فواصل العمل.
