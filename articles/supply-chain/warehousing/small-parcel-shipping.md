---
title: شحن طرد صغير
description: يوفر هذا المقال معلومات حول ميزة شحن طرد صغير (SPS). تمكن هذه الميزة Microsoft Dynamics 365 Supply Chain Management من إرسال تفاصيل حول أحدي الحاويات المحزمة إلى الناقل، ثم تتلقي بطاقة الشحن وسعر الشحن ورقم التعقب مره أخرى من هذا الناقل.
author: Mirzaab
ms.date: 01/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: TMSRateEngine, TMSCarrier, CustTable, TMSShippingCarrierCustomerAccount, TMSSmallParcelShippingFeature
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-01-08
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: 6ccc9c795e2da121acf9c0809aef99a5f9d5889e
ms.sourcegitcommit: c98d55a4a6e27239ae6b317872332f01cbe8b875
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/02/2022
ms.locfileid: "9219707"
---
# <a name="small-parcel-shipping"></a>شحن طرد صغير

[!include [banner](../../includes/banner.md)]

تمكن ميزه الشحن الجزء الصغير (SPS) Microsoft Dynamics 365 Supply Chain Management من التعامل مع شركات الشحن مباشره عن طريق توفير اطار عمل للاتصال عبر واجات برمجه تطبيقات الناقل. تكون هذه الوظيفة مفيده عندما تقوم بشحن أوامر مبيعات فرديه عبر شركات شحن تجاريه بدلا من استخدام شحن الحاوية أو الشحن اقل من حمولة الشاحنة (LTL).

تتفاعل ميزه SPS مع شركه الشحن الخاصة بك من خلال *محرك السعر* المخصص. يجب ان تقوم المؤسسة الخاصة بك بتطوير محرك المعدل هذا في التعاون مع خدمه الحامل أو لوحه وصل الحامل لديك. يتيح محرك الأسعار لـ Supply Chain Management إرسال تفاصيل حول أحدي الحاويات المحزمة إلى الناقل الخاص بك، ثم تتلقي بطاقة الشحن وسعر الشحن ورقم التعقب مره أخرى من هذا الناقل.

تتم أضافه سعر الشحن الذي يتم إرجاعه إلى أمر التوريد المرتبط كمصاريف متنوعة. ويمكن بعد ذلك طباعه تسميه الشحن التي تم إرجاعها باستخدام Zebra Programming Language (ZPL) وتطبيقها علي الشحنة. سيقوم الناقل بفحص تسميه الشحن هذه عندما يقوم بانتقاء الحزم الموجودة في المستودع.

## <a name="prepare-your-system-to-support-sps"></a>إعداد النظام لدعم SPS

قبل البدء في استخدام وظيفة SPS، يجب تشغيل ميزه SPS في أداره الميزات وأضافه محرك السعر الخاص بك وإعداد **أداره النقل** و **الوحدات النمطية** لأداره المستودعات لدعمها.

### <a name="turn-on-the-sps-feature"></a>تشغيل ميزة SPS

قبل أن تتمكن من استخدام ميزة SPS، يجب تشغيلها في النظام. يمكن للمسؤولين استخدام إعدادات [إدارة الميزات](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) للتحقق من حالة الميزة وتشغيلها إذا كانت مطلوبة. هناك، يتم إدراج الميزة بالطريقة التالية:

- **الوحدة النمطية:** *إدارة النقل*
- **اسم الميزة:** *شحن طرد صغير*

### <a name="deploy-and-set-up-rate-engines"></a>توزيع وإعداد محركات السعر

لا تتضمن Supply Chain Management اي محرك أسعار. يجب الحصول علي إيه محركات أسعار تحتاجها أو إنشائها، ثم اضافتها إلى النظام الخاص بك. علي الرغم من ذلك ، توفر Microsoft محرك الأسعار التجريبي الذي يمكنك استخدامه لاجراء الاختبار.

#### <a name="download-and-deploy-the-demo-rate-engine"></a>تنزيل محرك الأسعار التجريبي ونشره

اتبع الخطوات التالية للحصول علي محرك الأسعار التجريبي.

1. في GitHub، قم بتنزيل [مكتبه الارتباط الحيوي (DLL) لمحرك الأسعار التجريبي](https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/tree/master/SCM/SPS).
1. علي خادم Supply Chain Management، قم بحفظ DLL في المجلد **\\AOSService\\PackagesLocalDirectory\\ApplicationSuite\\bin**.

#### <a name="create-and-deploy-functional-rate-engines"></a>إنشاء وتوزيع محركات الأسعار الوظيفية

للحصول علي معلومات حول كيفيه إنشاء ونشر محركات الأسعار الوظيفية بحيث يمكن استخدامها في بيئة الإنتاج أو الاختبار، راجع المقالات التالية:

- [إنشاء محرك إدارة نقل جديد](../transportation/create-new-transportation-management-engine.md)
- [إعداد محركات إدارة النقل](/dynamicsax-2012/appuser-itpro/set-up-transportation-management-engines)

لمزيد من المعلومات حول كيفيه إنشاء محرك أسعار SPS، راجع نشر المدونة التالي: [شحن طرد صغير: كيفيه رفع وظائف شحن الطرد الصغير في Microsoft Dynamics365](https://hub.bhsolutions.com/creating-a-mock-parcel-engine-in-d365?submissionGuid=46a1fccf-80b0-4b70-a6a0-4bf45a8756b5).

#### <a name="set-up-a-rate-engine-in-supply-chain-management"></a>إعداد محرك السعر في Supply Chain Management

بعد إنشاء ونشر محرك السعر لـ SPS، اتبع الخطوات التالية لإعدادها.

1. انتقل إلى **إدارة النقل  \> إعداد \> المحركات \> محرك السعر الرئيسي**.
1. في جزء الإجراءات، حدد **جديد** لإضافة صف إلى الشبكة.
1. في الصف الجديد، عيّن الحقول التالية:

    - **محرك الأسعار** – ادخل اسما فريدا لمحرك السعر. إذا كنت تستخدم محرك السعر التجريبي، فادخل *محرك السعر التجريبي*.
    - **الاسم** - ادخل وصفا قصيرا لمحرك السعر. إذا كنت تستخدم محرك السعر التجريبي، فادخل *محرك السعر التجريبي*.
    - **معرف بيانات تعريف التصنيف** - حدد الأساس الذي ينبغي استخدامه لحساب سعر الصرف الخاص بك. علي سبيل المثال، قد يتم حساب السعر بناء علي المسافة. إذا كنت تستخدم محرك السعر التجريبي، فيمكنك ترك هذا الحقل فارغا.
    - **تجميع المحرك** – ادخل اسم ملف حزمه DLL التي قمت بنشرها. إذا كنت تستخدم محرك السعر التجريبي، فادخل *TMSSmallParcelShippingEngine.dll*.
    - **فئة المحرك** – ادخل اسم الفئة التي تم تاسيسها لمحرك السعر الخاص بك. إذا كنت تستخدم محرك السعر التجريبي، فادخل *TMSSmallParcelShippingEngine.SmallParcelShippingRateEngine*.

## <a name="example-scenario"></a>سيناريو كمثال

يوضح هذا المثال كيفيه إعداد SPS واستخدامها بعد إعداد النظام كما هو موضح سابقا في هذا المقال. يستخدم هذا السيناريو محرك معدل السعر التجريبي المذكور مسبقا.

### <a name="make-demo-data-available"></a>جعل بيانات العرض التوضيحي متاحة

للعمل بهذا السيناريو باستخدام السجلات والقيم التجريبية المحددة هنا، يجب أن تكون في نظام تم فيه تثبيت [بيانات العرض التوضيحي](../../fin-ops-core/fin-ops/get-started/demo-data.md) القياسية. بالإضافة إلى ذلك، يجب أن تحدد الكيان القانوني **USMF** قبل البدء.

### <a name="set-up-the-scenario"></a>إعداد السيناريو

بالنسبة لسيناريو هذا المثال، يجب ان يكون لديك ناقل تجريبي ومجموعه ناقل ونهج تعبئة وملف تعريف التعبئة. توضح الأقسام الفرعية التالية كيفيه إعداد السجلات المطلوبة للسيناريو. في سيناريو الإنتاج، تمثل عمليه الإعداد عاده العملية الموضحة هنا. ومع ذلك، سيتم تعيين قيم مختلفة.

#### <a name="set-up-carriers"></a>إعداد شركات الشحن

اتبع هذه الخطوات لإعداد ناقل.

1. انتقل إلى **إدارة النقل \> إعداد \> شركات النقل‬‬ \> شركات الشحن‬‬**.
1. في جزء الإجراءات، حدد **جديد** لإضافة ناقل.
1. في الرأس، عيّن القيم التالية:

    - **شركة الشحن:** *الناقل التجريبي*
    - **الاسم:** *الناقل التجريبي*
    - **الوضع:** *الأرض*

1. في علامة التبويب السريعة **نظرة عامة**، عيّن القيم التالية:

    - **تنشيط واجهات شركات الشحن:** *نعم*
    - **تنشيط تسعير الناقل:** *نعم*

1. في علامة التبويب السريعة **الخدمات**، حدد **جديد** لإضافة خدمة إلى الشبكة.
1. قم بتعيين القيم التالية للخدمة الجديدة:

    - **خدمه الناقل:** *خدمة الناقل التجريبية*
    - **الاسم:** *خدمة الناقل التجريبي*
    - **وسيلة النقل:** *الجو*

    ادخل قيمًا إجباريه لكافة الحقول الأخرى حسب الحاجة. (عند حفظ سجل شركه الشحن الجديد، سيتم إنشاء وضع جديد للتسليم، وسيتم تعيين حقل  **وضع التسليم** بشكل تلقائي.)

1. في علامة التبويب السريعة **ملفات تعريف التسعير**، حدد **جديد** لإنشاء ملف تعريف تسعير إلى الشبكة.
1. قم بتعيين القيم التالية لملف التعريف الجديد:

    - **ملف تعريف الأسعار:** *خدمه الناقل التجريبي*
    - **الاسم:** *خدمة الناقل التجريبي*
    - **محرك الأسعار:** *محرك السعر التجريبي*

    ادخل قيمًا إجباريه لكافة الحقول الأخرى حسب الحاجة.

1. في جزء الإجراءات، حدد **حفظ**.

للحصول على مزيد من المعلومات حول كيفية الناقل، راجع [إعداد شركات الشحن](../transportation/tasks/set-up-shipping-carriers.md).

#### <a name="set-up-carrier-service-accounts"></a>إعداد حسابات خدمه الناقل

اتبع هذه الخطوات لإعداد خدمة الناقل.

1. انتقل إلى **إدارة النقل \> إعداد \> التسعير \> حساب خدمة الناقل**.
1. في جزء الإجراءات، حدد **جديد** لإضافة حساب خدمة الناقل.
1. قم بتعيين القيم التالية للحساب الجديد:

    - **شركة الشحن:** *الناقل التجريبي*
    - **خدمه الناقل:** *خدمة الناقل التجريبية*
    - **رقم حساب عميل الناقل:** رقم حساب عميل الناقل المستخدم للتحقق من الاتصال ومصادقته علي شركه الشحن. سيقوم الناقل بتوفير هذه القيمة. إذا كنت تستخدم الخدمه التجريبية، يمكنك إدخال قيمه عشوائية.
    - **الموقع:** *6*
    - **المستودع:** *62*

    > [!NOTE]
    > وغالبا ما تكون قيمه **رقم حساب عميل الناقل** هي القيمة الوحيدة المطلوبة لمصادقه الاتصال. ومع ذلك، إذا كان الناقل الخاص بك يتطلب معلمات مصادقه اضافيه، فيجب علي مؤسستك تخصيص هذه الصفحة لأضافه الحقول الإضافية حسب الحاجة.

#### <a name="set-up-a-container-packing-policy"></a>إعداد سياسة تعبئة الحاويات

اتبع هذه الخطوات لإعداد سياسة تعبئة حاوية.

1. إذا لم تكن قد قمت بالفعل بإعداد تعريف طابعه ZPL، فاستخدم تطبيق عامل توجيه المستند لإعداده. لمزيد من المعلومات، راجع [نظره عامه حول طباعه المستند](../../fin-ops-core/dev-itpro/analytics/print-documents.md) والمقالات ذات الصله.
1. انتقل إلى **إدارة المستودعات \> الإعداد \> الحاويات \> سياسات تعبئة الحاويات**.
1. في جزء الإجراءات، حدد **جديد** لإضافة سياسة تعبئة الحاويات.
1. في رأس السياسة الجديدة، عيِّن القيم التالية:

    - **سياسة تعبئة الحاوية:** *سياسة التعبئة التجريبية*
    - **الوصف:** أدخل وصفًا للسياسة.

1. في علامة التبويب السريعة **نظرة عامة**، عيّن القيم التالية:

    - **المستودع:** *62*
    - **الموقع الافتراضي للشحنة النهائية:** *Baydoor*
    - **وحدة الوزن:** *كجم*
    - **سياسة إغلاق الحاوية:** *الإصدار التلقائي*
    - **سياسة إصدار الحاوية:** *الإتاحة في موقع الشحن النهائي*

1. في علامة التبويب السريعة **بيان الحاوية**، يمكنك تعيين القيم التالية:

    - **البيان التلقائي عند إغلاق الحاوية:** *نعم*
    - **متطلبات البيان الخاصة بالحاوية:** *أداره النقل*
    - **طباعه محتويات الحاوية:** *لا*

1. في علامة التبويب السريعة **طباعة بطاقة الناقل**، يمكنك تعيين القيم التالية:

    - **طباعه بطاقة حاويه الشحن:** *دائما*
    - **اسم الطابعة**: اسم الطابعة ZPL التي ينبغي عليها طباعه بطاقات الشحن

#### <a name="set-up-a-packing-profile"></a>إعداد ملف تعريف التعبئة

لإعداد ملف تعريف التعبئة، اتبع هذه الخطوات:

1. انتقل إلى **إدارة المستودعات \> الإعداد \> التعبئة \> ملفات تعريف التعبئة**.
1. في جزء الإجراءات، حدد **جديد** لإضافة ملف تعريف التعبئة إلى الشبكة.
1. قم بتعيين القيم التالية لملف التعريف الجديد:

    - **معرف ملف تعريف التعبئة:** *ملف تعريف التعبئة التوضيحية*
    - **الوصف:** أدخل وصفًا لملف التعريف
    - **سياسة تعبئة الحاوية:** *سياسة التعبئة التجريبية*
    - **وضع معرف الحاوية:** *تلقائي*
    - **نوع الحاوية:** *صندوق صغير*

#### <a name="set-up-a-customer-to-use-the-sps-carrier"></a>إعداد عميل لاستخدام ناقل SPS

اتبع هذه الخطوات لإعداد عميل بحيث يمكنه استخدام شركه الشحن التي قمت بإنشاءها.

1. انتقل إلى **الحسابات المدينة \> العملاء \> جميع العملاء**.
1. في الشبكة، ابحث عن العميل *US-027* وحدده.
1. في جزء الإجراءات، في علامة تبويب **عام** في مجموعة **إعداد‬**، حدد **حسابات عميل الناقل**.
1. في الصفحة **حسابات عميل الناقل**، في جزء الاجراء، حدد **جديد** لأضافه حساب إلى الشبكة.
1. قم بتعيين القيم التالية للحساب الجديد:

    - **شركة الشحن:** *الناقل التجريبي*
    - **رقم حساب عميل الناقل:** *12345* (القيمة غير هامه لهذا السيناريو، ولكن سيتم الاشاره اليها في القسم التالي).

### <a name="go-through-the-example-scenario"></a>الانتقال عبر مثال السيناريو

بعد إعداد كافة عينات البيانات كما هو موضح في المقطع السابق، ستكون جاهزا للانتقال عبر سيناريو المثال.

#### <a name="create-a-sales-order-and-process-the-work"></a>إنشاء أمر المبيعات ومعالجة العمل

لإنشاء أمر مبيعات، اتبع هذه الخطوات.

1. انتقل إلى **المبيعات والتسويق \> أوامر المبيعات \> كافة أوامر المبيعات‬**.
1. حدد **جديد** لإنشاء أمر مبيعات.
1. في مربع الحوار **إنشاء أمر مبيعات**، قم بتعيين **حساب العميل** على *US-027*.
1. حدد **موافق** لإنشاء أمر مبيعات وإغلاق مربع الحوار.
1. يتم فتح أمر المبيعات الجديد. في علامة التبويب السريعة **رأس أمر التوريد**، قم بتعيين حقل **رقم حساب عميل الناقل** إلى القيمة التي قمت بتحديدها لهذا العميل في وقت سابق ( *12345*).
1. في قسم **بنود أمر التوريد**، قم باضافه بند مبيعات وقم بتعيين القيم التالية له:

    - **رقم الصنف:** *A0002*
    - **الكمية:** *1*
    - **الموقع:** *6*
    - **المستودع:** *62*

1. قم بالتبديل إلى طريقة عرض **الرأس**.
1. في علامة التبويب السريعة **التسليم**، عيّن القيم التالية:

    - **شركة الشحن:** *الناقل التجريبي*
    - **خدمه الناقل:** *خدمة الناقل التجريبية*

1. قم بالتبديل مرة أخرى إلى طريقة عرض **البنود**. إذا تمت مطالبتك بتحديث وضع التسليم لبنود المبيعات، فحدد **نعم**.
1. في القسم **بنود أمر التوريد**، حدد بند الأمر الذي قمت بإعداده سابقا ، ثم حدد **المخزون\> حجز**.
1. في صفحة **الحجز**، حدد **حجز لوط** لحجز الكمية الكاملة للبند المحدد في المستودع.
1. قم بإغلاق صفحة **الحجز** للعودة إلى أمر المبيعات.
1. في جزء الإجراءات، ضمن علامة التبويب **المستودع**، حدد **إصدار إلى المستودع‬**.

    يتم إنشاء العمل لنقل الأصناف من موقع الانتقاء إلى محطه التعبئة.

1. في **بنود أمر المبيعات**، حدد **المستودع \> تفاصيل الشحن**.
1. في الصفحة **تفاصيل الشحنة**، قم بتسجيل معرف الشحنة. ستحتاج اليه عند حزم الحزمة الخاصة بالشحنة في محطه التعبئة.
1. قم بإغلاق صفحة **تفاصيل الشحن** للعودة إلى أمر المبيعات.
1. قم بتدوين رقم أمر التوريد ، ثم انتقل إلى **أداره المستودعات\>عمل\> كل العمل**.
1. استخدم رقم أمر التوريد للبحث عن العمل الذي تم إنشاؤه للأمر وتحديده.
1. في جزء "الإجراءات"، على علامة تبويب **عمل**، حدد **إكمال العمل**.
1. في الصفحة **إكمال العمل**، في الحقل **معرف المستخدم**، حدد معرف المستخدم. بعد ذلك، في جزء الإجراءات، حدد **التحقق من صحة العمل**.
1. إذا تجاوز العمل عملية التحقق من الصحة، حدد **إكمال العمل** في جزء الإجراءات.

    يتم وضع علامة علي العمل كمكتمل لمحاكاة عمليه نقل الأصناف إلى محطه التعبئة.

#### <a name="pack-the-shipment"></a>تعبئة الشحنة.

لتعبئة الشحنة، اتبع هذه الخطوات.

1. انتقل إلى **إداة المستودعات \> إعداد \> العامل**، وتاكد من ان حساب المستخدم الخاص بك مقترن بحساب عامل لأداره المستودعات.
1. انتقل إلى **إدارة المستودعات \> الانتقاء والتعبئة في حاويات \> التعبئة**.
1. في مربع الحوار **تحديد محطة التعبئة**، قم بتعيين القيم التالية:

    - **الموقع:** *6*
    - **المستودع:** *62*
    - **الموقع:** *التعبئة*
    - **معرف ملف تعريف التعبئة:** *ملف تعريف التعبئة التوضيحية*

1. حدد **موافق**.
1. تظهر الصفحة **التعبئة‬**. في سيناريو الإنتاج، يقوم العامل بفحص لوحه الترخيص أو معرف الشحنة. ومع ذلك ، بالنسبة لهذا السيناريو ، افتح الصفحة **كافة الشحنات**، وابحث عن رقم الشحنة الخاص بالشحنة التي قمت بإنشاءها. ثم ادخل هذه القيمة في حقل **لوحه الترخيص أو الشحن** في الصفحة **الحزمة**. بدلاً من ذلك، ادخل معرف الشحنة الذي قمت بتسجيله في وقت سابق.
1. في جزء الإجراءات، حدد **حاوية جديدة**.
1. يظهر مربع الحوار الذي يظهر تفاصيل حول الحاوية الجديدة. اترك القيم الافتراضية، ثم حدد **موافق**.
1. في الصفحة **الحزمة**، علي علامة التبويب السريعة **تعبئة الصنف**، في الحقل **المعرف**، حدد *A0002* لحزم هذا الصنف. تتم أضافه الصنف إلى الحاوية.
1. في جزء الإجراءات‬، حدد **حاويات للشحنة**.

    تحتوي الصفحة **الحاوية للشحنة** التي تظهر علي صف للحاويه التي قمت بإنشاءها. ومع ذلك، فان الحقل **معرف بيان الحاوية** الموجود في هذا الصف فارغ حاليا، لأنك لم تتلقي بعد عنوان الشحن ورقم التعقب من شركه الشحن.

1. في جزء الإجراءات، حدد **إغلاق الحاوية**.
1. في مربع الحوار **إغلاق الحاوية**، قم بتعيين الحقل **الإجمالي الوزن** إلى *1 كجم*، ثم حدد **موافق**.

    ينبغي الآن طباعه بطاقة الشحن علي طابعه ZPL التي قمت بتحديدها مسبقا. يجب أن تشبه المثال التالي.

    ![مثال لتسمية الشحن.](media/sps-label-example.png "مثال لتسميه الشحن")

1. لاحظ انه تمت أضافه **معرف بيان الحاوية** و **إجمالي الشحن** باعتبارها مستلمه من الناقل.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]