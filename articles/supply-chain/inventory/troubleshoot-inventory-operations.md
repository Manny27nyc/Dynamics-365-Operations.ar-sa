---
title: استكشاف أخطاء عمليات المخزون وإصلاحها
description: يوضح هذا الموضوع كيفية إصلاح المشكلات التي قد تواجهها أثناء العمل مع عمليات المخزون.
author: sherry-zheng
ms.date: 12/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: chuzheng
ms.search.validFrom: 2020-12-03
ms.dyn365.ops.version: Release 10.0.16
ms.openlocfilehash: 1198bc12830afa2ae2c5eb8e77413a9d8ef70c625823f676ab1965ff250c2443
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/05/2021
ms.locfileid: "6730369"
---
# <a name="troubleshoot-inventory-operations"></a>استكشاف أخطاء عمليات المخزون وإصلاحها

[!include [banner](../includes/banner.md)]

يوضح هذا الموضوع كيفية إصلاح المشكلات التي قد تواجهها أثناء العمل مع عمليات المخزون.

## <a name="i-cant-find-the-workflow-drop-down-dialog-box-for-inventory-journals"></a>تعذر العثور علي مربع الحوار المنسدل "سير العمل" لدفاتر يوميه المخزون.

### <a name="issue-description"></a>وصف المشكلة

لا يمكنك العثور علي مربع الحوار المنسدل **سير العمل** في صفحه دفتر اليومية، أو ان عمليات سير العمل ذات الصلة غير متوفرة.

يمكن ان تحدث هذه المشكلة لثلاثه أسباب، كما هو موضح في الأقسام الفرعية التالية.

### <a name="issue-resolution-1"></a>حل المشكلة 1

إذا كانت المشكلة تنطبق علي كافة المستخدمين ، فقد تحدث لأنه لم يتم تعيين سير عمل الاعتماد إلى اسم دفتر اليومية. لإصلاح المشكلة، اتبع هذه الخطوات.

1. انتقل إلى **إدارة المخزون &gt; إعداد &gt; أسماء دفاتر اليومية &gt; المخزون**.
1. في جزء القائمة، حدد اسم دفتر يومية لفتح صفحة الإعدادات الخاصة به.
1. في علامة التبويب السريعة **عام**، عيّن الخيار **سير عمل الاعتماد** إلى *نعم*. انقر فوق **نعم** إذا تمت مطالبتك بتأكيد التغيير.
1. في الحقل **سير العمل**، حدد سير العمل الذي تريد استخدامه لاسم دفتر اليومية المحدد.

### <a name="issue-resolution-2"></a>حل المشكلة 2

إذا كان سير العمل الخاص بك يستخدم تعليمه برمجيه مخصصه، فقد تحدث مشكلات بعد ترقيه النظام. علي سبيل المثال، في سير عمل دفتر اليومية ، قد يكون الزر **إرسال** رماديا التالي لا يمكنك تحديده لاعتماد الإرسال.

إذا كان الزر **إرسال** رماديا، فمن المحتمل ان يكون سير العمل قد تم تخصيصه، مما يعني انه قد تم توسيع طريقه سير العمل `canSubmitToWorkflow()` الموجود في`FormDataUtil`. لحل هذه المشكلة، قم بتغيير الطريقة التي تقوم بها بتوسيع أسلوب `canSubmitToWorkflow()` لاستخدام البنية في المثال التالي.

```xpp
[ExtensionOf(formStr(InventJournalMovement))]
public final class InventJournalMovement_extension
{
    public boolean canSubmitToWorkflow()
    {
        boolean ret = YourLogicOfCanSubmitToWorkflow();

        return ret;
    }
}
```

### <a name="issue-resolution-3"></a>حل المشكلة 3

إذا كانت المشكلة تنطبق فقط علي عدد قليل من المستخدمين المحددين، فقد لا يكون لدي هؤلاء المستخدمين امتيازات الأمان المطلوبة لتشغيل عمليات سير العمل في دفاتر يوميه المخزون. تحقق من ان كل مستخدم متاثر يتمتع بامتياز أمان *سير عمل دفتر يوميه المخزون*. افتراضيا، يتم تعيين هذا الامتياز لرسم جمركي له نفس الاسم، ويتم تطبيق تلك الرسوم علي *ادوار المستودع* وعامل *أداره المستودع*.

## <a name="my-inventory-journal-remains-in-system-locked-status-and-the-workflow-batch-job-doesnt-work"></a>يظل دفتر يوميه المخزون الخاص بي في حاله تامين النظام، ولا تعمل وظيفة مجموعه سير العمل.

### <a name="issue-description"></a>وصف المشكلة

تم تامين أحد دفاتر يوميه المخزون من خلال عمليه أخرى ولم يتم إصدارها. علي سبيل المثال، في حاله حدوث خطا غير معروف اثناء الترحيل (الذي يعد عمليه تامين النظام)، فقد يظل دفتر اليومية في حاله تامين النظام. في هذه الحالة، سيقوم معالج عنصر عمل سير العمل بطرح خطا اثناء تامين التحقق من الصحة.

### <a name="issue-resolution"></a>حل المشكلة

قم بتسجيل الدخول إلى مثيل SQL Server لـ Supply Chain Management، وتحقق ما إذا كان قد تم تعيين **InventJournalTable.SystemBlocked** إلى *1*. وإذا كان الأمر كذلك، فتاكد من ان الدفتر لا يجب ان يكون في حاله تامين، ثم قم باعاده تعيين **InventJournalTable.SystemBlocked** إلى القيمة *0*.

## <a name="my-inventory-journal-workflow-is-never-completed-and-the-journal-cant-be-edited-or-posted"></a>لا يتم مطلقا إكمال سير عمل دفتر يوميه المخزون، ولا يمكن تحرير دفتر اليومية أو ترحيله.

### <a name="issue-description"></a>وصف المشكلة

بعد إرسال سير عمل اعتماد دفتر اليومية، تتوقف معالجه سير العمل عن الاستجابة، ولا يمكنك تحرير دفاتر اليومية أو معالجتها.

### <a name="issue-resolution"></a>حل المشكلة

هناك العديد من الأسباب التي قد لا يتم إكمال معالجه سير العمل فيها. التحقق من المشكلات التالية:

- انتقل إلى **أداره المخزون &gt; اعداد &gt; عمليات سير عمل الاداره**، وقم بمراجعه تكوين سير العمل المتاثر. لمزيد من المعلومات ، راجع [عمليات سير عمل اعتماد دفتر يوميه المخزون](inventory-journal-workflow.md).
- قد يواجه سير العمل استثناءا أو خطا. قم بمراجعه سجل عنصر العمل الخاص بسير العمل المتاثر لمعرفه ما إذا كان يتضمن خطا في التطبيق الذي ينهي سير العمل.
- يمكن تحديث دفتر يوميه المخزون أو تحريره فقط في حاله اعتماده. وإذا كان الاسترجاع نشطا، فيمكنك محاولة استدعاء دفتر اليومية. قد يتم إيقاف تنفيذ وظيفة مجموعه سير العمل مؤقتا لأسباب متعددة. قد تحدث بعض هذه الأسباب بسبب مشكله اطار عمل سير العمل.

## <a name="inventory-journal-workflow-conditions-apply-only-at-the-journal-level-not-at-the-line-level"></a>تنطبق حالات سير عمل دفتر يوميه المخزون فقط علي مستوي دفتر اليومية، وليس عند مستوي البند

### <a name="issue-description"></a>وصف المشكلة

قد تواجهك هذه المشكلة في حاله قيامك، علي سبيل المثال، بمحاولة اعداد شرط سير عمل "دفتر يوميه المخزون" علي مبلغ التكلفة. قم باعداد الشرط بحيث يتم تشغيل الخطوة 1 فقط عندما يكون مبلغ التكلفة اقل من 100. قم باعداد شرط آخر بحيث يتم تشغيل الخطوة 2 فقط عندما يكون مبلغ التكلفة أكثر من أو يساوي 100. وبعد ذلك، عند تشغيل سير العمل، تظهر محفوظات سير العمل بندا واحدا فقط، ويتم دائما تقييم الشرط الأول علي انه *صواب*، بغض النظر عن القيمة التي يتم إرسالها.

### <a name="issue-workaround"></a>حل المشكلة

في الإصدار الحالي، تنطبق شروط سير عمل دفتر يوميه المخزون فقط علي مستوي دفتر اليومية، وليس عند مستوي البند. يتم هذا السلوك بسبب التصميم. نوصي بتعيين معايير الشرط فقط في السمات علي مستوي دفتر اليومية.

## <a name="the-filter-pane-on-the-on-hand-list-page-doesnt-filter-results-as-i-expect"></a>لا يقوم جزء التصفية الموجود في الصفحة القائمة الفعلية بتصفية النتائج التي أتوقعها.

### <a name="issue-description"></a>وصف المشكلة

لا تقوم عوامل التصفية في جزء التصفية الموجود في الصفحة **القائمة الفعلية**  بتصفية النتائج كما تتوقعها.

### <a name="issue-resolution"></a>حل المشكلة

يتم هذا السلوك بسبب التصميم.

يتم تجميع صفحة  **قائمة المخزون الفعلي**  من جدول المخزون الفعلي الذي يتضمن جميع الأبعاد المتوفرة. ومع ذلك، القائمة الموجودة في هذه الصفحة هي ملخص. وبالتالي، فقد تجمع الصفوف من الجدول المصدر عن طريق تجميع القيم وفقًا للأبعاد المعروضة.

عوامل التصفية التي تم إعدادها في جزء عوامل التصفية على الجدول المصدر، وليس على القائمة المجمعة. قد يؤدي هذا السلوك في بعض الأحيان إلى ظهور نتائج غير متوقعه، كما هو موضح في [الامثله التالية](inventory-on-hand-list.md#examples).

ومع ذلك، فإن  [عوامل التصفية المتوفرة في الشبكة](inventory-on-hand-list.md#grid-filters) *تنطبق*  على القائمة المجمعة. تتضمن عوامل التصفية هذه QuickFilter في الجزء العلوي من الشبكة بالإضافة إلى عامل التصفية لكل عنوان عمود.

## <a name="the-unit-and-unit-quantity-arent-working-correctly-in-the-inventory-journal"></a>لا تعمل الوحدة وكميه الوحدة بشكل صحيح في دفتر يوميه المخزون.

### <a name="issue-description"></a>وصف المشكلة

قد تواجه أحدي المشكلتين التاليتين أو كلتاهما عند العمل مع الوحدات والكميات في دفتر يوميه المخزون:

- لا يمكنك الاطلاع علي الوحدات أو كميات الوحدات في دفتر يوميه المخزون اثناء اعداد وحده تحويل للمنتج الذي تم إصداره، ولا يمكنك تغيير الوحدة في يوميه المخزون.
- يمكنك عرض الحقلين **الكمية** و **الوحدة** في دفتر يوميه المخزون، ولكن لا يمكنك رؤية حقل **كميه الوحدة**. إذا قمت بتغيير الوحدة، ادخل كميه، وقم بترحيل دفتر اليومية، ويستمر دفتر اليومية في عرض وحده القياس الاصليه لهذه الكمية.

### <a name="issue-resolution"></a>حل المشكلة

لإصلاح هذه المشكلة، اتبع هذه الخطوات.

1. في مساحة عمل **أداره الميزات**، تاكد من تشغيل الميزة *استخدام وحده القياس وكميه الوحدات في دفاتر يوميه المخزون*. تضيف هذه الميزة الحقلين **وحده** و **كميه الوحدة** إلى دفتر اليومية.
1. بعد تشغيل الميزة ، استخدم حقول **الكمية** و **كميه الوحدة** و **الوحدة** بالطريقة التالية:

    - **الكمية** - تحدد الكمية من خلال استخدام الوحدة الافتراضية التي تم تحديدها للمنتج الذي تم إصداره. ومع ذلك، لا يتم إظهار الوحدة الافتراضية نفسها هنا. إذا تم اعداد تحويل بين الوحدة الافتراضية والوحدة التي تم تحديدها في الحقل **الوحدة**، يتم تحديث حقل **الكمية** تلقائيا، استنادا إلى التحديدات في الحقلين **كميه الوحدة** و **الوحدة**.
    - **كمية الوحدة** – حدد الكمية باستخدام وحدة القياس المحددة في حقل **الوحدة**.
    - **الوحدة** - حدد الوحدة التي سيتم تطبيقها علي القيمة في حقل **كميه الوحدات**.

## <a name="i-receive-the-following-error-message-maximum-number-of-decimals-for-the-stock-keeping-unit-is-0"></a>أتلقى رسالة الخطا التالية: "الحد الأقصى لعدد الأرقام العشرية لوحده الاحتفاظ بالأسهم هي 0".

### <a name="issue-description"></a>وصف المشكلة

عند محاولة ترحيل عمليه مخزنيه أو حجز مخزون ، ستتلقى رسالة الخطا التالية: "الحد الأقصى لعدد الأرقام العشرية لوحده الاحتفاظ بالمخزون هي 0".

تحدث هذه المشكلة عند تحديد كميه العملية المخزنية كقيمه عشريه اقل من مستوي الدقة التي يدعمها الحقل. علي سبيل المثال، تم تحديد كميه قيمتها *0.5* لحركه المخزون، ولكن يتم دعم كميات الاعداد الصحيحة فقط. التالي، يجب ان تكون القيمة *1* بدلا من *0.5*.

### <a name="issue-resolution"></a>حل المشكلة

1. قم بتشغيل البرنامج النصي التالي علي مثيل SQL Server لتقريب الكميات في العمليات المخزنية. سيقوم هذا البرنامج النصي بتصحيح القيم الموجودة في الجدول **inventTrans**.

    ```sql
    update it set it.QTY = round(it.qty, decimalPrecisionValue) from inventtrans it where it.DATAAREAID='XXXX' and it.PARTITION=XXXXXX and it.qty <> round(it.qty, decimalPrecisionValue) and exists (select 'x' from INVENTTABLEMODULE a, unitofmeasure b where  a.unitid =b.SYMBOL and a.partition=it.partition and a.PARTITION=b.PARTITION and  MODULETYPE =0 and  b.DECIMALPRECISION=decimalPrecisionValue and a.DATAAREAID='XXXX' and a.ITEMID =it.ITEMID and it.DATAAREAID=a.DATAAREAID)
    ```

1. تشغيل التحقق من التناسق الفعلي حيث يتم تشغيل خيار **إصلاح الخطأ**. سيقوم هذا الفحص بتصحيح القيم الموجودة في الجدول **inventSum**.

> [!IMPORTANT]
> نوصي بشده بتحرير البرنامج النصي كما هو مطلوب للبيئة الخاصة بك، واختباره في بيئة اختبار، ثم التحقق من البيانات الناتجة قبل تشغيل البرنامج النصي في بيئة التشغيل.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]