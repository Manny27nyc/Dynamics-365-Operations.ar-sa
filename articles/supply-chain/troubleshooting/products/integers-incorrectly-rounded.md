---
title: تم تقريب الأعداد الصحيحة بشكل غير صحيح في حسابات نماذج تكوين المنتج
description: لا يتم دائمًا تقريب نتائج الأعداد الصحيحة بشكل غير صحيح عند حساب نماذج تكوين المنتج. أصلح المشكلة بإضافة سمة عشرية وعملية حسابية.
author: SmithaNataraj
ms.date: 06/24/2021
ms.topic: troubleshooting
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: smnatara
ms.search.validFrom: 2021-06-24
ms.dyn365.ops.version: 10.0.20
ms.openlocfilehash: b17145d7d17cb784fe11b3fbf65ddf5aa5530f27
ms.sourcegitcommit: 2d6e31648cf61abcb13362ef46a2cfb1326f0423
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/07/2021
ms.locfileid: "7475491"
---
# <a name="integers-incorrectly-rounded-when-product-configuration-models-are-calculated"></a>تم تقريب الأعداد الصحيحة بشكل غير صحيح عند حساب نماذج تكوين المنتج

## <a name="symptoms"></a>العلامات

يمكن ان تحدث هذه المشكلة عند تنفيذ السلسلة التالية من الإجراءات:

1. قم باعداد هذه السمات في أحد نماذج تكوين الإنتاج:

    - إدخال (عدد صحيح)
    - بالمائة (عشري)
    - النتيجة (عدد صحيح)

2. قم بإنشاء عملية حسابية تتضمن التعبير التالي:

    *النتيجة* = *الإدخال* × *النسبة المئوية* ÷ 100

في هذه الحالة ، لا تكون نتيجة العدد الصحيح مقربه دائما بشكل صحيح. على سبيل المثال، إذا كان الإدخال هو 1,000، وكانت النسبة المئوية هي 2.40، فإنك تتوقع أن تكون نتيجة العدد الصحيح هي 24 لأن 2.40 في المائة من 1,000 هي 24 (أو 24.00 في النموذج العشري). بدلا من ذلك ، يتم عرض النتيجة 23. ومع ذلك ، عندما تكون النسبة المئوية 2.39 ، يتم تقريب الحساب إلى 24 بدلا من 23. عندما تكون النسبة المئوية 2.50، يتم تقريب الحساب إلى 25 كما هو متوقع.

## <a name="cause"></a>السبب

تحدث هذه المشكلة بسبب الطريقة التي تستخدمها Microsoft Solver Foundation لتمثيل الأرقام داخليًا باستخدام الكسور. بالنسبة للمثال السابق ، يتم تمثيل نتيجة عمليه الحساب التي تكون النسبة المئوية فيها 2.40 كما 27021597764222975 ÷ 1125899906842624 = 23.99999999999999911182158029987476766109466552734375. عندما يقوم .NET بتحويل هذه القيمة إلى عدد صحيح ، سيتم إرجاع 23.

## <a name="resolution"></a>الحل

لن يتم تغيير هذا السلوك، لأن السيناريوهات الأخرى تعتمد عليه. بالنسبة للمثال السابق، يمكنك إصلاح المشكلة من خلال تقديم سمة عشرية إضافية وعمليات حسابية.

على سبيل المثال، قم بإعداد السمات التالية في أحد نماذج تكوين الإنتاج:

- إدخال (عدد صحيح)
- بالمائة (عشري)
- ResultDecimal (عشري)
- ResultInteger (عدد صحيح)

يمكنك أيضًا إضافة العمليات الحسابية التالية:

- *ResultDecimal* = *إدخال* × *النسبة المئوية* ÷ 100
- *ResultInteger* = *ResultDecimal*
