---
title: إنشاء قوالب بريد إلكتروني لأحداث الحركات
description: يوضح هذا الموضوع كيفية إنشاء قوالب بريد إلكتروني وتحميلها وتكوينها لأحداث الحركات في Microsoft Dynamics 365 Commerce.
author: bicyclingfool
ms.date: 10/26/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2020-01-20
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: 69ba8821cde6788d6e0accb37288f92acdfc776c
ms.sourcegitcommit: 6bf9e18989e6d77497a9dda1c362f324b3c2fbf2
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/27/2021
ms.locfileid: "7713786"
---
# <a name="create-email-templates-for-transactional-events"></a>إنشاء قوالب بريد إلكتروني لأحداث المعاملات

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

يوضح هذا الموضوع كيفية إنشاء قوالب بريد إلكتروني وتحميلها وتكوينها لأحداث الحركات في Microsoft Dynamics 365 Commerce.

يوفر Dynamics 365 Commerce حلا جاهزا لإرسال رسائل البريد الكتروني التي تقوم بتنبيه العملاء حول احداث المعاملات. علي سبيل المثال ، يمكن إرسال رسائل البريد الكتروني عند وضع أمر ما ، يكون جاهزا للالتقاط ، أو تم شحنه. يصف هذا الموضوع الخطوات الخاصة بإنشاء قوالب البريد الإلكتروني المستخدمة لإرسال رسائل بريد إلكتروني للحركات وتحميلها وتكوينها.

## <a name="notification-types"></a>أنواع الإخطار

يمكن تكوين رسائل الإخطار لاعلام العملاء عبر البريد الكتروني عند اجراء احداث معينه كجزء من دوره حياه الأمر والعميل. لتكوين إخطارات، يجب تعيين قالب بريد الكتروني لنوع اخطار عن طريق إنشاء ملف تعريف اخطار البريد الكتروني التجاري. للحصول علي معلومات حول كيفيه اعداد ملفات تعريف إخطارات البريد الكتروني ، راجع [اعداد ملف تعريف لإخطار بالبريد الإلكتروني](email-notification-profiles.md).

يدعم Dynamics 365 Commerce أنواع الإخطارات التالية.

### <a name="order-created"></a>تم إنشاء الأمر

يتم تشغيل نوع اخطار *إنشاء الأمر* عند إنشاء أمر توريد جديد في المركز التجاري التجاري.

> [!NOTE]
> لم يتم تشغيل نوع اخطار إنشاء الأمر لحركات النقد والحمل التي تحدث في الوحدة الطرفية لنقطه البيع (POS). وفي هذه الحالة ، يتم إنشاء إيصال إرسال بالبريد الكتروني و/أو الطباعة بدلا من ذلك. لمزيد من المعلومات ، راجع [إرسال إيصالات بالبريد الكتروني من نقطه البيع الحديثة (MPOS)](email-receipts.md).

### <a name="order-confirmed"></a>تم تأكيد الأمر

يتم تشغيل نوع اخطار *تاكيد الأمر* عند إنشاء مستند تاكيد الأمر لأمر توريد من المركز التجاري الخاص بالتجارة.

### <a name="picking-completed"></a>اكتمل الانتقاء

يتم تشغيل نوع اخطار *اكتمال الانتقاء* عند وضع علامة اكتمال علي قائمه انتقاء لأحد الأوامر في الاداره التجارية.

> [!NOTE]
> لا يتم تشغيل نوع اخطار إكمال الانتقاء عند وضع علامة علي أحد الأصناف كمنتقي لمحطه POS الطرفية.

### <a name="packing-completed"></a>اكتملت التعبئة

يتم تشغيل نوع اخطار *اكتمال الانتقاء* عند إنشاء مستند إيصال التعبئة لأحد الأوامر في الاداره التجارية في محطة POS الطرفية.

يدعم نوع اخطار اكتمال التعبئة العناصر النائبة الاضافيه للبريد الكتروني التالية لتسهيل وظيفة "الطلبية الجاهزة للالتقاط" ووظيفة البحث عن الأوامر من رسائل البريد الكتروني للمعاملات.

| اسم العنصر النائب    | الاستخدام |
| ------------------- | ------- |
| `pickupstorename`     | اسم المتجر الذي يتوفر فيه الأمر للالتقاط. |
| `pickupstoreaddress`  | عنوان المتجر الذي يتوفر فيه الأمر للالتقاط. |
| `pickupstorehourfrom` | الساعة الافتتاحية لمخزن التقاط. |
| `pickupstorehourto`   | ساعة الإغلاق لمخزن التقاط. |
| `pickupchannelid`     | معرف قناه المتجر الخاص بمخزن التقاط. |
| `packingslipid`      | معرف إيصال التعبئة للأمر الذي سيتم انتقاؤه. |
| `confirmationid`      | معرف تأكيد الأمر للأمر الذي سيتم انتقاؤه. (يتم أحيانا الاشاره إلى هذا المعرف علي انه معرف مرجع القناة.) |

لمزيد من المعلومات حول ميزتي البحث عن العميل والبحث عن الطلب ، راجع اعداد [الكشف عن الفجوات وأعاده التوجيه](geo-detection-redirection.md) و[تمكين البحث عن السداد مع الخروج للضيف](order-lookup-guest.md).

### <a name="order-ready-for-pickup"></a>الأمر جاهز للاستلام

يتم تشغيل نوع اخطار *الأمر الجاهز للانتقاء* عند وضع علامة علي الأمر كصنف المحزوم ، ويتم تعيين وضع التسليم إلى **انتقاء العميل** في بند أمر واحد أو أكثر.

> [!NOTE]
> تم إهمال الأمر الجاهز لنوع اخطار التقاط في التفضيلات الخاصة بنوع اخطار التعبئة المكتملة. يتم تخصيص نوع الاخطار هذا بواسطة وضع التسليم.

### <a name="order-shipped"></a>تم شحن الأمر

يتم تشغيل نوع اخطار *أمر الشحن* عندما تتم فوتره الأمر الذي يحتوي علي وضع التسليم لغير الخاص بالمتجر.

> [!NOTE]
> تم إهمال نوع الأشعار أمر الشحن في التفضيلات الخاصة بنوع اخطار أمر الفوترة. يتم تخصيص نوع الاخطار هذا بواسطة وضع التسليم.

### <a name="order-invoiced"></a>تمت فوترة الأمر

يتم تشغيل نوع اخطار *أمر الفوترة* عند فوترة الأمر في نقطة البيع أو المركز التجاري.

### <a name="issue-gift-card"></a>إصدار بطاقة هدايا

يتم تشغيل نوع اخطار *إصدار بطاقة الهدايا* عند فوتره أمر مبيعات يحتوي علي منتج لنوع بطاقة الهدايا.

> [!NOTE]
> يتم إرسال البريد الكتروني الخاص باخطار بطاقة الهدايا إلى مستلم بطاقة الهدايا. يتم تحديد مستلم بطاقة الهدايا في الاداره التجارية ، وعلي بند أمر توريد فردي ضمن علامة التبويب **تعبئة** أسفل **تفاصيل البند**. يمكن تعيينها اما يدويا أو برمجيا.

يدعم نوع اشعار بطاقة الهدايا العناصر النائبة الاضافيه التالية.

| اسم العنصر النائب      | الاستخدام |
| --------------------- | ------- |
| `giftcardnumber`        | رقم بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardbalance`       | رصيد بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardmessage`       | رسالة بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardpin`         | رقم التعريف الشخصي (PIN) لبطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. (هذا العنصر النائب خاص ببطاقات الهدايا الخارجية.) |
| `giftcardexpiration`    | تاريخ انتهاء الصلاحية لبطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. (هذا العنصر النائب خاص ببطاقات الهدايا الخارجية.) |
| `giftcardrecipientname` | اسم مستلم بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardbuyername`     | اسم مشتري بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |

لمزيد من المعلومات حول بطاقات الهدايا ، راجع [بطاقات هدايا رقميه للتجارة الكترونيه](digital-gift-cards.md) و[دعم لبطاقات الهدايا الخارجية](dev-itpro/gift-card.md).

### <a name="order-cancellation"></a>إلغاء الأمر

يتم تشغيل نوع اخطار *إلغاء الأمر* عند إلغاء الأمر في المركز التجاري.

### <a name="customer-created"></a>إنشاء العميل

يتم تشغيل نوع اخطار *إنشاء العميل* عند إنشاء كيان عميل جديد في المركز التجاري.

### <a name="b2b-prospect-approved"></a>تم قبول العميل المتوقع للتجارة الإلكترونية بين الشركات

يتم تشغيل نوع اخطار *العملاء المتوقعين في B2B* عند اعتماد طلب إلحاق العميل المتوقع في الاداره التجارية. لمزيد من المعلومات حول كيفيه اعتماد العملاء المتوقعين في B2B أو رفضهم ، راجع [اعداد مستخدم مسؤول لشريك عمل جديد](b2b/manage-b2b-users.md#set-up-the-administrator-user-for-a-new-business-partner). 

يدعم نوع اشعار المعتمد للعميل المتوقع B2B العناصر النائبة الاضافيه التالية.

| اسم العنصر النائب | الاستخدام                                                      |
| ---------------- | ------------------------------------------------------------ |
| `firstname`       | الاسم الأول للبائع B2B المتوقع كما تم إدخاله في التطبيق. |
| `lastname`         | الاسم الأخير للبائع B2B المتوقع كما تم إدخاله في التطبيق. |
| `company`          | اسم شركة مقدم الطلب كما تم إدخاله في استمارة التقديم. |
| `email`            | عنوان البريد الإلكتروني للعميل المتوقع كما تم إدخاله في استمارة التقديم.   |
| `zipcode`          | الرمز البريدي للعنوان الرئيسي للعميل المتوقع. |
| `comments`         | التعليق الذي ادخله العميل المتوقع في استمارة التقديم. |
| `storename`        | اسم القناة التي تم إنشاء العميل المتوقع بها. |
| `storeurl`         | يكون فارغا بشكل افتراضي. يجب إنشاء ملحق مخصص لاستخدام هذا العنصر النائب. |

### <a name="b2b-prospect-approved"></a>تم قبول العميل المتوقع للتجارة الإلكترونية بين الشركات

يتم تشغيل نوع اخطار *العملاء المتوقعين المرفوضين في B2B* عند رفض طلب إلحاق العميل المتوقع في الاداره التجارية. لمزيد من المعلومات حول كيفيه اعتماد العملاء المتوقعين في B2B أو رفضهم ، راجع [اعداد مستخدم مسؤول لشريك عمل جديد](b2b/manage-b2b-users.md#set-up-the-administrator-user-for-a-new-business-partner). 

يدعم نوع اشعار المرفوض للعميل المتوقع B2B العناصر النائبة الاضافيه التالية.

| اسم العنصر النائب | الاستخدام                                                      |
| ---------------- | ------------------------------------------------------------ |
| `firstname`        | الاسم الأول للبائع B2B المتوقع كما تم إدخاله في التطبيق. |
| `lastname`         | الاسم الأخير للبائع B2B المتوقع كما تم إدخاله في التطبيق. |
| `company`          | اسم شركة مقدم الطلب كما تم إدخاله في استمارة التقديم. |

## <a name="create-an-email-template"></a>إنشاء قالب بريد إلكتروني

قبل أن تتمكن من تعيين حدث حركة معين إلى قالب بريد إلكتروني، يجب عليك إنشاء القالب.

لإنشاء قالب بريد إلكتروني، اتبع هذه الخطوات.

1. في Commerce headquarters، انتقل إلى **Retail وCommerce \> إعداد المركز الرئيسي \> قوالب البريد الإلكتروني للمؤسسة** أو **إدارة المؤسسة \> الإعداد \> قوالب البريد الإلكتروني للمؤسسة**.
1. حدد **جديد**.
1. ضمن **عام**، قم بتعيين الحقول التالية:

    - **معرف البريد الإلكتروني** – معرف البريد الكتروني هو المعرف الفريد للقالب. وهو القيمة التي تظهر عند تحديد قالب لتعيينه إلى حدث.
    - **وصف البريد الإلكتروني** – يمكنك استخدام هذا الحقل الاختياري لتوفير وصف للقالب. تظهر القيمة التي تدخلها في Commerce Headquarters فقط.
    - **اسم المرسل** – يظهر الاسم الذي تقوم بإدخاله في الحقل "من" الخاص بمعظم عملاء البريد الإلكتروني.
    - **البريد الإلكتروني للمرسل** – أدخل عنوان البريد الإلكتروني الذي يجب استخدامه لرسائل البريد الإلكتروني التي يتم إرسالها باستخدام هذا القالب.
    - **كود اللغة الافتراضية** – يحدد هذا الحقل الإصدار المترجم من البريد الإلكتروني الذي يتم إرساله افتراضيًا، في حالة عدم تحديد لغة بواسطة القناة التي تقوم باستدعاء هذا القالب.

1. ضمن **محتوي رسالة البريد الإلكتروني**، حدد **جديد**.
1. في حقل **اللغة**، ادخل اللغة لقالب البريد الإلكتروني. يمكنك إضافة المزيد من اللغات والقوالب المترجمة لاحقًا.
1. في حقل **الموضوع**، أدخل موضوع البريد الإلكتروني الذي يجب أن يظهر في حقل الموضوع الخاص بالبريد الإلكتروني.
1. حدد **تحرير** لتحميل قالب البريد الإلكتروني الخاص بك.

## <a name="create-an-email-message-body-by-using-html"></a>إنشاء نص رسالة بريد إلكتروني باستخدام HTML

يتم تكوين نص رسالة البريد الإلكتروني الخاصة بك بتنسيق HTML. يمكنك استخدام أي تخطيط، ونمط، وعلامة تجارية يسمح بها HTML أوراق الأنماط المتتالية المدمجة (CSS). يمكنك أيضًا استخدام الصور، إذا قمت باستضافتها على نقطة نهاية ويب متوفرة بشكل عام. لإضافة صورة، أدخل عنوان URL الخاص بالصورة في سمة **src** الخاصة بعلامة **&lt;img&gt;** لـ HTML.

> [!NOTE]
> يفرض عملاء البريد الإلكتروني قيودًا على المخطط والنمط قد تتطلب تعديلات على HTML وCSS التي تستخدمها لنص الرسالة. نوصيك بالتعرف على أفضل الممارسات لإنشاء HTML التي يدعمها عملاء البريد الإلكتروني الأكثر شيوعًا.

## <a name="add-placeholders-to-the-email-message-body"></a>إضافة عناصر نائبة إلى نص رسالة البريد الإلكتروني

يمكن أن يحتوي بريدك الإلكتروني على عناصر نائبة يتم استبدالها بقيم خاصة بالعميل وقيم خاصة بالحركات عند إنشاء البريد الإلكتروني. تكون العناصر النائبة دائمًا محاطة بعلامات النسبة المئوية (%) ويتم إدراجها مباشره في مستند HTML.

فيما يلي مثال على ذلك.

```html
<p>
    Hello %customername%,<br />
    Order number %salesid%, can be picked up from the <b>%pickupstorename%</b> store.
</p>
```

### <a name="order-placeholders-sales-order-level"></a>العناصر النائبة للأمر (مستوى أمر المبيعات)

تقوم العناصر النائبة التالية باسترداد وإظهار البيانات التي يتم تحديدها في مستوى أمر المبيعات (على عكس مستوى بند المبيعات).

| اسم العنصر النائب     | الاستخدام                                                      |
| -------------------- | ------------------------------------------------------------ |
| `customername`         | اسم العميل الذي قام بتقديم الأمر.               |
| `customeraddress`      | عنوان العميل.                                 |
| `customeremailaddress` | عنوان البريد الكتروني الذي أدخله العميل عند السداد مع الخروج.     |
| `salesid`              | معرف المبيعات للأمر.                                   |
| `orderconfirmationid`  | معرف عبر القنوات الذي تم إنشاؤه عند إنشاء الأمر.   |
| `channelid`            | معرف قناة البيع بالتجزئة أو عبر الإنترنت التي تم وضع الطلب من خلالها. |
| `deliveryname`         | الاسم المحدد لعنوان التسليم.         |
| `deliveryaddress`      | عنوان التسليم الخاص بالأوامر المشحونة.                     |
| `deliverydate`         | تاريخ التسليم.                                           |
| `shipdate`             | تاريخ الشحن.                                               |
| `modeofdelivery`       | وضع التسليم الخاص بالأمر.                              |
| `ordernetamount`       | المبلغ الإجمالي للأمر، مطروحًا منه إجمالي الضريبة.         |
| `discount`            | إجمالي الخصم الخاص بالأمر.                            |
| `charges`              | إجمالي المصاريف الخاصة بالأمر.                             |
| `tax`                  | إجمالي الضرائب الخاصة بالأمر.                                 |
| `total`                | المبلغ الإجمالي الخاص بالأمر.                              |
| `storename`            | اسم المتجر الذي تم فيه تقديم الأمر.            |
| `storeaddress`         | عنوان المتجر الذي قام بتقديم الأمر.              |
| `storeopenfrom`        | وقت فتح المتجر الذي قام بتقديم الأمر.         |
| `storeopento`          | وقت إغلاق المتجر الذي قام بتقديم الأمر.         |
| `pickupstorename`      | اسم المتجر الذي سيتم منه التقاط الأمر.\*   |
| `pickupstoreaddress`   | عنوان المتجر الذي سيتم منه التقاط الأمر.\* |
| `pickupopenstorefrom`  | وقت فتح المتجر الذي سيتم منه التقاط الأمر.\* |
| `pickupopenstoreto`    | وقت إغلاق المتجر الذي سيتم منه التقاط الأمر.\* |
| `pickupchannelid`     | معرف القناة للمتجر المحدد لوضع التقاط التسليم.\* |
| `packingslipid`        | معرف إيصال التعبئة الذي تم إنشاؤه عند حزم البنود في أمر.\* |

\* تقوم العناصر النائبة بإرجاع البيانات فقط عند استخدامها لنوع إعلام **الطلب الجاهز للاستلام**. 

### <a name="order-line-placeholders-sales-line-level"></a>العناصر النائبة لبنود الأمر (مستوى بند المبيعات)

تسترد العناصر النائبة التالية وتعرض البيانات الخاصة بالمنتجات الفردية (البنود) في أمر المبيعات.

| اسم العنصر النائب               | الاستخدام |
|--------------------------------|-------------------|
| `productid`                      | <p>معرف المنتج. هذا معرف حسابات للمتغيرات.</p><p><strong>ملاحظة:</strong> تم إهمال هذا العنصر النائب لصالح `lineproductrecid`.</p> |
| `lineproductrecid`               | معرف المنتج. هذا معرف حسابات للمتغيرات. وهو يحدد بشكل فريد عنصر على مستوى المتغير. |
| `lineitemid`                     | معرف مستوى المتنج. (هذا المعرف لا يتضمن المتغيرات.) |
| `lineproductvariantid`           | معرف متغير المنتج. |
| `lineproductname`                | اسم المنتج. |
| `lineproductdescription`         | وصف المنتج. |
| `linequantity`                   | عدد الوحدات التي تم طلبها للبند، بالإضافة إلى وحدة القياس (على سبيل المثال، **ea** أو **زوج**). |
| `lineunit`                       | وحدة القياس للبند. |
| `linequantity_withoutunit`       | عدد الوحدات التي تم طلبها للبند، بدون وحدة القياس. |
| `linequantitypicked`             | عند استخدام حدث **PickOrder**، يتم التقاط عدد الوحدات. خلاف ذلك، **0** (صفر). |
| `linequantitypicked_withoutunit` | عند استخدام حدث **PickOrder**، يتم التقاط عدد الوحدات، بدون وحدة القياس. خلاف ذلك، **0** (صفر). |
| `linequantitypacked`             | عند استخدام أحداث **PackOrder** و **أمر جاهز للالتقاط**، يتم التقاط عدد الوحدات. خلاف ذلك، **0** (صفر). |
| `linequantitypacked_withoutuom`  | عند استخدام أحداث **PackOrder** و **أمر جاهز للالتقاط**، يتم التقاط عدد الوحدة، بدون وحدة القياس. خلاف ذلك، **0** (صفر). |
| `linequantityshipped`            | دائمًا **0**، باستثناء عند استخدام أحداث خاصة، كما هو موضح في الصف التالي. |
| `linequantityshipped_withoutuom` | عند استخدام حدث **ShipOrder**، يتم التقاط عدد الوحدات، بدون وحدة القياس. خلاف ذلك، **0** (صفر). |
| `lineprice`                      | سعر الوحدة الفردية. |
| `linenetamount`                  | يتم تطبيق سعر البند بعد عدد الوحدات والخصم. |
| `linediscount`                   | الخصم لوحدة فردية. |
| `lineshipdate`                   | تاريخ الشحن للبند. |
| `linedeliverydate`               | تاريخ التسليم للبند. |
| `linedeliverymode`               | وضع التسليم للبند. |
| `linedeliveryaddress`            | عنوان التسليم للبند. |
| `linepickupdate`                 | تاريخ الاستلام الذي حدده العميل، للطلبات التي تستخدم طريقة استلام التسليم. |
| `linepickuptimeslot`             | النطاق الزمني للاستلام الذي حدده العميل، للطلبات التي تستخدم طريقة استلام التسليم. |
| `giftcardnumber`                 | رقم بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardbalance`                | رصيد بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardmessage`                | رسالة بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardpin`                    | رقم PIN لبطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. (هذا العنصر النائب خاص ببطاقات الهدايا الخارجية.) |
| `giftcardexpiration`             | تاريخ انتهاء الصلاحية لبطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. (هذا العنصر النائب خاص ببطاقات الهدايا الخارجية.) |
| `giftcardrecipientname`          | اسم مستلم بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |
| `giftcardbuyername`              | اسم مشتري بطاقة الهدايا، للمنتجات الخاصة بنوع بطاقة الهدايا. |

### <a name="format-of-order-line-placeholders-in-the-email-message-body"></a>تنسيق العناصر النائبة لبند الأمر في نص رسالة البريد الإلكتروني

عند إنشاء HTML لبنود الأمر الفردية في نص رسالة البريد الإلكتروني، قم بإحاطة الكتلة المكررة من HTML والعناصر النائبة الخاصة بالبنود بالعناصر النائبة التالية التي يتم وضعها داخل علامات تعليق HTML. لاحظ وجود العناصر النائبة داخل علامات تعليقات HTML.

```html
<!--%tablebegin.salesline%-->

(Insert the repeating block of HTML and placeholders for individual lines here.)

<!--%tableend.salesline%-->
```

فيما يلي مثال على ذلك.

```HTML
<table>
    <tr>
        <td>Product name</td>
        <td>Quantity</td>
        <td>Price</td>
    </tr>
    <!--%tablebegin.salesline%-->
    <tr>
        <td>%lineproductname%</td>
        <td>%linequantity_withoutunit%</td>
        <td>%lineprice%</td>
    </tr>
    <!--%tableend.salesline%-->
</table>
```

## <a name="create-a-template-for-emailed-receipts"></a>إنشاء قالب للإيصالات المرسلة بالبريد الإلكتروني

يمكن إرسال الإيصالات بالبريد الإلكتروني للعملاء الذين يقومون بإجراء عمليات شراء من نقطة البيع بالتجزئة (POS). بشكل عام، تكون خطوات إنشاء قالب إيصال البريد الإلكتروني هي نفس خطوات إنشاء القوالب لأحداث الحركات الأخرى. مع ذلك، بالتغييرات التالية مطلوبة:

- يتم إدراج نص الإيصال في البريد الإلكتروني باستخدام العنصر النائب **%message%**. للتأكد من أنه تم عرض نص الإيصال بشكل صحيح، قم بإحاطة العنصر النائب **%message%** بعلامات **&lt;pre&gt;** و **&lt;/pre&gt;** لـ HTML.
- يمكن استخدام العنصر النائب **%receiptid%** لإظهار رمز الاستجابة السريعة (QR) أو الرمز الشريطي الذي يمثل معرف الإيصال. (يتم إنشاء رموز QR والرموز الشريطية بشكل ديناميكي ويتم تقديمها بواسطة خدمه جهة خارجية.) لمزيد من المعلومات حول كيفية إظهار رمز الاستجابة السريعة (QR) أو الرمز الشريطي في إيصال بريد الكتروني، راجع [إضافة رمز استجابة سريعة (QR) أو رمز شريطي إلى المعاملات ورسائل البريد الكتروني الخاصة بالحركات والاستلام](add-qr-code-barcode-email.md).

## <a name="upload-the-email-html"></a>تحميل HTML للبريد الإلكتروني

بعد إنشاء واختبار HTML لنص الرسالة الخاصة بك، يجب أن يتم تحميله إلى Commerce Headquarters. لا يمكن تصدير HTML الخاص بالبريد الإلكتروني حاليًا. لذلك، يجب الاحتفاظ بالنسخة الرئيسية من HTML خارج Commerce Headquarters.

لتحميل HTML لقالب بريد إلكتروني جديد أو محرر، اتبع الخطوات التالية.

1. في Commerce headquarters، انتقل إلى **Retail and Commerce \> إعداد Headquarters \> قوالب البريد الإلكتروني للمؤسسة**.
1. حدد صف اللغة التي تريد إضافة أو استبدال HTML لها. بدلا من ذلك، حدد **جديد** لإنشاء صف للغة جديدة.
1. حدد **تحرير**.
1. في مربع الحوار الذي يظهر، حدد **استعراض**. قم بالاستعراض بحثا عن مستند HTML الذي تريد تحميله، وحدده، ثم حدد **فتح**.
1. ثم حدد **تحميل**.
1. بعد ظهور HTML بالبريد الإلكتروني الخاص بك في نافذة المعاينة، حدد **موافق**.
1. تأكد من تحديد خانة الاختيار **يتضمن نص** للصف.

إذا كنت قد قمت بالفعل بتكوين Commerce Headquarters لإرسال البريد الإلكتروني، سيتم إرسال بريد إلكتروني جديد أو محدث خاص بك إلى كافة العملاء الذين ينفذون حركة تستدعي الحدث الذي تم تعيينه إلى القالب.

للحصول على مزيد من المعلومات حول كيفية تكوين رسائل البريد الإلكتروني في Dynamics 365 Commerce، راجع [تكوين وإرسال البريد الإلكتروني](../fin-ops-core/fin-ops/organization-administration/configure-email.md).

## <a name="additional-resources"></a>الموارد الإضافية 

[إنشاء ملف تعريف الإخطار بالبريد الإلكتروني](email-notification-profiles.md)

[تكوين وإرسال البريد الإلكتروني](../fin-ops-core/fin-ops/organization-administration/configure-email.md)

[إعداد إيصالات بالبريد الإلكتروني](/dynamicsax-2012/appuser-itpro/set-up-email-receipts)

[إرسال إيصالات البريد الإلكتروني من Modern POS](email-receipts.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
