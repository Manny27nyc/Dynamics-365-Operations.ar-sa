---
title: إدارة العملاء في المتاجر
description: يشرح هذا الموضوع كيف يمكن لبائعي التجزئة تمكين إمكانات إدارة العملاء في نقطة البيع (POS) في Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 05/25/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: dd17593d84a8bf262712a84b11829f8ec6c49049
ms.sourcegitcommit: c5c8f19a696ad4a3d68dffd63bfe7b484b999d2b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/25/2021
ms.locfileid: "6097198"
---
# <a name="customer-management-in-stores"></a>إدارة العملاء في المتاجر

[!include [banner](includes/banner.md)]

يشرح هذا الموضوع كيف يمكن لبائعي التجزئة تمكين إمكانات إدارة العملاء في نقطة البيع (POS) في Microsoft Dynamics 365 Commerce.

من الضروري أن يقوم موظفو المتجر بإنشاء سجلات العملاء وتحريرها في نقطة البيع. بهذه الطريقة، يمكنهم التقاط أي تحديثات لمعلومات العملاء مثل عنوان البريد الإلكتروني ورقم الهاتف والعنوان. تعتبر هذه المعلومات مفيدة في الأنظمه اللاحقة مثل التسويق، نظرا لأن فعالية هذه الأنظمة تعتمد على دقه بيانات العملاء الخاصة بها.

يمكن لموظفي المبيعات تشغيل سير عمل إنشاء العميل من نقطتي إدخال في نقطة البيع. ويمكنهم تحديد زر يتم تعيينه لعملية **إضافة العميل**، أو يمكنهم تحديد **إنشاء عميل** في شريط التطبيق في صفحة نتائج البحث. وفي كلتا الحالتين، يظهر مربع الحوار **عميل جديد** حيث يمكن لموظفي المبيعات إدخال تفاصيل العميل المطلوبة، مثل اسم العميل وعنوان البريد الإلكتروني ورقم الهاتف والعنوان وأي معلومات إضافية ذات صلة بالشركة. يمكن التقاط تلك المعلومات الإضافية باستخدام سمات العميل المرتبطة بالعميل. لمزيد من المعلومات حول سمات العميل، راجع [سمات العميل](dev-itpro/customer-attributes.md).

كما يمكن أيضًا لموظفي المبيعات التقاط عناوين البريد الكتروني الثانوية وأرقام الهاتف. بالإضافة إلى ذلك، يمكنهم التقاط تفضيلات العميل حول استلام معلومات التسويق عبر أي من عناوين البريد الكتروني الثانوية أو أرقام الهاتف. لتمكين هذه الإمكانية، يجب أن يقوم بائعو التجزئة بتشغيل ميزة **التقاط العديد من عناوين البريد الكتروني وأرقام الهواتف والموافقة على التسويق لجهات الاتصال هذه** في مساحة عمل **إدارة الميزات** في المركز الرئيسي لـ Commerce (**إدارة الأنظمة \> مساحات العمل \> إدارة الميزات**).

## <a name="default-customer-properties"></a>خصائص العميل الافتراضية

يمكن لبائعي التجزئة استخدام صفحة **كافة المتاجر** في المركز الرئيسية لـ Commerce (**Retail وCommerce \> القنوات \> المتاجر**) لربط عميل افتراضي بكل متجر. يقوم تطبيق Commerce بعد ذلك بنسخ الخصائص المحددة للعميل الافتراضي لكافة سجلات العملاء الجديدة التي تم إنشاؤها. على سبيل المثال، يُظهر مربع الحوار **إنشاء عميل** الخصائص الموروثة من العميل الافتراضي المرتبط بالمتجر. تتضمن هذه الخصائص **نوع العميل** و **مجموعة العميل** و **خيار الاستلام** و **البريد الإلكتروني للإيصال** و **العملة** و **اللغة**. أي **تبعيات** يتم أيضًا توارث أي تبعيات (تجميعات العملاء) من العميل الافتراضي. ومع ذلك، يتم توريث **الأبعاد المالية** من مجموعة العملاء المرتبطة بالعميل الافتراضي، وليس من العميل الافتراضي نفسه.

> [!NOTE]
> يتم نسخ **البريد الإلكتروني للإيصال** من العميل الافتراضي فقط إذا لم يتم توفير معرف البريد الإلكتروني للإيصال للعملاء الذين تم إنشاؤهم حديثًا. وهذا يعني أنه إذا كان معرف البريد الإلكتروني للإيصال موجودًا في العميل الافتراضي، سيحصل جميع العملاء الذين تم إنشاؤهم من موقع التجارة الإلكترونية على نفس معرف البريد الإلكتروني للإيصال لكي لا توجد واجهة مستخدم لالتقاط معرف البريد الإلكتروني للإيصال من العميل. نوصي بأن يظل الحقل **البريد الإلكتروني للإيصال** فارغًا للعميل الافتراضي الخاص بالمتجر واستخدامه فقط إذا كانت لديك عملية تجارية تعتمد على عنوان البريد الإلكتروني للإيصال الموجود. 

يمكن أن يقوم موظفو المبيعات بالتقاط عناوين متعددة للعميل. يتم اكتساب اسم العميل ورقم الهاتف من معلومات جهة الاتصال المرتبطة بكل عنوان. تشتمل علامة التيوبب السريعة **العناوين** لسجل العميل على حقل **الغرض** الذي يمكن لموظفي المبيعات تحريره. إذا كان نوع العميل هو **الشخص**، تكون القيمة الافتراضية **المنزل**. إذا كان نوع العميل هو **المؤسسة**، تكون القيمة الافتراضية **العمل**. تتضمن القيم الأخرى التي يعتمدها هذا الحقل **المنزل** و **المكتب** و **صندوق البريد**. يتم اكتساب قيمه حقل **البلد** للعنوان من العنوان الرئيسي المحدد في صفحة **وحدة التشغيل** في المركز الرئيسية لـ Commerce في **إدارة المؤسسات \> المؤسسات \> وحدات التشغيل**.

## <a name="sync-customers-and-async-customers"></a>العملاء المتزامنون والعملاء غير المتزامنين

في Commerce، يوجد وضعان لإنشاء العملاء: متزامن وغير متزامن. افتراضيًا، يتم إنشاء العملاء بشكل متزامن. بمعني آخر، يتم إنشاؤهم في المركز الرئيسي لـ Commerce في الوقت الحقيقي. يعتبر وضع إنشاء عميل متزامن مفيدًا نظرًا لأن العملاء الجدد يكونون قابلين للبحث في الحال عبر القنوات. ومع ذلك، يوجد عيب لهذا الوضع. نظرًا لأنه يقوم بإنشاء استدعاءات [Commerce Data Exchange: خدمة في الوقت الحقيقي](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) للمركز الرئيسي لـ Commerce، فيمكن أن يتأثر الأداء إذا تم اجراء العديد من الاستدعاءات لإنشاء عملاء متزامنين.

إذا تم تعيين خيار **إنشاء عميل في وضع غير متزامن** إلى **نعم** في ملف تعريف وظائف المتجر (**Retail وCommerce \> إعدادات القناة \> إعداد المتجر عبر الإنترنت \> ملفات تعريف الوظائف**)، لا يتم استخدام استدعاءات خدمة الوقت الحقيقي لإنشاء سجلات العملاء في قاعدة بيانات القناة. لا يؤثر وضع إنشاء العميل غير المتزامن على أداء المركز التجاري لـ Commerce. يتم تعيين معرف فريد عمومي مؤقت (GUID) لكل سجل عميل غير متزامن جديد ويتم استخدامه كمعرف حساب العميل. لا يظهر هذا المعرف الفريد العمومي لمستخدمي نقطة البيع. وبدلا من ذلك، سيشاهد هؤلاء المستخدمون **مزامنة معلقة** كمعرف حساب العميل. على الرغم من أن هذا التكوين يفرض إنشاء العملاء بشكل غير متزامن، لكن لاحظ أن عمليات التحرير الخاصة بسجلات العملاء يتم دائمًا إجراؤها بشكل متزامن.

### <a name="convert-async-customers-to-sync-customers"></a>تحويل عملاء متزامنين إلى عملاء غير متزامنين

لتحويل العملاء غير المتزامنين إلى عملاء متزامنين، يجب أولا تشغيل الوظيفة P لإرسال العملاء غير المتزامنين إلى المركز الرئيسي لـ Commerce. بعد ذلك قم بتشغيل وظيفة **مزامنة العملاء وشركاء الأعمال من وضع غير متزامن** لإنشاء معرفات حسابات العملاء. أخيرًا، قم بتشغيل الوظيفة **1010** لمزامنة معرفات حساب العملاء الجديدة إلى القنوات.

### <a name="async-customer-limitations"></a>قيود العميل غير المتزامن

تتحدد وظيفة العميل غير المتزامن بالقيود التالية:

- لا يمكن تحرير سجلات العملاء غير المتزامنة ما لم يتم إنشاء العميل في المركز الرئيسي لـ Commerce وإعادة مزامنة معرف حساب العميل الجديد مرة أخرى إلى القناة.
- لا يمكن إقران التبعيات بالعملاء غير المتزامنين. لذلك، لا يرث العملاء الجدد غير المتزامنين التبعيات من العميل الافتراضي.
- لا يمكن إصدار بطاقات الولاء للعملاء غير المتزامنين إلا إذا تمت إعادة مزامنة معرف حساب العميل الجديد مرة أخرى إلى القناة.
- لا يمكن التقاط عناوين البريد الإلكتروني الثانوية وأرقام الهاتف للعملاء غير المتزامنين.

### <a name="customer-creation-in-pos-offline-mode"></a>إنشاء عميل في وضع غير متصل في نقطة البيع

في حالة عدم اتصال نقطة البيع أثناء تمكين وضع إنشاء العميل غير المتزامن، يتم إنشاء سجلات عملاء جديدة بشكل غير متزامن. في حالة عدم اتصال نقطة البيع أثناء تعطيل وضع إنشاء العميل غير المتزامن، يقوم النظام تلقائيًا بالتبديل إلى وضع إنشاء العميل غير متزامن. بعبارة أخرى، يمكن إنشاء سجلات عملاء بشكل غير متزامن حتى في حالة تعطيل وضع إنشاء عميل غير متزامن. لذلك، يجب على مسؤولي المركز الرئيسي لـ Commerce إنشاء وجدولة وظيفة دُفعة متكررة للوظيفة P ، والوظيفة **مزامنة العملاء وشركاء الاعمال من وضع غير متزامن**، الوظيفة **1010**، بحيث يتم تحويل أي من العملاء غير متزامنين إلى لعملاء متزامنين في المركز الرئيسي لـ Commerce.

> [!NOTE]
> في حالة تعيين الخيار **تصفية جداول بيانات العميل المشتركة** إلى **نعم** في صفحة **مخطط قناة التجارة** (**Retail وCommerce\> إعداد المراكز الرئيسية \> مجدول Commerce\> مجموعة قواعد بيانات القناة**)، لا يتم إنشاء سجلات العملاء في وضع دون اتصال في نقطة البيع. لمزيد من المعلومات، راجع [استبعاد البيانات دون اتصال](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).

## <a name="additional-resources"></a>الموارد الإضافية

[سمات العميل](dev-itpro/customer-attributes.md)

[استبعاد البيانات دون اتصال](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
