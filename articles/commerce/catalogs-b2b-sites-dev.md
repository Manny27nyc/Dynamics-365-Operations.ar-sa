---
title: تأثير قابلية توسع كتالوجات Commerce لتخصيصات B2B
description: يصف هذا المقال تأثير قابلية التوسعة لميزة كتالوجات Commerce لـ B2B في Microsoft Dynamics 365 Commerce.
author: ashishmsft
ms.date: 07/11/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: asharchw
ms.search.validFrom: 2022-02-28
ms.openlocfilehash: 06d304226270c9c63c6907190dc1038a38f70e44
ms.sourcegitcommit: d1491362421bf2fcf72a81dc2dc2d13d3b98122b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 07/11/2022
ms.locfileid: "9136790"
---
# <a name="extensibility-impact-of-commerce-catalogs-for-b2b-customizations"></a>تأثير قابلية توسع كتالوجات Commerce لتخصيصات B2B

[!include [banner](includes/banner.md)]

يصف هذا المقال تأثير قابلية التوسعة لميزة **كتالوجات Commerce** لـ B2B في Microsoft Dynamics 365 Commerce.

إذا كنت مهتمًا بتوسيع سياق الكتالوج ليشمل سيناريوهات مخصصة، فقد يلزم تحديث تخصيصاتك. يتبع هذا التحديث العملية القياسية التي يجب على العملاء اتباعها، لأن تخصيصاتهم قد لا تدعم تلقائيًا أحدث الميزات بعد إتمام الترقيات. إذا تضمنت تخصيصاتك أي ميزة جديدة أو إصلاحات للأخطاء في تجاربها، فمن المستحسن تحديث كود التخصيص وفقًا لذلك. يشبه هذا التحديث التغييرات التي من المحتمل أن تكون Microsoft قد أدخلتها على التعليمات البرمجية الأساسية.

راجع حالات التخصيص التالية لتحديد ما إذا كان يجب تحديث تخصيصاتك أم لا.

> [!NOTE]
> - يجب أن تكون جميع واجهات برمجة تطبيقات (API) ترويج السلع قائمة على الكتالوج. وبالتالي، من الضروري تمرير المعلمة **CatalogID‎**.
> - الكتالوج الافتراضي (**CatalogID**=**0**) ليس كتالوجًا صالحًا لمستخدمي متاجرة عمل-عمل (B2B) الذين سجلوا دخولهم. لذلك، ستفشل جميع استدعاءات واجهة برمجة التطبيقات التي تقوم بتمرير "0" أو تستخدم قيمة افتراضي، لأن مستخدمي الموقع لا يملكون حق الوصول إلى الكتالوج 0. للحصول على التجربة الصحيحة، يجب تحديث استدعاءات واجهة برمجة تطبيقات (API) العميل بحيث تقوم بتمرير معرف الكتالوج الذي تم تحديده في منتقي الكتالوج. إذا كنت تستخدم قيمة افتراضية، وقام المستخدم بتبديل الكتالوجات، فيجب أن يوفر موقع الويب البيانات للكتالوج المحدد. وبالتالي، لمطابقة واجهات برمجة التطبيقات (API) التي يتم تشغيلها من تعليمات Commerce البرمجية الأساسية، يجب أن تقوم واجهات API المخصصة بتمرير الكتالوج المحدد.

تتطلب حالات التخصيص التالية تحديثات التطوير:

- **الحالة 1:** يقدم العميل [إجراء بيانات](e-commerce-extensibility/data-actions.md) خاصًا به يستدعي API أو إجراء بيانات يرتبط بمنتج. خطوات التحديث التالية مطلوبة:

    1. إذا كان إجراء البيانات يستخدم استدعاء API مباشرًا، فقم بتحديث إجراء البيانات بحيث يقوم بتمرير معرف الكتالوج، كما هو موضح في الشكل التوضيحي التالي المقدم كمثال.

        ![اجراء بيانات محدث يقوم بتمرير معرف الكتالوج.](./media/customization1_a.png)

    1. إذا كان إجراء البيانات يستدعي إجراء بيانات مختلفًا متعلقًا بالمنتج داخل التخصيص، فيجب تحديث التعليمات البرمجية بحيث يقوم بتمرير بعض المعلمات الجديدة ، مثل **requestContext**. يتم استخدام المعلمة **requestContext** لاسترداد معرف الكتالوج الحالي، كما يظهر في الشكل التوضيحي التالي المقدم كمثال.

        ![اجراء بيانات محدث يقوم بتمرير المعلمة الجديدة.](./media/customization1_b.png)

- **الحالة 2:** يوجد لدى العميل [إجراء بيانات تم تجاوزه](e-commerce-extensibility/data-action-overrides.md). خطوة التحديث التالية مطلوبة:

    - تحديث اجراء البيانات للحالة 1.

- **الحالة 3:** يوجد لدى العميل ملحق طريقة عرض أو وحدة حاقن البرنامج النصي أو [وحدة نمطية مستنسخة](e-commerce-extensibility/modules-overview.md#clone-a-module-library-module) تتضمن استدعاءات لواجهات API أو إجراءات البيانات. خطوة التحديث التالية مطلوبة:

    - تحديث الكود للحالة 1، كما هو موضح في الشكل التوضيحي التالي المقدم كمثال.

       ![تعليمات برمجية محدثة تقوم بتمرير المعلمة الجديدة.](./media/customization3.png)

- **الحالة 4:** يستخدم العميل استدعاء **getById** لواجهة API. خطوة التحديث التالية مطلوبة:

    - التبديل إلى استدعاء **getByIds** لواجهة API بدلاً من ذلك، لأن استدعاء **getById** لـ APT ينطوي على بعض القيود، ولا يدعم الاستناد إلى الكتالوج.

- **الحالة 5:** يوجد لدى العميل إجراء بيانات يسترد معلومات لمنتجات متعددة قد تكون من كتالوجات مختلفة. خطوة التحديث التالية مطلوبة:

    - تقسيم استدعاءات API بواسطة معرف الكتالوج. على سبيل المثال، بالنسبة لواجهة API لسلة التسوق، قد تحتوي السلة على منتجات من كتالوجات مختلفة. يجب تجميع بنود المنتجات حسب معرف الكتالوج، ويجب عليها استدعاء API لكل كتالوج على حدة، كما هو موضح في الشكل التوضيحي التالي المقدم كمثال.

        ![اجراء بيانات محدث يقوم بتجميع بنود المنتجات معرف الكتالوج.](./media/customization5.png)

## <a name="additional-resources"></a>الموارد الإضافية

[إنشاء كتالوجات Commerce لمواقع B2B](catalogs-b2b-sites.md)

[الأسئلة المتداولة حول كتالوجات Commerce لمواقع B2B](catalogs-b2b-sites-FAQ.md)

[وحدة منتقي الكتالوج](catalog-picker.md)
