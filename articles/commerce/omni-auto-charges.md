---
title: التكاليف التلقائية المتقدمة ‬للقناة متعددة الاتجاهات
description: يصف هذا الموضوع القدرات المتعلقة بإدارة تكاليف الأوامر الإضافية لأوامر قناة Commerce باستخدام ميزات التكاليف التلقائية المتقدمة.
author: hhaines
manager: annbe
ms.date: 03/30/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: Retail
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10
ms.openlocfilehash: b7a309cc9e8901aa50e1d4ea3be6ee37d9fc5450
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/15/2021
ms.locfileid: "5244925"
---
# <a name="omni-channel-advanced-auto-charges"></a>التكاليف التلقائية المتقدمة ‬للقناة متعددة الاتجاهات

[!include [banner](includes/banner.md)]

يوفر هذا الموضوع معلومات حول تكوين ونشر ميزات التكاليف التلقائية المتقدمة التي تتوفر في الإصدار 10.0 من Dynamics 365 for Retail.

عند تمكين ميزات التكاليف التلقائية المتقدمة، بإمكان الأوامر التي تم إنشاؤها في قناة Commerce معتمدة (نقطة البيع (POS) ومركز الاتصال وعبر الإنترنت) الاستفادة من تكوينات [التكاليف التلقائية](https://docs.microsoft.com/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) المحددة في تطبيق ERP للتكاليف المرتبطة على مستوى الرأس والبنود.

في الإصدارات التي سبقت الإصدار 10.0 من Retail، يمكن الوصول إلى تكوينات [التكلفة التلقائية](https://docs.microsoft.com/dynamics365/unified-operations/retail/configure-call-center-delivery#define-charges-for-delivery-services) حسب الأوامر التي تم إنشاؤها في قنوات التجارة الإلكترونية ومراكز الاتصال. أما في الإصدارات 10.0 والإصدارات الأحدث، فبإمكان الأوامر المُنشأة في نقاط البيع الاستفادة من تكوينات التكاليف التلقائية. وبهذه الطريقة، يمكن إضافة تكاليف متنوعة إضافية إلى حركات المبيعات بطريقة منهجية.

عند استخدام الإصدارات التي تسبق الإصدار 10.0، تتم مطالبة مستخدم نقطع البيع بإدخال رسوم الشحن يدويًا أثناء إنشاء حركة نقطة البيع "شحن الكل‬" أو "شحن المحدد". في حين يتم استخدام إمكانات التكاليف المتنوعة للتطبيق فيما يتعلق بكيفية كتابة التكاليف بالترتيب ، لا يتم توفير حساب منهجي - يعتمد الحساب على إدخال المستخدم لتحديد قيمة التكاليف. ويمكن إضافة التكاليف فقط ككود التكاليف ذات الصلة لعملية "شحن" واحدة، ولا يمكن تغييرها أو تحريرها بسهولة في نقطة البيع بعد إنشائها.

ما زال استخدام المطالبات اليدوية لإضافة تكاليف الشحن متوفرًا في الإصدارات 10.0 والإصدارات التالية. إذا لم تقم المؤسسة بتمكين معلمة **التكاليف التلقائية المتقدمة**، فستبقى مطالبات نقطة البيع بالإدخال اليدوي للمصاريف كما هي.

باستخدام ميزة التكاليف التلقائية المتقدمة، بإمكان مستخدمي نقطة البيع الحصول على الحسابات المنهجية لأي تكاليف متنوعة محددة استنادًا إلى جداول إعداد التكاليف التلقائية. بالإضافة إلى ذلك، ستتوفر لدى المستخدمين القدرة على إضافة أو تحرير عدد غير محدد من التكاليف والرسوم الإضافية لأية حركة مبيعات في نقطة البيع على مستوى الرأس أو البنود (للحركات التي تعتمد على الدفع نقدًا والاستلام فورًا أو أوامر العملاء).

## <a name="enabling-advanced-auto-charges"></a>تمكين التكاليف التلقائية المتقدمة

في صفحة **Retail and Commerce \> إعداد المراكز الرئيسية \> المعلمات \> معلمات البيع بالتجزئة**، وانتقل إلى علامة التبويب **أوامر العملاء**. على علامة التبويب السريع **التكاليف**، عيّن **استخدام التكاليف التلقائية المتقدمة ‬** إلى **نعم**.

![معلمة التكاليف التلقائية المتقدمة](media/advancedchargesparameter.png)

عند تمكين التكاليف التلقائية المتقدمة، لن تتم مطالبة المستخدمين بإدخال تكاليف الشحن في الوحدة الطرفية لنقطة البيع عند إنشاء أمر عميل "شحن الكل" أو "شحن المحدد". ويتم حساب تكاليف أوامر نقطة البيع بشكل منهجي ثم تضاف إلى حركة نقطة البيع (إذا تم العثور على جدول تكاليف تلقائية مناظر يتطابق مع معيار الأمر). بإمكان المستخدمين أيضًا إضافة التكاليف على مستوى البنود أو الرأس أو المحافظة عليها يدويًا من خلال عمليات نقطة البيع المضافة حديثًا التي يمكن إضافتها إلى تخطيطات شاشة نقطة البيع.

عند تمكين التكاليف التلقائية المتقدمة، سيتوقف استخدام **معلمات Commerce** لكل من **كود تكاليف الشحن** و **المبلغ المسترد من تكاليف الشحن**. هذه المعلمات قابلة للتطبيق فقط إذا تم تعيين معلمة **استخدام التكاليف التلقائية المتقدمة** إلى **لا**.

قبل تمكين هذه الميزة، تأكد من إخضاع الموظفين للتدريبات والاختبارات اللازمة، لأن الميزة الممكنة سوف تغير سير العمليات التجارية من حيث كيفية حساب تكاليف الشحن أو التكاليف الأخرى وإضافتها إلى أوامر مبيعات نقطة البيع. تأكد من فهم تأثير سير العملية على إنشاء الحركات من نقطة البيع. فيما يتعلق بأوامر التجارة الإلكترونية ومراكز الاتصال، يعتبر تأثير تمكين التكاليف التلقائية المتقدمة ثانويًا. ستحافظ تطبيقات التجارة الإلكترونية ومراكز الاتصال على السلوك السابق نفسه المرتبط بجداول التكاليف التلقائية لحساب رسوم الأوامر الإضافية. سيبقى باستطاعة مستخدمي قنوات مراكز الاتصال إجراء عمليات تحرير يدوية للتكاليف التلقائية التي يحتسبها النظام على مستوى الرأس أو البنود، أو إضافة تكاليف متنوعة إضافية يدويًا على مستوى الرأس أو البنود.

## <a name="additional-pos-operations"></a>عمليات نقطة البيع الإضافية

لكي تعمل التكاليف التلقائية المتقدمة بشكل صحيح في البيئة تطبيق نقطة البيع، تمت إضافة عمليات جديدة في نقطة البيع. يجب إضافة هذه العمليات إلى [تخطيطات شاشة نقطة البيع](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts) ونشرها على أجهزة نقطة البيع أثناء نشر التكاليف التلقائية المتقدمة. في حال عدم إضافة هذه العمليات، سيتعذر على المستخدمين إدارة التكاليف المتنوعة في حركات نقاط البيع أو المحافظة عليها، وسيتعذر عليهم ضبط أو تغيير قيم التكاليف التي تم يتم حسابها بشكل منهجي استنادًا إلى تكوينات التكاليف التلقائية. في الحد الأدنى، من المستحسن نشر عملية **إدارة التكاليف** في مخطط نقطة البيع.

العمليات الجديدة هي على الشكل التالي.

- **142 - إدارة التكاليف** - استخدم هذه العملية للسماح لمستخدمي نقطة البيع بعرض وتحرير التكاليف‏‎ المتنوعة الخاصة بحركة نقطة البيع التي تمت إضافتها يدويًا أو منهجيًا من خلال حسابات التكاليف التلقائية.
- **141 - إضافة تكاليف الرأس** - استخدم هذه العملية لمنح المستخدم القدرة على إضافة تكاليف متنوعة على مستوى الرأس‏‎ إلى أي حركة مبيعات في نقطة البيع بطريقة يدوية (وتحديد كود التكاليف الذي يجب استخدامه).
- **140- إضافة تكاليف البنود** - استخدم هذه العملية لمنح المستخدم القدرة على إضافة تكاليف متنوعة على مستوى البنود‏‎ إلى أي بند حركة مبيعات في نقطة البيع بطريقة يدوية (وتحديد كود التكاليف الذي يجب استخدامه).
- **143- إعادة حساب التكاليف** - استخدم هذه العملية لإنجاز عملية إعادة حساب كاملة للتكاليف لحركة مبيعات. سيُعاد حساب أية تكاليف تلقائية سابقة كتب المستخدم فوقها استنادًا إلى تكوين السلة الحالية.

كما هو الحال مع كافة عمليات نقطة البيع، يمكنك تحديد تكوينات الأمان لطلب الحصول على موافقة المدير لتنفيذ العملية.

من الضروري أن تلاحظ أن أنه يمكن أيضًا إضافة عمليات نقطة البيع المدرجة أعلاه إلى تخطيط نقطة البيع حتى لو كانت المعلمة **استخدام التكاليف التلقائية المتقدمة** معطّلة. في هذا السيناريو، سوف تستمر المؤسسات في الحصول على الفوائد المضافة المتمثلة في القدرة على عرض التكاليف‏‎ المضافة يدويًا وتعديلها باستخدام عملية **إدارة التكاليف**. بإمكان المستخدمين أيضًا استخدام عمليات **إضافة تكاليف‬ الرأس‬** و **إضافة تكاليف البنود‬** لحركات نقاط البيع حتى عندما تكون المعلمة **استخدام التكاليف التلقائية المتقدمة** معطلة. تتضمن العملية **إعادة حساب التكاليف** وظائف أقل إذا تم استخدامها في الوقت الذي تكون فيه المعلمة **استخدام التكاليف التلقائية المتقدمة** معطلة. في هذا السيناريو، لن يُعاد حساب أي شي، وسيُعاد تعيين أي تكاليف أضيفت إلى الحركة يدويًا إلى $0.00.

## <a name="use-case-examples"></a>أمثلة عن حالات استخدام

في هذا القسم، يتم تقديم حالات استخدام نموذجية لمساعدتك في فهم تكوين واستخدام التكاليف التلقائية والتكاليف المتنوعة ضمن سياق أوامر قناة. توضح هذه الأمثلة سلوك التطبيق عند تمكين معلمة **استخدام التكاليف التلقائية المتقدمة**.

### <a name="auto-charges-header-charges-example"></a>مثال عن التكاليف التلقائية على مستوى الرأس‏‎

#### <a name="use-case-scenario"></a>سيناريو حالة الاستخدام

يريد أحد بائعي تجزئة إضافة تكاليف الشحن تلقائيًا عند إنشاء الحركات في أي من قنوات Commerce التي تتطلب شحن منتجات إلى العميل. يوفر بائع التجزئة طريقتين لتسليم المنتجات: أرضًا وجوًا. إذا اختار العميل التسليم الأرضي وكانت قيمة الأمر أقل من 100 دولار أمريكي، يرغب بائع التجزئة في تحميل العميل مصاريف شحن بقيمة 10 دولارات أمريكية. وإذا تجاوزت قيمة الأمر 100 دولار أمريكي واختار العميل الشحن الأرضي، فلن يضيف العميل أي تكاليف شحن إضافية. أما إذا اختار العميل طريقة التسليم الجوي لجميع الأوامر، فيستم تحميله رسوم شحن بقيمة 20 دولارًا أمريكيًا، بصرف النظر عن القيمة الإجمالية للأوامر.

#### <a name="setup-and-configuration"></a>الإعداد والتكوين

يتطلب هذا السيناريو تكوين جدولين للتكاليف التلقائية.

انتقل إلى **الحسابات المدينة \> إعداد التكاليف \> التكاليف التلقائية**.

قم بتكوين بندين مختلفين للتكاليف التلقائية على مستوى الرأس‏‎. قم بتكوين أحدهما لوضع التسليم "الأرضي" والآخر لوضع التسليم "الجوي". لهذا السيناريو، قم بتكوينها لاستخدامها "لجميع العملاء".

فيما يتعلق بتكاليف التسليم الأرضي، في قسم البنود في صفحة **التكاليف التلقائية**، حدد تكلفة من 10 دولارات أمريكية سيتم تطبيقها على الأوامر التي تتراوح قيمتها بين .01 دولار أمريكي و100 دولار أمريكي على أنها 10.00 دولار أمريكي. أنشئ بندًا آخر للتكاليف للإشارة إلى عدم فرض أي تكاليف على الأوامر التي تتجاوز قيمتها 100.01 دولار أمريكي.

![مثالان على جدول التكاليف التلقائية](media/headerchargesexample.png)

فيما يتعلق بتكاليف التسليم الجوي، في قسم البنود في نموذج التكاليف التلقائية، حدد تكلفة من 20.00 دولارًا أمريكيًا سيتم تطبيقها على جميع الأوامر (تتراوح قيمتها بين .01 دولار أمريكي و9,999,999 دولار أمريكي).

أرسل التكاليف إلى Commerce Scale Unit/قاعدة بيانات القنوات لتمكين نقطة البيع من تشغيل وظيفة **جدول التوزيع 1040**.

#### <a name="sales-processing-for-this-scenario"></a>معالجة المبيعات لهذا السيناريو

بعد إكمال خطوات التكوين أعلاه وتطبيق التغييرات على قاعدة بيانات القناة، سوف تستخدم أوامر العملاء أو حركات المبيعات، والتي تم إنشاؤها في نقطة البيع أو مراكز الاتصال أو قنوات التجارة الإلكترونية والتي عيّنت طريقة التسليم الأرضي على مستوى الرأس، هذه التكاليف وتطبّقها تلقائيًا على عملية البيع.

في هذه المرحلة، سيتم تطبيق التكاليف على جميع حركات المبيعات التي تم إنشاؤها ضمن الكيان القانوني الذي يستخدم أوضاع التسليم هذه، نظرًا لعدم وجود أي وظائف تعيّن تطبيق تكوين التكاليف التلقائية على قناة بيع محددة فقط.

بالنسبة إلى سيناريوهات التجارة الإلكترونية ونقطة البيع، ونظرًا لعدم وجود "رأس" محدد بوضوح على هذه الأوامر، فإن التكاليف على مستوى الرأس‏‎ سوف تنطبق فقط إذا تم تعيين جميع بنود المبيعات على الحركة بحيث تُشحن باستخدام وضع التسليم نفسه. في حال وجود "أوضاع تنفيذ مختلطة" على الحركات التي تم إنشاؤها بواسطة نقطة البيع أو قناة التجارة الإلكترونية، ستتم مراعاة التكاليف التلقائية على مستوى البنود وتطبيقها.

في سيناريوهات مركز الاتصال، بإمكان المستخدم التحكم في إعداد وضع التسليم على مستوى الرأس، وبالتالي سوف تطبق التكاليف على مستوى الرأس‏‎ لهذه الأوامر حتى لو تم تكوين بعض بنود المبيعات لاستخدام وضع تسليم مختلف. سوف تستند دائمًا التكاليف على مستوى الرأس‏‎ في أوامر مركز الاتصال إلى طريقة التسليم المحددة على مستوى رأس الأمر في أمر المبيعات.

### <a name="auto-charges-line-charges-example"></a>مثال عن التكاليف التلقائية على مستوى البنود

#### <a name="use-case-scenario"></a>سيناريو حالة الاستخدام 

يريد أحد بائعي تجزئة إضافة المزيد من التكاليف لرسوم إعداد العميل عندما يشتري العميل طراز كمبيوتر معينًا. يحتاج هذا الكمبيوتر إلى إجراءات إعداد إضافية غير اختيارية سيقوم بائع التجزئة بتنفيذها للعميل. وقام بائع التجزئة بإبلاغ العملاء عن تطبيق رسوم إضافية مقابل إجراء عملية الإعداد هذه. يفضل بائع التجزئة إدارة التكاليف المرتبطة بهذه الرسوم بشكل منفصل من سعر مبيعات المنتج لأغراض تتعلق بإعداد التقارير المالية. وسيتم تحميل العميل رسوم إعداد تبلغ قيمتها 19.99 دولارًا أمريكيًا عند شراء هذا الكمبيوتر المعينة في أي قناة.

#### <a name="setup-and-configuration"></a>الإعداد والتكوين

يتطلب هذا السيناريو تكوين جدول واحد للتكاليف التلقائية على مستوى البنود.

انتقل إلى **الحسابات المدينة \> إعداد التكاليف \> التكاليف التلقائية**.

عيّن القائمة المنسدلة **المستوى** إلى **بند**، ثم أنشئ سجلاً جديدًا للتكاليف التلقائية لكافة العملاء وللمنتج المعين أو مجموعة المنتجات حيث سيتم فرض رسوم الإعداد.

![مثال لأحد جداول التكاليف التلقائية على مستوي البند](media/linechargesexample.png)

أرسل التكاليف إلى Commerce Scale Unit/قاعدة بيانات القنوات لتمكين نقطة البيع من تشغيل وظيفة **جدول التوزيع 1040**.

#### <a name="sales-processing-for-this-scenario"></a>معالجة المبيعات لهذا السيناريو

بعد إكمال خطوات التكوين أعلاه وتطبيق التغييرات على قاعدة بيانات القناة، سوف تقوم أوامر العملاء أو حركات المبيعات، والتي تم إنشاؤها في نقطة البيع أو مراكز الاتصال أو قنوات التجارة الإلكترونية والتي لديها هذا الصنف على الأمر، بتشغيل تكلفة على مستوى البند بحيث تُضاف بطريقة منهجية إلى قيمة الأمر الإجمالية.

في هذه المرحلة، سيتم تطبيق التكاليف على أي بند مبيعات يتطابق مع تكوين التكاليف التلقائية على مستوى البنود ضمن الكيان القانوني، نظرًا لعدم وجود أي وظائف تتعلق بتكوين التكاليف التلقائية على مستوى البنود بحيث تطبق على قناة بيع محددة فقط.

### <a name="manual-header-charges-example"></a>مثال عن تكاليف الرأس‏‎ اليدوية

#### <a name="use-case-scenario-description"></a>وصف سيناريو حالة الاستخدام

يجري أحد بائعي التجزئة استثناءً للعمليات الأساسية عن طريق تقديم خدمة خاصة لتسليم المنتجات حتى المنزل لعملاء قاموا بطلب منتجات موجودة في المخزن. اتفق بائع التجزئة مع العميل على دفع العميل رسمًا بقيمة 25 دولارًا إضافيًا مقابل هذه الخدمة. يحتاج متلقي الأمر‬ إلى إضافة هذه الرسوم الإضافية إلى الحركة. بما أن الرسوم عبارة عن رسوم عامة لا تتعلق بأي منتج فردي في الأمر، سيتم استخدام تكاليف الرأس.

#### <a name="setup-and-configuration"></a>الإعداد والتكوين

تأكد من تكوين كود التكاليف الذي سيتم استخدامه في هذا السيناريو بشكل صحيح عن طريق الانتقال إلى **الحسابات المدينة \> إعداد التكاليف \> التكاليف** لتحديد كود تكاليف مناسب للسيناريو.

![مثال عن التكاليف](media/chargesexample.png)

إذا وجب اعتبار التكاليف على أنها تكاليف ذات صلة "بالشحن" لأغراض تتعلق بالخصومات أو الحملات الترويجية ذات صلة بالخصم، فعيّن **تكاليف الشحن** على كود التكاليف إلى **نعم**. إذا كان استرداد قيمة هذه التكاليف أمرًا مسموحًا به أيضًا أثناء معالجة حركة إرجاع في تطبيق نقطة البيع، فعيّن **قابل للاسترداد** إلى **نعم**. تنطبق علامة **قابل للاسترداد** فقط عند تعيين معلمة **استخدام التكاليف التلقائية المتقدمة** إلى **نعم**.

أرسل التكاليف إلى Commerce Scale Unit/قاعدة بيانات القنوات لتمكين نقطة البيع من تشغيل وظيفة **جدول التوزيع 1040**.

يجب تكوين عملية **إضافة تكاليف‬ الرأس‬** في [تخطيط شاشة نقطة البيع](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts) بحيث يستطيع زر يمكن للمستخدم الوصول إليه من نقطة البيع استدعاء هذه العملية (العملية 141). يجب أن يتم توزيع التغييرات في تخطيط الشاشة في القناة وأيضًا عبر وظيفة جدول التوزيع.

#### <a name="sales-processing-of-manual-header-charges"></a>معالجة المبيعات لتكاليف الرأس‏‎ اليدوية‬

لتنفيذ السيناريو في تطبيق نقطة البيع، سينشئ مستخدم نقطة البيع حركة المبيعات كالمعتاد، مع إضافة منتجات وأي تكوينات أخرى إلى عملية البيع. قبل تحصيل الدفع، يجب على المستخدم تنفيذ عملية **إضافة تكاليف‬ الرأس‬**، التي ستطالب المستخدم بتحديد كود تكاليف وإدخال قيمة التكاليف. عندما يستكمل المستخدم العملية، ستُضاف التكاليف إلى أمر المبيعات كتكاليف على مستوى الرأس‏‎.

يمكن تطبيق هذه العملية في مركز الاتصالات باستخدام ميزة **التكاليف** الموجودة على علامة التبويب **بيع** على شريط الأدوات. في صفحة **الاحتفاظ بالتكاليف**، بإمكان المستخدم إضافة بند تكاليف جديد إلى رأس الأمر.

### <a name="manual-line-charges-example"></a>مثال عن تكاليف البنود اليدوية

#### <a name="use-case-scenario"></a>سيناريو حالة الاستخدام

طلب عميل تغليف صنفين من الأصناف الخمسة الموجودة على أمر المبيعات بورق هدايا. يوفر بائع التجزئة هذه الخدمة الاختيارية مقابل رسم قيمته 2.00 دولار أمريكي لكل صنف. سيحتاج متلقي الأمر‬ إلى إضافة هذه الرسوم إلى الأصناف المحددة التي يجب تغليفها بورق هدايا.

#### <a name="setup-and-configuration"></a>الإعداد والتكوين

تأكد من تكوين كود التكاليف الذي سيتم استخدامه في هذا السيناريو بشكل صحيح عن طريق الانتقال إلى **الحسابات المدينة \> إعداد التكاليف \> التكاليف** لتحديد كود تكاليف مناسب للسيناريو.

إذا وجب اعتبار التكاليف على أنها تكاليف ذات صلة "بالشحن" لأغراض تتعلق بالخصومات أو الحملات الترويجية ذات صلة بالخصم، فعيّن **تكاليف الشحن** على كود التكاليف إلى **نعم**. إذا كان استرداد قيمة التكاليف أمرًا مسموحًا به أيضًا أثناء معالجة حركة إرجاع في تطبيق نقطة البيع، فعيّن **قابل للاسترداد** إلى **نعم**. تنطبق علامة **قابل للاسترداد** فقط عند تعيين معلمة **استخدام التكاليف التلقائية المتقدمة** إلى **نعم**.

أرسل التكاليف إلى Commerce Scale Unit/قاعدة بيانات القنوات لتمكين نقطة البيع من تشغيل وظيفة **جدول التوزيع 1040**.

يجب تكوين عملية **إضافة تكاليف‬ البنود‬‬** في [تخطيط شاشة نقطة البيع](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts) بحيث ستطيع زر يمكن للمستخدم الوصول إليه من نقطة البيع استدعاء هذه العملية (العملية 140). يجب أن يتم توزيع التغييرات في تخطيط الشاشة في القناة وأيضًا عبر وظيفة جدول التوزيع.

#### <a name="sales-processing-of-the-manual-line-charge"></a>معالجة المبيعات لتكاليف البنود اليدوية‬

لتنفيذ السيناريو في تطبيق نقطة البيع، سينشئ مستخدم نقطة البيع حركة المبيعات كالمعتاد، مع إضافة منتجات وأي تكوينات أخرى إلى عملية البيع. قبل تحصيل الدفع، يجب على المستخدم تحديد البند المعين الذي ستطبق التكاليف عليه من شاشة عرض قائمة بنود نقطة البيع وتنفيذ عملية **إضافة تكاليف الرأس**. ستتم مطالبة المستخدم بتحديد كود التكاليف وإدخال قيمة التكاليف. عندما يستكمل المستخدم العملية، سيتم ربط التكاليف بالبند وستُضاف إلى قيمة الأمر الإجمالية كتكاليف على مستوى البنود. بإمكان المستخدم تكرار العملية لإضافة المزيد من تكاليف البنود إلى بنود أخرى أصناف أخرى على المعاملة، إذا لزم الأمر.

يمكن تطبيق العملية نفسها في مركز الاتصال باستخدام ميزة "الاحتفاظ بالتكاليف" الموجودة ضمن القائمة المنسدلة **الماليات** في القسم **بنود أمر المبيعات** في صفحة **أمر المبيعات**. سيؤدي تحديد هذا الخيار إلى فتح صفحة **الاحتفاظ بالتكاليف** حيث يستطيع المستخدم إضافة تكاليف خاصة ببند جديد إلى الحركة.

## <a name="additional-features"></a>الميزات الإضافية

### <a name="editing-charges-on-a-pos-sales-transaction"></a>تحرير التكاليف في حركة مبيعات نقطة البيع

يجب إضافة العملية **إدارة التكاليف** (142) إلى [تخطيط شاشة نقطة البيع](https://docs.microsoft.com/dynamics365/unified-operations/retail/pos-screen-layouts) لتمكين المستخدم من عرض وتحرير أو استبدال تكاليف البنود أو الرؤوس المنشأة يدويًا أو المحسوبة بواسطة النظام. في حال عدم إضافة العملية، لن يتمكن المستخدمون من ضبط قيمة التكاليف على حركة نقطة البيع، ولن يتمكن هؤلاء أيضًا من عرض تفاصيل التكاليف، مثل نوع كود التكاليف المرتبط بالتكلفة.

في صفحة **إدارة التكاليف** في نقطة البيع، بإمكان المستخدم عرض تفاصيل التكاليف على مستوى البنود والرؤوس معًا. بإمكان المستخدم استخدام الوظيفة **تحرير** في هذه الصفحة لإجراء تغييرات على المبلغ المفروض على بند تكاليف محدد. عند استبدال بند تكاليف يدويًا، لن يعاد حسابه بطريقة منهجية إلا إذا بدأ المستخدم عملية **إعادة حساب التكاليف**.

إذا تم تكوين **كود سبب تجاوز التكاليف‬** على صفحة إعداد **معلمات Commerce**، ستتم مطالبة المستخدم بتقديم كود سبب عند تعديل التكاليف في تطبيق نقطة البيع.

إذا تم التقاط أكواد الأسباب للتكاليف التي تم استبدالها، فسيتوفر أيضًا تقرير جديد لمراجعة عمليات الاستبدال هذه والتدقيق فيها. يمكن العثور على التقرير في **Retail and Commerce \> الاستعلامات والتقارير \> محفوظات تجاوز التكاليف**.

### <a name="refunding-charges-on-a-pos-return-transaction"></a>إرجاع قيمة التكاليف على حركة إرجاع في نقطة البيع

إذا تم تعيين المعلمة **استخدام التكاليف التلقائية المتقدمة‬‏‫** إلى **نعم**، فلن تعود معلمة Commerce الموجودة **مبلغ مسترد من تكاليف الشحن** قابلة للتطبيق. للإشارة إلى التكاليف التي يجب إرجاعها بطريقة منهجية إلى العميل عند استخدام التكاليف التلقائية المتقدمة، تأكد من تكوين كود التكاليف ذي الصلة على أنه **قابل للاسترداد** على صفحة إعداد **كود التكاليف‬**. تأكد من مزامنة الإعدادات مع قواعد بيانات قناة Commerce عبر معالجة جدول التوزيع.

### <a name="refunding-charges-on-a-return-order-transaction"></a>إرجاع قيمة التكاليف على حركة أمر إرجاع

لا تُعاد التكاليف بشكل منهجي إلى **أوامر الإرجاع** التي يتم إنشاؤها في Commerce. تتم مطالبة المستخدمين بتحديد الخيار **نسخ التكاليف‬** عند إنشاء **أمر الإرجاع**. إذا لم يتم تحديد الخيار **نسخ المصاريف**، فلن تُعاد التكاليف من حركة المبيعات الأصلية بشكل تلقائي. إذا تم تحديد الخيار **نسخ المصاريف**، سيتم نسخ كافة التكاليف إلى أمر الإرجاع وبإمكان المستخدم تحرير أو إزالة أي تكاليف لا يريد استردادها. لا تتعرف عملية أمر إرجاع المبيعات‬ في مركز الاتصال على العلامة **قابل للاسترداد** على صفحة **كود التكاليف**.

### <a name="configuring-pos-receipts-to-show-charges"></a>تكوين إيصالات نقطة البيع لعرض التكاليف

تمت إضافة عناصر الإيصال التالية إلى بند وتذييل الإيصال لدعم وظائف التكاليف التلقائية المتقدمة.

- **تكاليف شحن البنود** - يمكن استخدام هذا العنصر على مستوى البنود لتلخيص أكواد التكاليف الخاصة التي تم تطبيقها على بنود المبيعات. ستظهر هنا فقط التكاليف التي تم وضع علامة عليها على أنها تكاليف **شحن** على صفحة **كود التكاليف**.
- **تكاليف بنود أخرى** - يمكن استخدام هذا العنصر على مستوى البنود لتلخيص أكواد التكاليف التي لا علاقة لها بالشحن والتي تم تطبيقها على بنود المبيعات. هذه أكواد التكاليف حيث لم يتم تمكين علامة **الشحن** على صفحة **كود التكاليف**.
- **تفاصيل تكاليف شحن الأمر** - يعرض هذا العنصر على مستوى التذييل أوصاف أكواد التكاليف التي تم تطبيقها على الأمر والتي تم وضعها علامة عليها على أنها تكاليف **الشحن** في صفحة إعداد **كود التكاليف** صفحة الإعداد.
- **تكاليف شحن الأمر** - يعرض هذا العنصر على مستوى التذييل قيمة الدولار للتكاليف المرتبطة بالشحن.
- **تفاصيل تكاليف أخرى خاصة بالأمر** - يعرض هذا العنصر على مستوى التذييل وصف أكواد التكاليف التي تم تطبيقها على الأمر والتي لم توضع علامة عليها على أنها تكاليف مرتبطة بالشحن.
- **تكاليف أخرى خاصة بالأمر** - يعرض هذا العنصر على مستوى التذييل قيمة الدولار للتكاليف الأخرى غير المرتبطة بالشحن.

من المستحسن أن تقوم المؤسسة أيضًا بإضافة حقول نص حر إلى تذييل الإيصال، من أجل تعريف النواحي حيث سيتم تلخيص التكاليف.

### <a name="preventing-charges-from-being-calculated-until-the-pos-order-is-completed"></a>منع حساب التكاليف حتى اكتمال أمر نقطة البيع

قد تفضل بعض المؤسسات الانتظار حتى ينتهي المستخدم من إضافة كافة بنود المبيعات إلى حركة نقطة البيع قبل حساب التكاليف. لمنع حساب التكاليف عند إضافة عناصر إلى حركة نقطة البيع، يمكنك تشغيل المعلمة **حساب التكلفة يدويًا‬** في **ملف تعريف الوظائف** المستخدم بواسطة المتجر. يؤدي تمكين هذه المعلمة إلى مطالبة مستخدم نقطة البيع باستخدام العملية **حساب الإجماليات** عندما ينتهي من إضافة المنتجات إلى حركة نقطة البيع. ستقوم عندئذٍ عملية **حساب الإجماليات** بتشغيل حساب التكاليف التلقائية لرأس أو بنود الأمر، كما هو ملائم.

### <a name="charges-override-reports"></a>تقارير تجاوز التكاليف

إذا قام المستخدم بتجاور التكاليف المحسوبة يدويًا أو إذا أضاف تكلفة يدوية إلى الحركة، فستكون هذه البيانات متوفرة للتدقيق في تقرير **محفوظات تجاوز التكاليف**. يمكن الوصول إلى التقرير في **Retail and Commerce \> الاستعلامات والتقارير \> محفوظات تجاوز التكاليف**. من الضروري الإشارة إلى استيراد البيانات المطلوبة لهذا التقرير من قاعدة بيانات القناة إلى المقر الرئيسي من خلال وظائف جدولة التوزيع "P". وبالتالي، فإن المعلومات حول تجاوزات التكاليف التي تم تنفيذها للتوّ في نقطة البيع قد لا تكون متوفرة على الفور في هذا التقرير حتى قيام هذه الوظيفة بتحميل بيانات حركة المتجر إلى المقر الرئيسي.

## <a name="additional-resources"></a>الموارد الإضافية

[تمكين التكاليف التلقائية وتكوينها حسب القناة](auto-charges-by-channel.md)

[توزيع تكاليف الرأس لمطابقة بنود المبيعات](pro-rate-charges-matching-lines.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]