---
title: تحليلات Commerce (إصدار أولي)
description: يشرح هذا الموضوع كيفية تثبيت إمكانية التحليل واستخدامها في Microsoft Dynamics 365 Commerce.
author: AamirAllaq
ms.date: 02/24/2022
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: aamiral
ms.search.validFrom: 2021-11-12
ms.openlocfilehash: 63d6e5ef7e883578106495d5ec778bbd686ee92d
ms.sourcegitcommit: 722854cb0d302d01ce3d9580ac80dc7c23d19bf5
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 04/06/2022
ms.locfileid: "8549997"
---
# <a name="commerce-analytics-preview"></a>تحليلات Commerce (إصدار أولي)

[!include [banner](includes/banner.md)]

يوضح هذا الموضوع كيفية تثبيت تحليلات Commerce (إصدار أولي)، وإمكانية التحليل الوظيفي المضمن في Microsoft Dynamics 365 Commerce.

## <a name="commerce-analytics-preview-live-demo"></a>عرض توضيحي مباشر لتحليلات Commerce (إصدار أولي)

يمكنك تجربة [عرض توضيحي مباشر لتحليلات Commerce (إصدار أولي)](https://aka.ms/CommerceAnalyticsDemo).

![ملخص تحليلات Commerce (إصدار أولي)](media/CommerceAnalytics_Summary.png)
![مدفوعات تحليلات Commerce (إصدار أولي)](media/CommerceAnalytics_Payments.png)
![نشاط ويب تحليلات Commerce (إصدار أولي)](media/CommerceAnalytics_WebActivity.png)

## <a name="commerce-analytics-preview-system-architecture"></a>بنية نظام تحليلات Commerce (إصدار أولي)

### <a name="key-components"></a>المكونات الرئيسية

تتكون تحليلات Commerce (إصدار أولي) من المكونات الأساسية التالية:

- تقارير Power BI التفاعلية الجاهزة للاستخدام
- طرق عرض SQL في Azure Synapse Analytics
- بيانات العنصر والأنطولوجيا في Azure Data Lake
- البيانات الأولية في Data Lake

![المكونات الأساسية لبنية نظام تحليلات Commerce](media/CommerceAnalyticsArchitecture_v2.png)

### <a name="data-flow"></a>تدفق البيانات

#### <a name="step-1-data-generation"></a>الخطوة 1: إنشاء البيانات

تنشأ البيانات إما كبيانات معاملات أو بيانات سلوكية من أحد المصادر التالية:

- يستخدم إقران مركز الاتصال عميل Commerce HQ لمعالجة أوامر المبيعات.
- يقوم الصراف في نقطة البيع (POS) بمعالجة حركات المبيعات.
- يتم إنشاء المبيعات في التطبيقات المخصصة باستخدام Commerce بلا عنوان (Commerce Scale Unit).
- يقوم متسوق التجارة الإلكترونية باستعراض موقع ويب التجارة الإكترونية.
- يقوم متسوق التجارة الإلكترونية بإصدار طلب على موقع ويب التجارة الإكترونية.
- يتم إنتاج البيانات بواسطة أنظمة أخرى، مثل Dynamics 365 Connected Spaces.

#### <a name="step-2-ingestion-and-pre-processing"></a>الخطوة 2: الاستيعاب والمعالجة المسبقة

تنتقل بيانات الحركة إلى HHQ إما بشكل مباشر (في حالة الأوامر التي يتم التقاطها مباشرة في عميل Commerce HQ) أو عبر Commerce Scale Unit (في حالة الأوامر التي يتم الحصول عليها في نقطة البيع، أو في التجارة الإكترونية، أو في العملاء المخصصين الذين يستخدمون Commerce بدون عنوان).

عندئذ يتم استخدام ميزة التصدير إلى Data Lake لنسخ بيانات المعاملات إلى مستودع البيانات الخاصة بك كبيانات أولية. في مستودع البيانات، يتم تخزين البيانات الأولية في مجلد الجداول.

يتم إرسال بيانات نشاط الويب الخاصة بالتجارة الإلكترونية مباشرة إلى مستودع البيانات. يتم إرسال البيانات التي يتم إنتاجها بواسطة أنظمة أخرى، مثل Dynamics 365 Connected Spaces، مباشرة إلى مستودع البيانات بواسطة تلك الأنظمة.

#### <a name="step-3-transformation-and-aggregation"></a>الخطوة 3: التحويل والتجميع

بعد أن تكون البيانات الأولية موجودة في مستودع البيانات الخاص بك، تقوم خدمة تحليلات Commerce بقراءتها وتحويلها وتجميعها وكتابتها مرة أخرى إلى مستودع البيانات في نموذج الكيانات المنطقية (في مجلد الكيانات) والمقاييس المجمعة (في مجلد الأنطولوجيات).

#### <a name="step-4-querying"></a>الخطوة 4: الاستعلام

يتم استخدام Azure Synapse Analytics للاستعلام عن البيانات الموجودة في مستودع البيانات الخاص بك عبر واجهة Transact-SQL (T-SQL). تتضمن هذه الواجهة طرق عرض SQL. وتمكن طرق عرض SQL الاستعلام المتحد عن البيانات في مستودع البيانات، سواء كان ذلك بشكل مباشر عبر عميل T-SQL (بالنسبة للتحليل المخصص) أو عبر أداة مرئيات مثل Power BI.

#### <a name="step-5-modeling-and-serving"></a>الخطوة 5: التصميم والخدمة

تنتقل البيانات التي يتم الاستعلام عنها بواسطة Azure Synapse Analytics إلى semantic model في Power BI. اعتمادًا على نوع البيانات، فإنه إما قد تم استيراده بشكل دوري في الذاكرة إلى Power BI أو يتم الاستعلام عنه بشكل مباشر في وقت التشغيل.

وأخيرًا، يتم تقديم البيانات في مرئيات Power BI، بحيث يمكن للمستخدمين عرضها والتعامل معها.

## <a name="commerce-analytics-preview-functional-overview"></a>نظرة عامة حول وظائف تحليلات Commerce (إصدار أولي)

### <a name="summary"></a>الملخص

يتضمن تطبيق قالب تحليلات Commerce صفحات التقارير الرئيسية التالية:

1. [عوامل تصفية المستوي الأعلى](#TopLevelFilters)
2. [المنتجات](#ProductsPage)
3. [العملاء](#CustomersPage)
4. [القنوات](#ChannelsPage)
5. [ال‏‏مبيعات](#SalesPage)
6. [الهوامش](#MarginsPage)
7. [مرتجعات](#ReturnsPage)
8. [الخصومات](#DiscountsPage)
9. [المدفوعات](#PaymentsPage)
10. [العملاء](#CustomersPage)
11. [مقارنة](#ComparisonPage)
12. [نشاط ويب](#WebActivityPage)
13. [نشاط الويب - عامل تصفية المستوى الأعلى](#WebActivityTopLevelFilters)

#### <a name="top-level-filters"></a>عوامل تصفية <a name="TopLevelFilters"></a> ذات المستوى الأعلى

- إعدادات البيانات

    - السنة
    - ربع السنة
    - الشهر
    - الأسبوع
    - اليوم

- إعدادات القناة

    - كيان قانوني
    - نوع القناة
    - نوع العميل
    - نوع المبيعات
    - التدفقات
    - التدرج الهرمي للمؤسسات

- إعدادات المنتج

    - التدرج الهرمي للفئات
    - ‏‏الفئة‬

#### <a name="products"></a>منتجات <a name="ProductsPage"></a>

- المبيعات
- الهامش
- مرتجعات

#### <a name="customers"></a>عملاء <a name="CustomersPage"></a>

- المبيعات
- الهامش
- مرتجعات

#### <a name="channels"></a>قنوات <a name="ChannelsPage"></a>

- المبيعات
- الهامش
- مرتجعات

### <a name="sales"></a>مبيعات <a name="SalesPage"></a>

- حسب موقع التسليم
- حسب القناة/المتجر/الوحدة الطرفية
- بواسطة الموظف
- حسب التاريخ
- بالساعة
- حسب فئة المنتج

### <a name="margins"></a>هوامش <a name="MarginsPage"></a>

- حسب موقع التسليم
- منتج ثانوي
- حسب التاريخ

### <a name="returns"></a>مرتجعات <a name="ReturnsPage"></a>

- المرتجع حسب المبلغ

    - حسب المتجر
    - منتج ثانوي
    - حسب التاريخ

- المرتجع حسب المعاملة

    - حسب المتجر
    - منتج ثانوي
    - حسب التاريخ

### <a name="discounts"></a>خصومات <a name="DiscountsPage"></a>

- حسب المتجر
- منتج ثانوي
- حسب التاريخ
- التجزئة

    - كيان قانوني
    - المتجر
    - نوع الخصم
    - اسم الخصم
    - المنتج

### <a name="payments"></a>مدفوعات <a name="PaymentsPage"></a>

- حسب القناة/الوحدة الطرفية
- حسب طريقة/نوع الدفع
- حسب التاريخ
- التجزئة

    - كيان قانوني
    - نوع القناة
    - المتجر
    - الوحدة الطرفية
    - طريقة الدفع

### <a name="customers"></a>عملاء <a name="CustomersPage"></a>

- القيمة الدائمة (LTV)

    يتم حساب LTV استنادًا إلى المبلغ الإجمالي الذي يقضيه العميل عبر كافة قنوات مبيعات Dynamics 365 Commerce (بما في ذلك تقطة البيع والتجارة الإلكترونية ومركز الاتصال).

- Recency

    يتم حساب Recency استنادًا إلى عدد الأيام منذ آخر تفاعل تعاملي للعميل مع المؤسسة. حاليًا، لا يضع recency إشارات التفاعل غير التعاملية في الاعتبار، مثل نشاط استعراض التجارة الإلكترونية.

- التكرار

    يتم حساب التردد استنادًا إلى تفاعل التعاملي للعميل مع المؤسسة. حاليًا، لا يضع التردد إشارات التفاعل غير التعاملية في الاعتبار، مثل نشاط استعراض التجارة الإلكترونية.

- طول العلاقة

    يتم حساب طول العلاقة استنادًا إلى عدد الأيام منذ إنشاء سجل العميل في النظام.

- عدد الحركات

### <a name="comparison"></a>مقارنة <a name="ComparisonPage"></a>

- مقارنة المنتجات حسب الفترة الزمنية

    - المبيعات فرق المبيعات
    - الهوامش واختلاف الهوامش

- العميل حسب الفترة

    - المبيعات فرق المبيعات
    - الهوامش واختلاف الهوامش

### <a name="web-activity"></a>نشاط ويب <a name="WebActivityPage"></a>

#### <a name="top-level-filters"></a>عوامل تصفية <a name="WebActivityTopLevelFilters"></a> ذات المستوى الأعلى

- نطاق التاريخ
- نوع القناة
- التدفقات
- التدرج الهرمي للفئات

#### <a name="acquisitions"></a>عمليات الاستحواذ

- طرق عرض الصفحة

    - حسب البلد أو المنطقة
    - منتج ثانوي
    - حسب حالة تسجيل دخول المستخدم
    - حسب التاريخ

- أوامر التجارة الإلكترونية
- معدل التحويل

    - حسب التاريخ

- قمع التحويل

    - طريقة عرض الصفحة حسب نوع الصفحة (الصفحة الرئيسية أو صفحة الفئة أو صفحة تفاصيل المنتج)
    - إضافة إلى عربة التسوق
    - ‏‫سداد‬ مع الخروج
    - الشراء

#### <a name="sessions"></a>جلسات

جلسة العمل عبارة عن حلقة من زيارة المستخدم إلى موقع الويب الخاص بالتجارة الإلكترونية. يتم اعتبار جلسة العمل منتهية بعد 30 دقيقة من عدم النشاط أو 24 ساعة من الاستخدام النشط.

- حسب البلد أو المنطقة
- حسب الأصل (مرجع خارجي)
- حسب حالة تسجيل دخول المستخدم
- عدد جلسات العمل

    - حسب التاريخ
    - حسب صفحة الإدخال

- الأمر لكل جلسة عمل

    - حسب التاريخ

- معدل ارتداد جلسة العمل

    تعتبر جلسة العمل التي تقوم بتجاهلها هي الجلسة التي يقوم المستخدم بالخروج منها فور زيارة موقع ويب التجارة الإلكترونية. لمزيد من المعلومات، راجع [معدل الارتداد](https://en.wikipedia.org/wiki/Bounce_rate).

- معدل النقرات لكل جلسة عمل

#### <a name="visitors"></a>الزوار

يتم تعريف زائر مجهول على موقع التجارة الإلكترونية بشكل فريد استنادًا إلى المستعرض المحدد والجهاز المحدد الذي يستخدمه المستخدم. لا تقوم تحليلات Commerce بتتبع الزوار المجهولين عبر المستعرضات أو الأجهزة المختلفة. ويتم تعريف الزائر المجهول الذي يستخدم المستعرض نفسه على الجهاز نفسه بشكل فريد عبر جلسات المستخدم المتعددة، حتى يتم مسح بيانات المستعرض المخزنة مؤقتًا أو تنقضي المدة الزمنية (عادةً ما تكون 12 شهرًا)، أيهما يحدث أولاً.

إذا قام الزوار باستعراض موقع التجارة الإلكترونية أثناء قيامهم بتسجيل الدخول، فيمكن أن توفر تحليلات Commerce معلومات إضافية عنها. تعتمد هذه المعلومات على العلاقة الموجودة التي تتمتع بها المؤسسة الخاصة بك مع الزوار كنتيجة لعمليات الشراء السابقة الخاصة بهم عبر كافة قنوات مبيعات Dynamics 365 Commerce (بما في ذلك نقاط البيع والتجارة الإلكترونية ومركز الاتصال). تتضمن المعلومات الإضافية recency وطول العلاقة والقيمة الدائمة وبيانات التكرار.

- هامش الزائر
- متوسط أوامر الزائرين
- متوسط مبيعات الزائرين
- عدد زائري التجارة الإلكترونية

    - حسب التاريخ
    - حسب المكان

        في الوقت الحالي، يمكن أن توفر تحليلات Commerce التفاصيل على مستوى البلد/المنطقة فقط لمعرفة المعارف الدقيقة لموقع زوار التجارة الإلكترونية.

    - حسب recency

        يتم حساب Recency استنادًا إلى عدد الأيام منذ آخر تفاعل تعاملي للعميل مع المؤسسة. حاليًا، لا يضع recency إشارات التفاعل غير التعاملية في الاعتبار، مثل نشاط استعراض التجارة الإلكترونية.

    - حسب طول العلاقة

        يتم حساب طول العلاقة استنادًا إلى عدد الأيام منذ إنشاء سجل العميل في النظام.

    - حسب القيمة الدائمة (LTV)

        يتم حساب LTV استنادًا إلى المبلغ الإجمالي الذي يقضيه العميل عبر كافة قنوات مبيعات Dynamics 365 Commerce (بما في ذلك تقطة البيع والتجارة الإلكترونية ومركز الاتصال).

    - حسب التكرار

        يتم حساب التردد استنادًا إلى تفاعل التعاملي للعميل مع المؤسسة. حاليًا، لا يضع التردد إشارات التفاعل غير التعاملية في الاعتبار، مثل نشاط استعراض التجارة الإلكترونية.

#### <a name="impressions"></a>العروض

يُعد العرض طريقة عرض مفردة لمنتج مرئي عن طريق زائر تجارة إلكترونية. على سبيل المثال، يقوم زائر التجارة الإلكترونية بالانتقال إلى الصفحة الرئيسية لموقع ويب التجارة الإلكترونية وعرض منتج سجادة اليوجا في الوحدة النمطية لقائمة **الأعلى مبيعًا**. ثم يقوم الزائر بعرض منتج سجادة اليوجا نفسه في الوحدة النمطية لقائمة **العناصر المقترحة لك**. في هذه الحالة، يوجد عرضين للمنتج.

حاليًا، يتم تتبع العروض في الأسطح التالية:

- القوائم (على سبيل المثال، **موصى به**، **الأفضل مبيعًا**، **العناصر المقترحة لك**، **المتداول**)
- وحدة عربة التسوق
- حاوية نتائج البحث
- حاوية نتائج بحث الفئة

حاليًا، لا يتم وضع المنتجات التي يتم تقديمها في الوحدة النمطية الدوارة أو المرئيات المخصصة في المقاييس المرتبطة بالعرض في الاعتبار.

تتضمن الصفحة **تقرير العرض** القياسات التالية:

- عدد العروض

    - حسب نوع الصفحة والوحدة النمطية

        نوع الصفحة هو النوع العام للصفحة التي يتم تعريفها لكل صفحة على موقع ويب التجارة الإلكترونية. نوع الوحدة النمطية هو نوع الوحدة النمطية المرئية للتجارة الإلكترونية التي يظهر المنتج فيها.

        لعرض العروض بواسطة الوحدة النمطية، قد تحتاج إلى التنقل لأسفل في مرئيات الصفحة والوحدة النمطية.

    - منتج ثانوي
    - حسب حالة تسجيل دخول المستخدم
    - حسب التاريخ

- عدد نقرات العروض

    يحدث نقر العرض عندما يحدد زائر التجارة الإلكترونية منتجًا مرئيًا. بشكل نموذجي، يتم نقل الزائر بعد ذلك إلى صفحة تفاصيل المنتج الخاصة بالمنتج.

- نسبة النقرات إلى الطلبات (CTR) الخاصة بالعروض

    يتم حساب CTR كإجمالي عدد نقرات العروض مقسومًا على العدد الإجمالي للعروض.

## <a name="commerce-analytics-preview-installation"></a>تثبيت تحليلات Commerce (إصدار أولي)

> [!NOTE]
> إن تحليلات Commerce (إصدار أولي) قيد المعاينة في مناطق الولايات المتحدة وكندا والمملكة المتحدة وأوروبا وجنوب شرق أسيا وشرق أسيا وأستراليا واليابان. إذا كانت بيئة التمويل والعمليات الخاصة بك في أي من هذه المناطق، فإنه يمكنك تمكين هذه الميزة في البيئة الخاصة بك باستخدام Microsoft Dynamics ‏Lifecycle Services ‏(LCS). قبل أن تتمكن من استخدام هذه الميزة، راجع [تكوين التصدير إلى Azure Data Lake](../fin-ops-core/dev-itpro/data-entities/configure-export-data-lake.md).

### <a name="enable-and-configure-commerce-analytics-preview"></a><a name="enableCommerceAnalytics"></a>تمكين تحليلات Commerce وتكوينها (إصدار أولي)

لتثبيت تحليلات Commerce (إصدار أولي)، يجب أن يكون لديك أذونات لإنشاء موارد في اشتراك Azure. كما يجب أن يكون لديك أذونات لتثبيت الوظائف الإضافية في LCS.

لتمكين وتكوين تحليلات Commerce (معاينة)، اتبع هذه الخطوات.

1. [قم بإرسال نموذج مأخذ الإصدار الأولي لتحليلات Commerce (إصدار أولي)](#joinPreview)
2. [تمكين التصدير إلى الوظيفة الإضافية في Data Lake وتكوينه](#enableExportToDataLake).
3. [قم بتثبيت وتكوين Azure Synapse workspace](#configureAzureSynapse).
4. [إضافة الأسرار إلى المخزن الأساسي](#addSecrets).
5. [الوظيفة الإضافية تمكين تحليلات Commerce وتكوينها (إصدار أولي)](#enableCommerceAnalyticsAddin).
6. [قم بتثبيت تطبيق قالب Power BI ](#powerbi).

### <a name="submit-the-preview-intake-form-for-commerce-analytics-preview"></a><a name="joinPreview"></a>إرسال نموذج مأخذ الإصدار الأولي لتحليلات Commerce (إصدار أولي)

قم بإرسال [نموذج مأخذ الإصدار الأولي لتحليلات Commerce (إصدار أولي)](https://forms.office.com/r/vW5VLJGXZ2). بعد معالجة طلبك، سيتم إرسال بريد إلكتروني للتأكيد إلى عنوان البريد الإلكتروني الذي قدمته في النموذج.

### <a name="enable-and-configure-the-export-to-data-lake-add-in"></a><a name="enableExportToDataLake"></a>تمكين التصدير إلى الوظيفة الإضافية في Data Lake وتكوينه

> [!IMPORTANT]
> عند تكوين الوظيفة الإضافية للتصدير إلى Data Lake، قم بإلغاء تحديد خانة الاختيار **تغييرات البيانات في الوقت الحقيقي** في مربع التصدير إلى صفحة إعداد الوظيفة الإضافية Data Lake للتأكد من عدم تمكين تغييرات البيانات في الوقت الفعلي. ميزة **تغييرات البيانات في الوقت الحقيقي** قيد المعاينة ولا تدعمها Commerce Analytics حاليًا. إذا قمت بتمكين الميزة، فلن تتمكن Commerce Analytics من معالجة بياناتك في مستودع البيانات، ولن تعرض معظم تقارير Power BI أي بيانات.

تعتمد تحليلات Commerce (الإصدار الأولي) على ميزة تصدير إلى Data Lake لتصدير Commerce headquarters إلى Data Lake والحفاظ على البيانات محدثة. قبل تكوين تحليلات Commerce (إصدار أولي)، قم بتمكين التصدير إلى Data Lake وتكوينه باتباع الخطوات التالية في [تكوين التصدير إلى Azure Data Lake](../fin-ops-core/dev-itpro/data-entities/configure-export-data-lake.md).

أثناء قيامك بتكوين التصدير إلى الوظيفة الإضافية في Data Lake، قم بتدوين المعلومات التالية، لأنه يجب عليك إدخالها لاحقًا:

- <a name="keyVault"></a>اسم نظام اسم المجال (DNS) للمخزن الرئيسي الذي قدمته.
- أسماء الكلمات السرية التي قمت بتوفيرها، والتي تحتوي علي معرف التطبيق وسر التطبيق. لمزيد من المعلومات، راجع [إضافة أسرار إلى المخزن الرئيسي](../fin-ops-core/dev-itpro/data-entities/configure-export-data-lake.md#addsecrets).

### <a name="install-and-configure-an-azure-synapse-workspace"></a><a name="configureAzureSynapse"></a>تثبيت وتكوين Azure Synapse workspace

تتطلب Commerce Analytics (إصدار أولي) توفير Synapse SQL عند الطلب في Azure Synapse ‏workspace. لتثبيت مساحة العمل  Azure Synapse workspaceوتكوينها، اتبع هذه الخطوات:

1. قم بتثبيت Azure Synapse workspace في اشتراك Azure الخاص بك. لمزيد من المعلومات، راجع [تشغيل سريع: إنشاء Synapse workspace](/azure/synapse-analytics/quickstart-create-workspace).
1. <a name="serverlessep"></a>بعد توفير مساحة العمل، افتح الصفحة نظرة عامة على المورد، وقم بتدوين قيمة **نقطة نهاية SQL بلا خادم**. سيتعين عليك تخزين هذه القيمة في المخزن الرئيسي في القسم التالي.
1. في صفحة النظرة العامة، حدد ارتباط **فتح Synapse Studio** لفتح استوديو Azure Synapse لمساحة عملك.
1. حدد **إدارة** على القائمة اليسرى. لمشاهده أسماء القوائم، قد تحتاج إلى تحديد ارتباط التوسيع في القائمة اليسرى.
1. ضمن **مجموعة الأمان**، حدد **التحكم في الوصول**. 
1. حدد **إضافة**.
1. في جزء **إضافة تعيين الدور**، قم بتعيين الخيارات كما هو موضح في الجدول التالي.

    | خيار | قيمة |
    |--------|-------|
    | النطاق | حدد **مساحة العمل**. |
    | دور | حدد **مسؤول Synapse SQL**.|
    | تحديد مستخدم | ابحث عن اسم التطبيق الذي [قمت بإنشائه أثناء تثبيت الوظيفة الإضافية في Data Lake](../fin-ops-core/dev-itpro/data-entities/configure-export-data-lake.md#createapplication). عند ظهور التطبيق في نتائج البحث، قم بتحديده. سيظهر التطبيق الآن في قسم **المستخدمين أو المجموعات أو الأساسيات المحددة الخاصة بالخدمة**. |

1. حدد **تطبيق** لإكمال تعيين الدور. يتم منح التطبيق امتيازات مسؤول Synapse SQL. لذلك، يمكنه إنشاء الملفات الشخصية المطلوبة أثناء تكوين الوظيفة الإضافية LCS لـ Commerce Analytics (معاينة).

### <a name="add-secrets-to-the-key-vault"></a><a name="addSecrets"></a>إضافة الأسرار إلى المخزن الأساسي

في نفس [المخزن الأساسي](../fin-ops-core/dev-itpro/data-entities/configure-export-data-lake.md#createkeyvault) الذي استخدمته أثناء قيامك بتكوين التصدير إلى الوظيفة الإضافية لـ Data Lake، يجب إضافة الأسرار الموضحة في الجدول التالي. لكل سر، يجب عليك توفير اسم سر والقيمة المحددة.

| اسم السر المقترح | قيمة سرية | مثال قيمة السر |
|---------|---------|---------|
| synapse-sql-server | قيمة نقطة نهاية SQL بدون خادم التي سجلتها أثناء قيامك [بتكوين Azure Synapse ‏workspace](#serverlessep). | `test-ondemand.sql.azuresynapse.net` |
| <a name="roUser"></a>readonly-sql-pwd | كلمه المرور التي سيتم تعيينها لمستخدم القراءة فقط لـ SQL. سيستخدم تقرير Power BI كلمة المرور هذه للاتصال بـ SQL بلا خادم. لتعيين كلمه المرور، اتبع نهج كلمه المرور الخاصة بالمؤسسة. | |

### <a name="enable-and-configure-the-commerce-analytics-preview-add-in"></a><a name="enableCommerceAnalyticsAddin"></a>الوظيفة الإضافية تمكين تحليلات Commerce وتكوينها (إصدار أولي)

لتثبيت الوظيفة الإضافية لتحليلات Commerce (إصدار أولي) في LCS، يجب أن تكون مسؤول بيئة في LCS للبيئة التي تخطط لاستخدامها.

لتثبيت الوظيفة الإضافية لتحليلات Commerce (الإصدار الأولي) وتكوينها، اتبع هذه الخطوات.

1. قم بتسجيل الدخول إلى [LCS](https://lcs.dynamics.com/)، وانتقل إلى بيئتك.
2. على الصفحة **البيئة**، انتقل إلى علامة التبويب **الوظائف الإضافية للبيئة**، حدد **تثبيت وظيفة إضافية جديدة**.
3. في مربع الحوار، حدد **تحليلات Commerce (إصدار أولي)**.
4. في مربع الحوار **إعداد الوظيفة الإضافية**، أدخل المعلومات التالية.

    | المعلومات | المصدر | قيمه المثال |
    |---|---|---|
    | Azure Active Directory معرف المستأجر (Azure AD) | قم بتسجيل الدخول إلى [مدخل Azure](https://portal.azure.com/)، وافتح الخدمة **Azure Active Directory**. بعد ذلك، افتح صفحة **الخصائص**، وانسخ القيمة في حقل **معرف المستأجر**. | `72f988bf-0000-0000-00000-2d7cd011db47` |
    | اسم DNS للمخزن الرئيسي في Azure | أدخل اسم DNS للمخزن الرئيسي الخاص بك. يجب تدوين ملاحظة بهذه القيمة أثناء [تكوين التصدير إلى الوظيفة الإضافية في Data Lake](#keyVault). | `https://contosod365datafeedpoc.vault.azure.net/` |
    | اسم السر الذي يحتوي على معرف التطبيق | أدخل الاسم السري الذي يخزن معرف التطبيق. يجب تدوين ملاحظة بهذه القيمة أثناء [تكوين التصدير إلى الوظيفة الإضافية في Data Lake](#keyVault). | `app-id` |
    | اسم السر الذي يحتوي على سر التطبيق | أدخل الاسم السري الذي يخزن سر التطبيق. يجب تدوين ملاحظة بهذه القيمة أثناء [تكوين التصدير إلى الوظيفة الإضافية في Data Lake](#keyVault). | `app-secret` |
    | اسم السر الذي يحتوي علي نقطة نهاية SQL بلا خادم لـ Azure Synapse | أدخل اسم السر الذي يخزن نقطة نهاية SQL بلا خادم. يجب أن تكون قد أنشأت السر أثناء قيامك [بإضافة الأسرار إلى القيمة الأساسية](#addSecrets). | `synapse-sql-server` |
    | اسم السر الذي يحتوي على كلمة المرور المعينة لمستخدمي SQL للقراءة فقط في Azure Synapse | أدخل اسم السر الذي يخزن كلمة المرور التي تريد تعيينها لمستخدم للقراءة فقط لـ SQL بلا خادم. سيتم إنشاء هذا المستخدم لك ويجب استخدامه في تقرير Power BI للاتصال بخادم SQL بلا خادم. يجب أن تكون قد أنشأت السر أثناء قيامك [بإضافة الأسرار إلى القيمة الأساسية](#addSecrets). | `readonly-sql-pwd` |

1. قم بقبول شروط العرض عن طريق تحديد خانة الاختيار، ثم حدد **تثبيت**.

    يقوم النظام بتثبيت الوظيفة الإضافية لتحليلات Commerce (إصدار أولي) وتكوينها للبيئة. يمكن أن تستغرق هذه العملية بضع دقائق. بعد الاكتمال، فإنه يجب إدراج **تحليلات Commerce (إصدار أولي)** على الصفحة **البيئة**، ويجب **تثبيت** الحالة.

### <a name="install-the-power-bi-template-app"></a><a name="powerbi"></a>تثبيت تطبيق قالب Power BI

لتثبيت تطبيق قالب Power BI لتحليلات Commerce (الإصدار الأولي)، اتبع هذه الخطوات.

1. سجل الدخول إلى مدخل [Power BI](https://powerbi.microsoft.com/) باستخدام معرف المؤسسة الخاص بك.
1. قم بتثبيت تطبيق قالب تحليلات Commerce (إصدار أولي) Power BI عن طريق الانتقال إلى [https://aka.ms/cdireport-installapp](https://aka.ms/cdireport-installapp). بدلاً من ذلك، زر [صفحة AppSource لـ Dynamics 365 Commerce Analytics](https://appsource.microsoft.com/product/power-bi/dynamics-365-commerce.dydnamics-365-commerce-analytics)، وحدد **الحصول عليه الآن**.
1. إذا قمت بتثبيت التطبيق للمرة الأولى، تخطى إلى الخطوة 5. إذا قمت بتثبيته من قبل، فسيتم تطبيق الخيارات التالية لتحديث التطبيق:

    - **تحديث مساحة العمل والتطبيق** – قم بتحديث تطبيق القالب الحالي واستبدل إعدادات التطبيق الحالي، مثل اسم مثيل التطبيق وتكوينات الإذن.
    - **تحديث محتوى مساحة العمل فقط دون تحديث التطبيق** – قم بتحديث تطبيق القالب الموجود، لكن مع الاحتفاظ بإعدادات التطبيق الحالية. *يُعد هذا الخيار هو الخيار المُوصى به لتحديثات التطبيقات.*
    - **تثبيت نسخة أخرى من التطبيق في مساحة عمل جديدة** – قم بإنشاء مساحة عمل جديدة، ثم قم بإنشاء نسخة من تطبيق القالب الموجود فيه. ستترك مساحة العمل الموجودة سليمة.

1. حدد أحد خيارات التحديث، ثم حدد **تثبيت**.
1. افتح التطبيق المثبت بتحديد **التطبيقات** في الجزء الأيسر ثم حدد التطبيق.
1. قم بتوصيل التطبيق بمصدر البيانات الخاص بك عن طريق تحديد **اتصال**. إذا قمت بتثبيت التطبيق قبل ذلك، حدد الارتباط **الاتصال بالبيانات الخاص بك** في شريط الرسائل الأصفر.
1. قم بتعيين الحقول التالية.

    | الحقل | قيمة |
    |---|---|
    | الخادم | أدخل نقطه نهاية SQL بلا خادم التي قمت بتدوينها بعد [إنشاء Azure Synapse ‏workspace](#serverlessep). |
    | قاعدة البيانات | أدخل **CommerceAnalytics**. |
    | اللغة | حدد قيمة في القائمة. يتم استخدام هذا الحقل لأسماء الفئات والمنتجات المترجمة. إن القيمة حساسة لحالة الأحرف. |
    | نطاق التاريخ | حدد قيمة في القائمة. سيتم استيراد البيانات الخاصة بعدد الشهور المحدد إلى مجموعة البيانات Power BI. تؤثر القيمة التي قمت بتحديدها على حجم مجموعة البيانات والوقت المطلوب للمزامنة. |

1. حدد **التالي**. عندما تتم مطالبتك بإدخال بيانات الاعتماد للاتصال بقاعدة بيانات Azure Synapse ‏SQL، قم بتعيين قيم الحقل كما هو موضح في الجدول التالي.

    | الحقل | قيمة |
    |---|---|
    | طريقة المصادقة | حدد **أساسي**. |
    | اسم المستخدم | أدخل **reportreadonlyuser**. |
    | كلمة المرور | أدخل كلمة المرور التي قمت [بتخزينها لمستخدم القراءة فقط في SQL للمخزن الرئيسي](#roUser). |

1. حدد **تسجيل الدخول والاتصال**.
1. انتظر حتى يتم تحديث مجموعة البيانات بنجاح. بعد ذلك، حدد **تحرير التطبيق** لفتح مساحة عمل التطبيق، حيث يمكنك عرض حالة التحديث لمجموعة البيانات. في مساحة عمل التطبيق، يمكنك أيضًا إعداد جداول تحديث تلقائية لمجموعة البيانات الخاصة بك، وإدارة الأذونات وإعادة تسمية مثيل التطبيق.

### <a name="privacy"></a><a name="privacy"></a>الخصوصية

خصوصيتك تهمنا. لمعرفه المزيد، اقرأ [بيان الخصوصية](https://go.microsoft.com/fwlink/?LinkId=521839).

[!INCLUDE[footer-include](../includes/footer-banner.md)]
