---
title: أوامر العميل في نقطة البيع (POS)
description: يقدم هذا الموضوع معلومات حول أوامر العميل في نقطة البيع (POS). تُعرف أوامر العملاء أيضًا بالأوامر الخاصة. يشمل الموضوع مناقشة المحددات ذات الصلة وتدفقات الحركة.
author: josaw1
manager: AnnBe
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 260594
ms.assetid: 6fc835ef-d62e-4f23-9d49-50299be642ca
ms.search.region: global
ms.search.industry: Retail
ms.author: anpurush
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: 9e5770de82638e6cef6d4c1dffd1dc85549fb11f
ms.sourcegitcommit: 30e4dc0a45f7de5f0a7178b1e88f7c3d61a7395e
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/03/2020
ms.locfileid: "3763691"
---
# <a name="customer-orders-in-point-of-sale-pos"></a>أوامر العميل في نقطة البيع (POS)

[!include [banner](includes/banner.md)]

يقدم هذا الموضوع معلومات حول كيفية إنشاء أوامر العميل وإدارتها في نقطة البيع (POS). يمكن استخدام أوامر العميل لالتقاط المبيعات حيث يرغب المتسوقون في استلام المنتجات في تاريخ لاحق أو استلام المنتجات من موقع آخر أو الطلب أن يتم شحن الأصناف إليهم. 

في عالم تهمين عليه قنوات التجارة، يقدم العديد من بائعي التجزئة خيار أوامر العميل أو الأوامر الخاصة، لاستيفاء المنتجات المختلفة وتلبية المتطلبات. وفيما يلي بعض السيناريوهات النموذجية:

- يريد أحد العملاء أن يتم تسليم المنتجات إلى عنوان محدد في تاريخ محدد.
- يرغب أحد العملاء في انتقاء المنتجات من متجر أو من موقع يختلف عن المتجر أو الموقع الذي اشتري منه العميل تلك المنتجات.
- يرغب عميل موجود داخل موقع المتجر أن يطلب منتجات اليوم واستلامها من موقع المتجر نفسه في تاريخ لاحق.

بإمكان بائعي التجزئة استخدام أوامر العميل للتقليل من خسائر المبيعات التي يعود سببها إلى نفاد المخزون، إذ يمكن تسليم البضاعة أو استلامها في وقت أو مكان آخر.

## <a name="set-up-customer-orders"></a>إعداد أوامر العملاء
قبل أن تحاول استخدام وظيفة أمر العميل في نقطة البيع، تأكد من إكمال كافة التكوينات المطلوبة في مركز Commerce الرئيسي.‬

### <a name="configure-modes-of-delivery"></a>تكوين أوضاع التسليم

لاستخدام أوامر العميل، يجب تكوين أوضاع التسليم التي يمكن أن تستخدمها قناة المتجر. يجب تحديد وضع تسليم واحد على الأقل يمكن استخدامه عند شحن بنود الأمر إلى عميل من المتجر. يجب أيضًا تحديد وضع تسليم واحد على الأقل يمكن استخدامه عند استلام بنود الأمر من المتجر. يتم تحديد أوضاع التسليم في الصفحة **أوضاع التسليم** في مركز Commerce الرئيسي.‬ للحصول على مزيد من المعلومات حول كيفية إعداد أوضاع التسليم لقنوات Commerce، راجع [إعداد أوضاع التسليم](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).

![صفحة أوضاع التسليم](media/customer-order-modes-of-delivery.png)


### <a name="set-up-fulfillment-groups"></a>إعداد مجموعات التنفيذ

قد لا تتمكن بعض المتاجر أو مواقع المستودعات من تنفيذ أوامر العميل. ومن خلال تكوين مجموعات التنفيذ، بإمكان المؤسسة تحديد المتاجر ومواقع المستودعات التي تظهر كخيارات للمستخدمين الذين يقومون بإنشاء أوامر العملاء في نقطة البيع. يتم تكوين مجموعات التنفيذ في صفحة **مجموعات التنفيذ**. يمكن للمؤسسات إنشاء العدد الذي تحتاج إليه من مجموعات التنفيذ. بعد تحديد مجموعة تنفيذ، يتم ربطها بمتجر باستخدام الزر الموجود في علامة التبويب **إعداد** في جزء الإجراءات الخاص في صفحة **المتاجر**.

في الإصدار 10.0.12 من Commerce وإصدار لاحق، بإمكان المؤسسات تعريف ما إذا كان من الممكن استخدام المستودع أو مجموعة المستودع/المتجر المحددة في مجموعة التنفيذ للشحن أو الاستلام أو للشحن والاستلام على حدٍ سواء. وبالتالي، يتميز المتجر بالمزيد من المرونة لإدارة خيارات المستودع وخيارات المتجر التي تظهر للمستخدمين الذين يقومون بإنشاء أمر للاستلام في مقابل أمر للشحن. للاستفادة من خيارات التكوين هذه، يجب عليك تشغيل الميزة **القدرة على تحديد المواقع باعتبارها ممكّنة من أجل 'الشحن' أو 'الاستلام' داخل مجموعة التنفيذ**. إذا لم يكن المستودع المرتبط بمجموعة تنفيذ متجرًا، فيمكن تكوينه فقط كموقع شحن. ولا يمكن استخدامه عندما يتم تكوين أوامر لاستلامها في نقطة البيع.

![صفحة مجموعات التنفيذ](media/customer-order-fulfillment-group.png)

### <a name="configure-channel-settings"></a>تكوين إعدادات القناة

عند العمل مع أوامر العميل في نقطة البيع، يجب مراعاة بعض إعدادات قناة المتجر. يمكن العثور على هذه الإعدادات في صفحة **المتاجر** في مركز Commerce الرئيسي.‬

- **المستودع** - يشير هذا الحقل إلى المستودع المستخدم لتنفيذ الأوامر التي تم تكوينها للشحن من المتجر.
- **تعيين مجموعة التنفيذ** -حدد هذا الزر (في علامة التبويب **إعداد** في جزء الإجراءات) لربط مجموعات التنفيذ‏‎ المشار اليها لإظهار خيارات مواقع الاستلام أو أصول الشحن عند إنشاء أوامر العميل في نقطة البيع.
- **استخدام الضريبة بناء على الوجهة** - يشير هذا الخيار إلى ما إذا كان عنوان الشحن يُستخدم لتحديد مجموعة الضرائب المطبقة على بنود الأمر التي يتم شحنها إلى عنوان العميل.
- **استخدام الضريبة المستندة إلى العميل** – يشير هذا الخيار إلى ما إذا كانت مجموعة الضرائب المحددة لعنوان التسليم الخاص بالعميل لفرض ضرائب على أوامر العميل المنشأة في نقطة البيع لشحنها إلى منزل العميل.

![إعداد قناة المتجر في صفحة المتاجر](media/customer-order-all-stores.png)

### <a name="set-up-customer-order-parameters"></a>إعداد معلمات أمر العميل

قبل أن تحاول إنشاء أوامر العميل في نقطة البيع، يجب عليك تكوين المعلمات المناسبة في مركز Commerce الرئيسي. يمكن العثور على هذه المعلمات على علامة تبويب **أوامر العميل** في صفحة **معلمات Commerce**.

- **نوع الأمر الافتراضي** – يمكنك تحديد نوع الأمر المعيّن بشكل افتراضي إلى أوامر العميل المُنشأة في نقطة البيع. بإمكان أوامر العملاء هذه أن تكون إما أوامر مبيعات أو أوامر عروض أسعار. وبصرف النظر عن نوع الأمر الافتراضي، لا يزال بإمكان المستخدمين إنشاء أوامر مبيعات وأوامر عملاء من نقطة البيع.
- **النسبة المئوية الافتراضية للإيداع** – حدد النسبة المئوية للمبلغ الإجمالي للأمر الذي يجب على العميل دفعه كإيداع قبل تأكيد الأمر. ووفقًا لامتيازاتهم قد يتمكن شركاء المتجر من تجاوز المبلغ باستخدام العملية **تجاوز الإيداع** في نقطة البيع، إذا تم تكوين هذه العملية لتخطيط شاشه الحركة.
- **وضع الاستلام للتسليم** - حدد وضع التسليم الذي يجب تطبيقه على بنود أمر المبيعات التي تم تكوينها للاستلام في نقطة البيع.
- **وضع التسليم عن طريق النقل** - حدد وضع التسليم الذي يجب تطبيقه على بنود أمر المبيعات التي تعتبر بنود أمر نقل عند إنشاء سلة مختلطة، حيث سيتم استلام بعض البنود أو شحنها، فيما سيتم نقل بعض البنود الأخرى بواسطة العميل على الفور.
- **النسبة المئوية لتكلفة الإلغاء** – إذا كان سيتم تطبيق تكلفة عند إلغاء أمر العميل، فحدد مبلغ هذه التكلفة.
- **كود تكلفة الإلغاء** - حدد كود تكلفة الحسابات المدينة الذي يجب استخدامه عند تطبيق تكلفة إلغاء على أوامر العميل الملغاة من خلال نقطة البيع. يحدد كود التكلفة منطق الترحيل المالي لتكلفة الإلغاء.
- **كود تكلفة الشحن** - إذا تم تعيين الخيار **استخدام التكاليف التلقائية المتقدمة‬‏‫** إلى **نعم**، فلن يكون لإعداد المعلمة هذا أي تأثير. إذا تم تعيين هذا الخيار إلى **لا**، ستتم مطالبة المستخدمين بإدخال تكلفة الشحن يدويًا عند إنشاء أوامر العميل في نقطة البيع. استخدم هذه المعلمة لتعيين كود تكلفة الحسابات المدينة الذي سيتم تطبيقه على الأوامر عندما يقوم المستخدمون بإدخال تكلفة الشحن. يحدد كود التكلفة منطق الترحيل المالي لتكلفة الشحن.
- **استخدام التكاليف التلقائية المتقدمة**- قم بتعيين هذا الخيار إلى **نعم** لاستخدام التكاليف التلقائية المحتسبة بواسطة النظام عند إنشاء أوامر العميل في نقطة البيع. ويمكن استخدام هذه التكاليف التلقائية لحساب رسوم الشحن أو التكاليف الأخرى الخاصة بالأمر أو الأصناف. للحصول على معلومات حول كيفية إعداد واستخدام ميزة التكاليف التلقائية المتقدمة، راجع [التكاليف التلقائية المتقدمة ‬في القناة متعددة الاتجاهات](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).

![علامة تبويب أوامر العميل في صفحة معلمات Commerce](media/customer-order-parameters.png)

### <a name="update-transaction-screen-layouts-in-pos"></a>تحديث تخطيطات شاشة الحركة في نقطة البيع

تأكد من تكوين [تخطيط شاشة](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) نقطة البيع لدعم إنشاء وإدارة أوامر العميل، ومن تكوين كافة عمليات نقطة البيع المطلوبة. فيما يلي بعض عمليات نقطة البيع الموصي بها لدعم إنشاء وإدارة أوامر العميل بشكل صحيح:
- **شحن كافة المنتجات** - يتم استخدام هذه العملية لتحديد أنه سيتم شحن كافة البنود في سلة الحركة إلى الوجهة.
- **شحن منتجات محددة** - يتم استخدام هذه العملية لتحديد أنه سيتم شحن بنود محددة في سلة الحركة إلى الوجهة.
- **استلام كافة المنتجات** - يتم استخدام هذه العملية لتحديد أنه سيتم استلام كافة البنود في سلة الحركة من موقع متجر محدد.
- **استلام منتجات محددة** - يتم استخدام هذه العملية لتحديد أنه سيتم استلام بنود محددة في سلة الحركة من موقع متجر محدد.
- **نقل كافة المنتجات** - تُستخدم هذه العملية لتحديد أنه سيتم نقل كافة البنود في سلة الحركة. إذا تم استخدام هذه العملية في نقطة البيع، فسيتم تحويل أمر العميل إلى حركة الدفع نقدًا والنقل.
- **نقل منتجات محددة** – تُستخدم العملية لتحديد أنه سيتم نقل بنود محددة في سلة الحركة بواسطة العميل عند الشراء. تعتبر هذه العملية فقط في حالة [الأوامر المختلطة](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders).
- **استدعاء الأمر‬** – تُستخدم هذه العملية للبحث عن أوامر العميل واستردادها بحيث يتمكن مستخدمو نقطة البيع من تحرير العمليات المتعلقة بالتنفيذ أو إلغائها أو تنفيذها حسب الحاجة
- **تغيير وضع التسليم** - يمكن استخدام هذه العملية لتغيير وضع التسليم الخاص بالبنود التي تم تكوينها للشحن من دون أن يحتاج المستخدمون إلى التنقل عبر سير المهام "شحن كافة المنتجات" أو "شحن منتجات محددة" من جديد.
- **تجاوز الإيداع** – يمكن استخدام هذه العملية لتغيير مبلغ الإيداع الذي سيدفعه العميل لأمر العميل المحدد.

![العمليات على شاشة حركة نقطة البيع](media/customer-order-screen-layout.png)

## <a name="working-with-customer-orders-in-pos"></a>العمل مع أوامر العميل في نقطة البيع

### <a name="create-a-customer-order-for-products-that-will-be-shipped-to-the-customer"></a>إنشاء أمر عميل للمنتجات التي سيتم شحنها إلى العميل

1. في شاشة حركة نقطة البيع، أضف عميلاً إلى الحركة.
2. أضف منتجات إلى عربة التسوق.
3. حدد **شحن المحدد** أو **شحن الكل** لشحن المنتجات إلى عنوان على حساب العميل.
4. حدد الخيار لإنشاء أمر عميل.
5. قم بتأكيد موقع "الشحن من" أو تغييره، أو قم بتأكيد عنوان الشحن أو تغييره، وحدد طريقة شحن.
6. أدخل تاريخ شحن الأمر المطلوب للعميل.
7. استخدم وظائف الدفع لدفع أي مبالغ محسوبة مستحقة، أو استخدم عملية **تجاوز الإيداع** لتغيير المبالغ المستحقة، ثم قم بتطبيق الدفع.
8. إذا لم يتم تسديد المبلغ الإجمالي للأمر بالكامل، فأدخل بطاقة ائتمان سيتم التقاطها للرصيد المستحق على الأمر عند فوترته.

### <a name="create-a-customer-order-for-products-that-the-customer-will-pick-up"></a>إنشاء أمر عميل للمنتجات التي سيستلمها العميل

1. في شاشة حركة نقطة البيع، أضف عميلاً إلى الحركة.
2. أضف منتجات إلى عربة التسوق.
3. حدد **استلام المحدد** لتغيير **استلام الكل** لبدء تكوين استلام الأمر.
4. حدد موقع المتجر حيث سيقوم العميل باستلام المنتجات المحددة.
5. حدد تاريخ استلام.
6. استخدم وظائف الدفع لدفع أي مبالغ محسوبة مستحقة، أو استخدم عملية **تجاوز الإيداع** لتغيير المبالغ المستحقة، ثم قم بتطبيق الدفع.
7. إذا لم يتم تسديد المبلغ الإجمالي للأمر بالكامل، فحدد ما إذا كان العميل سيقوم بتوفير الدفع لاحقًا (عند الاستلام)، أو ما إذا كان سيتم منح معرف عشوائي لبطاقة الائتمان الآن، ثم يتم استخدامها وتسجيلها في وقت الاسلام.

### <a name="edit-an-existing-customer-order"></a>تحرير أمر عميل موجود

يمكن استدعاء أوامر البيع بالتجزئة التي تم إنشاؤها في القناة الموجودة على الإنترنت أو المتجر وتحريرها من خلال نقطة البيع كما هو مطلوب.

> [!IMPORTANT]
> لا يمكن تحرير الأوامر التي يتم إنشاؤها في قناة مركز الاتصال من خلال نقطع البيع إذا تم تشغيل الإعداد [تمكين إكمال الأوامر‬](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) لقناة مركز الاتصال. لضمان معالجة الدفع بشكل صحيح، يجب تحرير الأوامر التي تم إنشاؤها في قناة مركز الاتصال والتي تستخدم وظيفة "تمكين إكمال الأوامر‬" من خلال تطبيق مركز الاتصال في مركز Commerce الرئيسي.‬

في الإصدار 10.0.13 من Commerce والإصدارات السابقة، بإمكان للمستخدمين تحرير أوامر العميل المدعومة من خلال نقطة البيع فقط إذا كانت الأوامر مفتوحة بالكامل. إذا تمت معالجه أي بنود لأحد الأوامر لتنفيذها (استلام وتعبئة وغير ذلك)، يصبح الأمر مؤمنًا للتحرير في نقطة البيع.

> [!NOTE]
> في الإصدار 10.0.14 من Commerce، تسمح ميزة تم إصدارها في [المعاينة العامة](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/public-preview-terms) لمستخدمي نقطة البيع بتحرير تحرير أوامر العميل من خلال نقطة البيع، حتى لو تم تنفيذ جزء من الأمر. ومع ذلك، لا يمكن تحرير الأوامر التي تمت فوترتها بالكامل من خلال نقطة البيع. لاختبار ميزة المعاينة هذه وتقديم ملاحظات إضافية قم بتشغيل ميزة **(معاينة) تحرير الأوامر التي تم تنفيذها بالكامل في نقطة البيع** في مساحة عمل **إدارة الميزات**. لا يمكن تحرير أوامر العملاء التي تم إنشاؤها في قناة مركز الاتصال والتي تستخدم وظيفة "تمكين إكمال الأوامر‬" حتى بعد تمكين هذه الميزة.

1. حدد **استدعاء الأمر‬**.
2. استخدم **بحث** لإدخال عوامل التصفية للبحث عن الأمر، ثم حدد **تطبيق**.
3. حدد الأمر في قائمة النتائج، ثم حدد **تحرير**. إذا لم يكن الزر **تحرير** متوفرًا، يكون الأمر في حالة حيث لا يمكن تحريره.
4. من سلة الحركة، أدخل أي تغييرات ضرورية على أمر العميل. قد يتم منع بعض التغييرات أثناء التحرير.
5. أكمل عملية التحرير من خلال تحديد عملية دفع.
6. للخروج من عملية التحرير دون حفظ أي تغييرات، يمكنك استخدام العملية **إلغاء الحركة‬**.



### <a name="cancel-a-customer-order"></a>إلغاء أمر العميل

1. حدد **استدعاء الأمر‬**.
2. استخدم **بحث** لإدخال عوامل التصفية للبحث عن الأمر، ثم حدد **تطبيق**.
3. حدد الأمر في قائمة النتائج، ثم حدد **إلغاء**. إذا لم يكن الزر **إلغاء** متوفرًا، يكون الأمر في حالة حيث لا يمكن إلغاؤه فيما بعد.
4. إذا تم تكوين تكاليف الإلغاء، فقم بتأكيدها. يمكنك تعديل تكاليف الإلغاء قبل تأكيدها، كما هو مطلوب. 
5. من سلة الحركة، قم بإكمال عملية الإلغاء من خلال تحديد عملية دفع. إذا تجاوزت الإيداعات التي تم دفعها تكاليف الإلغاء، فقد تستحق إعادة القيمة النقدية للدفعات.
6. للخروج من عملية الإلغاء دون حفظ أي تغييرات، يمكنك استخدام العملية **إلغاء الحركة‬**.

## <a name="finalizing-the-customer-order-shipment-or-pickup-from-pos"></a>إنجاز شحن أمر العميل أو استلامه من نقطة البيع

بعد إنشاء الأمر، سيتم استلام أو شحن الأصناف بواسطة العميل من موقع المتجر، وفقًا لتكوين الأمر. لمزيد من المعلومات حول هذه العملية، راجع وثائق [تنفيذ أمر المتجر](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview).

## <a name="asynchronous-transaction-flow-for-customer-orders"></a>تدفق الحركة غير المتزامن لأوامر العملاء

يمكن إنشاء أوامر العملاء في نقطة البيع سواءً في وضع متزامن أو غير متزامن. إذا لاحظت وجود مشكلات في الأداء أو تأخر المستخدم عند إنشاء أوامر العميل في نقطة البيع، فيمكنك تشغيل إنشاء أمر غير متزامن.

### <a name="enable-customer-orders-to-be-created-in-asynchronous-mode"></a>تمكين إنشاء أوامر العملاء في وضع غير متزامن

1. في مركز Commerce الرئيسي، في الصفحة **ملفات تعريف الوظائف**، حدد ملف تعريف الوظائف الذي يتوافق مع المتجر الذي ترغب في تكوينه.
2. في علامة التبويب السريعة **عام**، قم بتعيين خيار **إنشاء أمر عميل في الوضع "غير متزامن"** على **نعم**.

عند تعيين الخيار **إنشاء أمر عميل في الوضع "غير متزامن"‬** إلى **نعم**، يتم إنشاء أوامر العملاء دائمًا في وضع "غير متزامن"، حتى في حال توفرت Retail Transaction Service (RTS). إذا قمت بتعيين هذا الخيار إلى **لا**، يتم إنشاء أوامر العميل دائماً في وضع متزامن باستخدام خدمة حركة البيع بالتجزئة RTS. عند إنشاء أوامر العميل في وضع غير متزامن، يتم سحبها وإنشاؤها كحركات بيع بالتجزئة في مركز Commerce الرئيسي من مهام Commerce Pull (P). يتم إنشاء أوامر المبيعات المقابلة لحركات البيع بالتجزئة عندما يتم تشغيل **مزامنة الأوامر** سواءً يدويًا أو عبر معالجة المجموعة.

## <a name="additional-resources"></a>الموارد الإضافية

[أوامر العملاء المختلطة](hybrid-customer-orders.md)
