---
title: البحث عن المنتجات والعملاء في نقطة البيع (POS)
description: يوفر هذا الموضوع نظرة عامة حول التحسينات التي تم إدخالها على وظيفة البحث عن المنتجات والعملاء في Dynamics 365 Commerce.
author: ShalabhjainMSFT
ms.date: 03/10/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: josaw
ms.custom: 141393
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Retail
ms.author: shajain
ms.search.validFrom: 2017-06-30
ms.dyn365.ops.version: Retail April 2017 update
ms.openlocfilehash: 043a630408d6b03e528f0afd5443de73ad5f3802c968b9d9bd7a5c51bfe1fb03
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/05/2021
ms.locfileid: "6716374"
---
# <a name="product-search-and-customer-search-in-the-point-of-sale-pos"></a>البحث عن المنتجات والعملاء في نقطة البيع (POS)

[!include [banner](includes/banner.md)]

توفر نقطة البيع الحديثة (MPOS) ونقطة بيع المجموعة‬ (CPOS) ميزة بحث سهلة الاستخدام للمنتجات والعملاء. نظرًا لأن شريط البحث يقع دومًا في الجزء العلوي من نافذتي MPOS وCPOS، يستطيع الموظفون البحث بسرعة عن المنتجات والعملاء.

يستطيع الموظفون البحث عن المنتجات في عمليات الفرز والكتالوجات المقترنة بالمتجر الحالي. كما يمكنهم البحث في عمليات الفرز والكتالوجات المقترنة بأي متجر آخر في الشركة. وبالتالي، يستطيع موظفو الكاشير بيع وإرجاع المنتجات خارج عملية الفرز في المتجر. وبشكل مماثل، يستطيع الموظفون البحث عن العملاء الذين يرتبطون بالمتجر الحالي أو أي متجر آخر في الشركة. بالإضافة إلى ذلك، يستطيع الموظفون البحث عن العملاء الذين يرتبطون بشركة أخرى في المؤسسة الأصل.

## <a name="product-search"></a>البحث عن منتج

بشكل افتراضي، تتم عمليات البحث عن المنتجات في عملية الفرز في المتجر. ويعرف البحث من هذا النوع باسم *بحث محلي عن منتج*. ومع ذلك، يستطيع الموظفون بسهولة التبديل إلى أي كتالوج يرتبط بالمتجر الحالي، أو يمكنه البحث في متجر آخر. ويعرف البحث من هذا النوع باسم *بحث عن منتج عن بُعد*. لتغيير الكتالوج، حدد زر **الفئات** على الجانب الأيمن الصفحة. في أعلى الجزء الذي يظهر، حدد زر **تغيير الكتالوج**، ثم حدد أحد الكتالوجات المتوفرة لاستعراضه. سوف يبحث النظام عن المنتجات في الكتالوج المحدد.

في صفحة **تغيير الكتالوج**، يستطيع الموظفون تحديد أي متجر بسهولة، أو يمكنهم البحث عن المنتجات عبر جميع المتاجر.

![تغيير الكتالوج.](./media/Changecatalog.png "تغيير الكتالوج")

تقوم عملية البحث المحلية عن منتج بالبحث ضمن خصائص المنتج التالية:

- رقم المنتج
- اسم المنتج
- الوصف
- الأبعاد
- الكود الشريطي
- بحث عن شخص

### <a name="additional-local-product-search-capabilities"></a>الإمكانات الإضافية للبحث عن منتج محلي

- بالنسبة إلى عمليات البحث التي تستخدم كلمات أساسية متعددة (وهذا يعني عمليات البحث التي تستخدم مصطلحات البحث)، باستطاعة بائعي التجزئة تكوين ما إذا كانت نتائج البحث تتضمن النتائج التي تتطابق مع *أي* مصطلح بحث أو فقط النتائج التي تتطابق مع *كافة* مصطلحات البحث. يتوفر إعداد هذه الوظيفة في ملف تعريف وظيفة نقطة البيع، ضمن مجموعة جديدة تُسمى **البحث عن منتج**. الإعداد الافتراضي هو **مطابقة أي مصطلح بحث‬**. وهذا الإعداد هو أيضًا الإعداد الموصى به. عند استخدام إعداد **مطابقة أي مصطلح بحث**، يتم إرجاع كافة المنتجات التي تطابق جزئيًا أو كليًا مصطلح بحث واحد أو أكثر كنتائج. يتم تلقائياً فرز هذه النتائج بترتيب تصاعدي للمنتجات التي تحتوي على أكثر تطابقات الكلمات الأساسية (كاملة أو جزئية).

    يؤدي استخدام الإعداد **مطابقة جميع مصطلحات البحث‬** إلى إرجاع فقط المنتجات التي تتطابق مع جميع شروط البحث (بشكل كامل أو جزئي). ويعتبر هذا الإعداد مفيدًا عندما تكون أسماء المنتجات طويلة، ويحتاج الموظفون إلى رؤية منتجات محددة فقط في نتائج البحث. ومع ذلك، يحتوي هذا النوع من البحث على نوعين من القيود:

    - تجري عملية البحث على خصائص منتجات فردية. على سبيل المثال، يتم إرجاع فقط المنتجات التي تحتوي على جميع الكلمات الأساسية المستخدمة للبحث في خاصية منتج واحدة على الأقل.
    - لا يتم البحث في الأبعاد.

- باستطاعة بائعي التجزئة تكون عملية البحث عن المنتج لإظهار الاقتراحات بينما يكتب المستخدمون أسماء المنتجات. يتوفر إعداد جديد لهذه الوظيفة في ملف تعريف وظيفة نقطة البيع، ضمن مجموعة تُسمى **البحث عن منتج**. يسمى هذا الإعداد **إظهار اقتراحات البحث أثناء الكتابة**. باستطاعة هذه الوظيفة أن تساعد الموظفين على العثور على المنتج الذي يقومون بالبحث عنه، إذ لا يحتاجون إلى كتابة الاسم الكامل يدويًا.
- تبحث الآن خوارزمية البحث عن المنتج أيضًا عن مصطلحات البحث في خاصية **اسم البحث** للمنتج.

![اقتراحات المنتجات.](./media/Productsuggestions.png "اقتراحات المنتجات")

## <a name="customer-search"></a>البحث عن عميل

تُستخدم عملية البحث عن عميل للعثور على عملاء لأغراض مختلفة. على سبيل المثال، قد يحتاج موظف الكاشير إلى عرض قائمة الأمنيات أو سجل الشراء الخاص بعميل ما، أو إضافة العميل إلى حركة. تتطابق خوارزمية البحث مع مصطلحات البحث للقيم الموجودة في خصائص العميل التالية:

- الاسم
- عنوان البريد الإلكتروني
- رقم الهاتف
- رقم بطاقة الولاء
- العنوان
- رقم الحساب

من بين هذه الخصائص، يوفر الاسم أعلى مرونة لعمليات البحث بكلمات أساسية متعددة، نظرًا لإرجاع الخوارزمية لكل العملاء المطابقين لأي من الكلمات الأساسية التي تم البحث باستخدامها. يظهر العملاء الذين يطابقون معظم الكلمات الأساسية في الجزء العلوي من النتائج. بإمكان هذا السلوك مساعدة الصرافين عند إجراء عمليات بحث بكتابة الاسم الكامل، ولكن تم تبديل اسم العائلة والاسم الأول أثناء إدخال البيانات الأولية. ولكن، لأسباب تتعلق بالأداء، تحتفظ كل الخصائص الأخرى بترتيب البحث بالكلمات الأساسية. لذا، في حالة عدم تطابق ترتيب كلمات البحث الأساسية وترتيب تخزين البيانات، لن يتم إرجاع أي نتائج.

بشكل افتراضي، تتم عملية البحث عن عميل على دفاتر عناوين العملاء المرتبطة بالمتجر. ويعرف البحث من هذا النوع باسم *بحث محلي عن عميل*. ومع ذلك، باستطاعة الموظفين أيضًا البحث عن العملاء بشكل عمومي. بمعنى آخر، باستطاعتهم البحث عبر المتاجر الخاصة بالشركة وكافة الكيانات القانونية الأخرى. ويعرف البحث من هذا النوع باسم *بحث عن عميل عن بُعد*.

لإجراء بحث عمومي، باستطاعة الموظفين تحديد الزر **تصفية النتائج‬** في أسفل الصفحة، ثم تحديد الخيار **بحث في كل المتاجر**، كما هو موضح في الشكل التالي. في هذه الحالة، لا يتم إرجاع العملاء فحسب، بل يتم أيضًا إرجاع كافة أنواع الجهات التي تعد جزءًا من أي دفتر عناوين في المقار الرئيسية. تتضمن هذه الجهات العاملين والموردين وجهات الاتصال والمنافسين.

> [!NOTE]
> لإرجاع النتائج، يجب إدخال أربعة أحرف كحد أدنى لإجراء بحث عن عميل عن بُعد.

لا يظهر معرف العميل للعملاء الذين تم الاستعلام عنهم من كيانات قانونية أخرى، نظرًا لعدم إنشاء معرف عميل لتلك الجهات في الشركة الحالية. ومع ذلك، إذا قام أحد الموظفين بفتح صفحة تفاصيل العميل، فسينشئ النظام تلقائيًا معرف عميل للجهة وسيقوم أيضًا بإقران دفاتر عناوين عميل المتجر بالعميل. وبالتالي، سيكون العميل مرئيًا في عمليات بحث المتجر المحلية التي تتم في وقت لاحق.

![البحث عن عميل عالمي.](./media/Globalcustomersearch.png "البحث عن عميل عالمي")

### <a name="additional-local-customer-search-capabilities"></a>الإمكانات الإضافية للبحث عن عميل محلي

عندما يبحث المستخدم عن رقم هاتف، يتجاهل النظام الأحرف الخاصة (مثل المسافات والشُرط والأقواس)، التي تمت إضافتها عند إنشاء العميل. ولذلك، لا يلزم موظفي الكاشير القلق بشأن تنسيق رقم الهاتف عند البحث. على سبيل المثال، إذا تم إدخال رقم هاتف العميل على الشكل **123-456-7890**، فباستطاعة موظف الكاشير البحث عن العميل عن طريق كتابة **1234567890**، أو عن طريق إدخال الأرقام الأولى القليلة من رقم الهاتف.

> [!NOTE]
> قد يكون لدى العميل أرقام هواتف متعددة وعناوين بريد إلكتروني متعددة. تبحث خوارزمية بحث العملاء أيضًا من خلال عناوين البريد الإلكتروني وأرقام الهواتف الثانوية هذه، ولكن صفحة نتائج بحث العميل تعرض فقط عنوان البريد الإلكتروني ورقم الهاتف الأساسيين فقط. قد يتسبب هذا في حدوث التباس معين لأن نتائج العميل المرتجعة لن تُظهر رقم الهاتف أو عنوان البريد الإلكتروني الذي يتم البحث عنه. نحن نخصص لتحسين شاشة نتائج بحيث لإظهار هذه المعلومات في إصدار مستقبلي.

يمكن أن يكون البحث التقليدي عن العملاء مستهلكاً للوقت، نظراً لأنه يقوم بالبحث في عدة حقول. يمكن للصرافين بدلاً من ذلك البحث في خاصية عميل واحدة، مثل الاسم أو عنوان البريد الإلكتروني أو رقم الهاتف. تُعرف الخصائص التي تستخدمها خوارزمية البحث عن العميل إجماليًا باسم *معايير البحث عن العميل*. يستطيع مسؤول النظام بسهولة تكوين معيار واحد أو أكثر كاختصارات ستظهر في نقطة البيع. نظراً لأن البحث يقتصر على معيار واحد، يتم عرض نتائج البحث ذات الصلة فقط، ويكون الأداء أفضل بكثير من أداء البحث القياسي عن العملاء. يبين الرسم التوضيحي التالي اختصارات البحث عن العملاء في نقطة البيع.

![اختصارات البحث عن العميل.](./media/SearchShortcutsPOS.png "اختصارات البحث عن العميل")

لتعيين معايير البحث كاختصارات، يجب على المسؤول فتح صفحة **معلمات التجارة** في Commerce، ثم تحديد جميع المعايير التي يجب أن تظهر كاختصارات على علامة التبويب **معايير البحث في نقطة البيع**.

![تكوين اختصارات البحث.](./media/ConfigureShortcutsAX.png "تكوين اختصارات البحث")

> [!NOTE]
> إذا قمت بإضافة عدد كبير جداً من الاختصارات، سوف تزدحم القائمة ا7لمنسدلة على شريط البحث في نقطة البيع، وربما تتأثر خبرة البحث لدى الموظف بذلك. من المستحسن أن تقوم فقط بإضافة العديد من الاختصارات كما تريد.

يحدد حقل **ترتيب العرض** الترتيب الذي تظهر به الاختصارات في نقطة البيع. المعايير التي تظهر هي الخصائص المبتكرة التي تستخدمها خوارزمية البحث عن العميل للبحث عن العملاء. ومع ذلك، يستطيع الشركاء إضافة خصائص مخصصة كاختصارات بحث. لإضافة خصائص مخصصة كاختصارات بحث، يجب على مسؤول النظام توسيع التعداد القابل للتوسيع (تعداد) الذي يتم استخدامه لمعايير البحث عن العملاء، ثم تمييز الخصائص المخصصة للشريك كاختصارات. الشركاء مسؤولون عن كتابة الكود للبحث عن النتائج عند استخدام اختصارات لوحة المفاتيح المخصصة الخاصة بهم لعمليات البحث.

> [!NOTE]
> لا تؤثر خاصية مخصصة تمت إضافتها إلى التعداد على خوارزمية البحث القياسية عن العملاء. بتعبير آخر، لن تبحث خوارزمية البحث عن العملاء في الخاصية المخصصة. يستطيع المستخدمون استخدام خاصية مخصصة لعمليات البحث فقط، إذا تمت إضافة هذه الخاصية المخصصة كاختصار، أو إذا تم تجاوز خوارزمية البحث الافتراضية.

كما يمكن لبائعي التجزئة أيضًا تعيين وضع البحث عن العميل الافتراضي في نقطة البيع إلى **البحث في كافة المتاجر**. يمكن أن يكون هذا التكوين مفيدًا في السيناريوهات التي يجب فيها البحث فورًا عن العملاء الذين تم إنشاؤهم خارج نقطة البيع (علي سبيل المثال، قبل حتى تشغيل مهمة التوزيع). للقيام بذلك، يجب أن يقوم بائع التجزئة بتشغيل خيار **وضع البحث الافتراضي عن العميل** في ملف تعريف وظائف نقطة البيع. بمجرد تعيينه إلى **نعم**، ستقوم كل محاولة من محاولات البحث للعميل بعد ذلك بإجراء مكالمة فورية إلى المركز الرئيسي.

للمساعدة تجنب مشكلات الأداء غير المتوقعة ، يتم إخفاء هذا التكوين خلف علامة إصدارات التقييم الموجودة باسم **CUSTOMERSEARCH_ENABLE_DEFAULTSEARCH_FLIGHTING**. لذا، لإظهار واجهة المستخدم (UI) إعداد **وضع بحث العميل الافتراضي**، يجب إنشاء بائع التجزئة بطاقة دعم لاختبار قبول المستخدم (UAT) وبيئة الإنتاج. بعد استلام البطاقة، سيعمل فريق الهندسة مع بائع التجزئة للتأكد من إجراء بائع التجزئة للاختبار في البيئات غير المنتجة الخاصة به لتقييم الأداء وتطبيق أي تحسينات مطلوبة.

## <a name="cloud-powered-customer-search"></a>البحث عن العملاء المشغل في السحابة

تم إصدار المعاينة العامة لإمكانية البحث عن العميل باستخدام خدمة البحث الإدراكية في Azure كجزء من إصدار Commerce رقم 10.0.18. بالإضافة إلى تحسينات الأداء، يستفيد مستخدمو الخدمة أيضًا من إمكانيات التحسين الزاخرة والإمكانات ذات الصلة المحسنة. تظهر تحسينات الأداء بشكل خاص عند استخدام ميزة البحث الشامل ("البحث في جميع المتاجر") الخاصة بنقطة البيع. وذلك بسبب إحضار نتائج البحث من فهرس البحث في Azure بدلا من الاستعلام عنها من البيانات الموجودة في المركز الرئيسي لـ Commerce. 

### <a name="enable-the-cloud-powered-search-feature"></a>تمكين ميزة البحث المشغل من السحابة

> [!NOTE]
> من المطلوب تحديث كلا من المركز الرئيسي لـ Commerce و Commerce Scale Unit إلى الإصدار 10.0.18. تحديث نقطة البيع غير مطلوب.

لتمكين ميزة البحث المشغل من السحابة في مركز Commerce الرئيسي، اتبع الخطوات التالية.

1. انتقل إلى **إدارة النظام \> مساحات العمل \> إدارة الميزات**.
1. ابحث عن ميزة **(المعاينة) البحث عن العملاء المشغلة من السحابة** وحددها، ثم حدد **التمكين الآن**.
1. انتقل إلى **Retail وCommerce > إعداد المركز الرئيسي > مجدول Commerce > تهيئة مجدول التجارة** وحدد **موافق** لعرض الوظيفة **1010_CustomerSearch** في نموذج **جدول التوزيع**.
1. انتقل إلى **Retail وCommerce > تكنولوجيا معلومات Retail وCommerce > جدول التوزيع**.
1. قم بتشغيل الوظيفة **1010_CustomerSearch**. تقوم هذه الوظيفة بنشر التاريخ إلى فهرس بحث Azure. عند اكتمال نشر الفهرس، يتم تعيين حالة الوظيفة إلى **مطبق**.
1. بعد تعيين حالة الوظيفة **1010_CustomerSearch** إلى **مطبق**، قم بتشغيل الوظيفة **1110 - التكوين العام** لتحديث قنوات نقطة البيع للميزة التي تم تمكينها حديثًا في **إدارة الميزات**.
1. بعد ذلك، قم بتشغيل الوظيفة **1010_CustomerSearch** ugn فترات منتظمة لإرسال تحديثات العميل إلى فهرس البحث.

> [!NOTE]
> بالنسبة لنشر الفهرس الأولي قد يستغرق اكتمال الوظيفة **1010_CustomerSearch** ساعات قليلة لأنها ترسل كافة سجلات العميل إلى فهرس البحث في Azure. قد تستغرق التحديثات اللاحقة بضع دقائق. في الفترة الزمنيm التي يتم فيها تمكين ميزة البحث المشغل من السحابة ولكن لم يكتمل نشر الفهرس، سيعتمد البحث عن العميل من نقطة البيع افتراضيًا على البحث الموجود الذي يستند إلى SQL. وهذا يضمن عدم وجود انقطاعات في العمليات المخزنة.

### <a name="functional-differences-from-the-existing-search"></a>الاختلافات الوظيفية عن البحث الموجود

توضح القائمة التالية كيف تختلف وظيفة البحث العميل المشغلة من السحابة عن وظيفة البحث الموجودة. 

- يتم إرسال العملاء الذين تم إنشاؤهم وتعديلهم في المركز الرئيسي لـ Commerce إلى فهرس بحث Azure عند تشغيل الوظيفة **1010_CustomerSearch**. تستغرق هذه التحديثات أقل من 15 إلى 20 دقيقة لتحديث الفهرس. سيتمكن مستخدمو نقطة البيع من البحث عن عملاء جدد (أو البحث وفقا للمعلومات المحدثة) بعد حوالي 15 إلى 20 دقيقة من حدوث التحديثات في المركز الرئيسي لـ Commerce. إذا كانت العملية التجارية تتطلب أن يكون العملاء الذين تم إنشاؤهم في المركز الرئيسي لـ Commerce قابلين للبحث على الفور في نقطة البيع، فقد لا تكون هذه هي الخدمة الصحيحة لك.
- يتم إرسال العملاء الجدد الذين تم إنشاؤهم في نقطة البيع إلى فهرس بحث Azure من Commerce Scale Unit وتكون قابلة للبحث مباشرة في أي متجر. ومع ذلك، إذا كانت ميزة إنشاء العميل غير المتزامنة قيد التشغيل، فلن يتم نشر سجلات العميل الجديدة إلى فهرس بحث Azure من Commerce Scale Unit ولن يكونوا قابلين للبحث من نقطة البيع حتى تتم مزامنة معلومات العميل مع المركز الرئيسي لـ Commerce وإنشاء معرفات العملاء للعملاء غير المتزامنين. بعد ذلك يمكن للوظيفة **1010_CustomerSearch** إرسال سجلات العملاء غير المتزامنة إلى فهرس بحث Azure. في المتوسط، سوف يستغرق الأمر حوالي 30 دقيقة قبل أن يصبح العملاء غير المتزامنين الذين تم إنشاؤهم حديثًا قابلين للبحث في نقطة البيع. يفترض هذا التقدير أنه تمت جدولة الوظائف **1010_CustomerSearch** و **P-job** و **مزامنة العملاء وشركاء الأعمال من وضع غير متزامن** للتشغيل كل 15 دقيقة.
- يقوم البحث المشغل من السحابة أيضا بالبحث عن رسائل البريد الإلكتروني وأرقام الهواتف الثانوية الخاصة بالعملاء، ولكن تعرض نتائج بحث العميل حاليًا رقم الهاتف الرئيسي وعنوان البريد الكتروني الرئيسي للعملاء. من النظرة الأولى، قد يبدو أنه تم إرجاع نتائج بحث غير ذات صلة، ولكن قد يساعد فحص البريد الكتروني الثانوي ورقم الهاتف الخاص بأحد العملاء في نتائج البحث في التحقق مما إذا كانت الكلمة الأساسية التي تم البحث عنها أدت إلى مطابقة العميل أم لا. لتجنب مثل هذه الارتباك، هناك خطط لتحسين صفحة نتائج البحث لكي يسهل علىالمستخدمين فهم سبب إرجاع نتائج البحث.
- لا تنطبق متطلب البحث باستخدام 4 أحرف على الأقل في البحث الشامل ("البحث في جميع المتاجر") على هذه الخدمة.

> [!NOTE]
> تتوفر إمكانية البحث عن العملاء باستخدام خدمة البحث الإدراكي في Azure في مناطق محدودة للمعاينة. *لا* تتوفر إمكانية البحث عن العملاء في المناطق التالية:
> - البرازيل
> - الهند
> - كندا
> - المملكة المتحدة

[!INCLUDE[footer-include](../includes/footer-banner.md)]
