---
title: الوحدة النمطية للدفع
description: يتناول هذا الموضوع الوحدة النمطية للدفع ويشرح كيفية تكوينها في Microsoft Dynamics 365 Commerce.
author: anupamar-ms
manager: annbe
ms.date: 08/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: f4f6baa3c4a42a2994cab772c98d373996e2648b
ms.sourcegitcommit: ae0843763a8b6b232bb71db326fab28605ac6c53
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/05/2020
ms.locfileid: "3661187"
---
# <a name="payment-module"></a>الوحدة النمطية للدفع

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

يتناول هذا الموضوع الوحدة النمطية للدفع ويشرح كيفية تكوينها في Microsoft Dynamics 365 Commerce.

## <a name="overview"></a>نظرة عامة

تتيح الوحدة النمطية للدفع للعملاء بتسديد قيمة الأوامر باستخدام بطاقة الائتمان أو بطاقة الخصم. يتم توفير سلامة الدفع لهذه الوحدة النمطية باستخدام موصل دفع Dynamics 365 لـ Adyen‬. للحصول على معلومات حول كيفية إعداد وتكوين موصل الدفع، راجع [موصل دفع Dynamics 365 لـ Adyen‬](dev-itpro/adyen-connector.md).

تستضيف الوحدة النمطية للدفع معلومات الدفع التي يتم تقديمها عبر Adyen في اطار HTML مضمن (iframe). تتفاعل الوحدة النمطية للدفع مع Commerce Scale Unit لاسترداد معلومات دفع Adyen. وكجزء من تفاعل Commerce Scale Unit، بإمكان الوحدة النمطية للدفع أن تسمح بتقديم معلومات عنوان الفوترة إما في iframe أو كوحدة نمطية منفصلة. في نسق Fabrikam، يظهر عنوان الفوترة في وحدة نمطية منفصلة. يسمح هذا الأسلوب بالحصول على مرونة أكبر في التنسيق، نظرًا لإمكانية عرض بنود العنوان بحيث تشبه بنود عنوان الشحن.

وتتيح أيضًا الوحدة النمطية للدفع للعملاء الذين سجلوا دخولهم بحفظ معلومات الدفع الخاصة بهم. تُحفظ معلومات الدفع وعنوان الفوترة وتتم إدارتها بواسطة موصل دفع Adyen.

تغطي الوحدة النمطية للدفع مصاريف الأوامر التي لم تتم تغطيتها بواسطة نقاط الولاء أو بطاقة هدايا. إذا تمت تغطية القيمة الإجمالية للأمر بواسطة نقاط الولاء أو أرصدة بطاقات الهدايا، فستكون الوحدة النمطية للدفع مخفية، وسيتمكن العميل من تسجيل الأمر من دونها.

يدعم أيضًا موصل دفع Adyen مصادقة العملاء القوية (SCA) يتطلب جزء من التوجيه 2.0 لخدمات الدفع (PSD2.0) في الاتحاد الأوروبي أن تتم مصادقة المتسوقين عبر الإنترنت خارج تجربة التسوق الخاصة بهم عبر الإنترنت عندما يستخدمون طريقة دفع إلكترونية. اثناء سير مهام السداد مع الخروج، يُعاد توجيه العملاء إلى موقع البنك الذي يتعاملون معه. وبعد المصادقة، يُعاد توجيههم إلى سير مهام السداد مع الخروج في Commerce. أثناء عملية إعادة التوجيه هذه، سيستمر وجود المعلومات التي أدخلها العميل في سير مهام السداد مع تسجيل الخروج (على سبيل المثال، عنوان الشحن وخيارات التسليم ومعلومات بطاقة الهدايا ومعلومات الولاء). قبل أن تتمكن من تشغيل هذه الميزة، يجب تكوين موصل الدفع لـ SCA في مركز Commerce الرئيسي. لمزيد من المعلومات، راجع [مصادقة العميل القوية باستخدام Adyen‎](adyen_redirect.md).

يعرض الشكل التوضيحي التالي مثالاً عن وحدات بطاقة الهدايا ونقاط الولاء والدفع في صفحة السداد مع الخروج.

![مثال عن وحدات بطاقة الهدايا والولاء والدفع في صفحة السداد مع الخروج](./media/ecommerce-payments.PNG)

## <a name="payment-module-properties"></a>خصائص الوحدة النمطية للدفع

| اسم الخاصية | القيم | الوصف |
|---------------|--------|-------------|
| العنوان | نص العنوان | عنوان اختياري للوحدة النمطية للدفع. |
| ارتفاع iframe | بكسل | ارتفاع iframe بالبكسل. يمكن ضبط الارتفاع كما هو مطلوب. |
| إظهار عنوان الفاتورة | **صحيح** أم **خطأ** | إذا تم تعيين هذه الخاصية إلى **صواب**، سيتم تقديم عنوان الفاتورة بواسطة Adyen داخل iframe للوحدة النمطية للدفع. إذا تم تعيينها إلى **خطأ**، فلن يتم عرض عنوان الفوترة بواسطة Adyen، وسيتعين على مستخدم Commerce تكوين وحدة نمطية لعرض عنوان الفوترة على صفحة السداد مع الخروج. |
| تجاوز نمط الدفع | كود أوراق الأنماط المتتالية (CSS) | بسبب استضافة الوحدة النمطية للدفع في iframe، هناك إمكانية محدودة لتطبيق الأنماط. يمكنك تطبيق بعض الأنماط باستخدام هذه الخاصية. لتجاوز أنماط الموقع، يجب عليك لصق كود CSS كقيمة لهذه الخاصية. لا تنطبق تجاوزات وأنماط CSS منشئ الموقع على هذه الوحدة النمطية. |

## <a name="billing-address"></a>عنوان الفوترة

تسمح الوحدة النمطية للدفع للعملاء بتوفير عنوان فوترة لمعلومات الدفع الخاصة بهم. كما تتيح لهم إمكانية استخدام عنوان الشحن كعنوان فوترة، لتسهيل وتسريع عملية السداد مع الخروج. إذا تم تعيين خاصية **إظهار عنوان الفوترة** إلى **خطـ**، فيجب تكوين وحدة الدفع على صفحة السداد مع الخروج.

## <a name="add-a-payment-module-to-a-checkout-page-and-set-the-required-properties"></a>إضافة وحدة نمطية للدفع إلى صفحة السداد مع الخروج وتعيين الخصائص المطلوبة

يمكن إضافة وحده نمطية للدفع فقط إلى وحدة نمطية للسداد مع الخروج. لمزيد من المعلومات حول كيفية تكوين وحدة نمطية للدفع لصفحة السداد مع الخروج، راجع [الوحدة النمطية للسداد مع الخروج](add-checkout-module.md).

## <a name="additional-resources"></a>الموارد الإضافية

[الوحدة النمطية لعربة التسوق](add-cart-module.md)

[وحدة أيقونة عربة التسوق](cart-icon-module.md)

[الوحدة النمطية للسداد مع الخروج](add-checkout-module.md)

[الوحدة النمطية لعنوان الشحن](ship-address-module.md)

[الوحدة النمطية لخيارات التسليم](delivery-options-module.md)

[وحدة تفاصيل الأوامر](order-confirmation-module.md)

[وحدة بطاقة الهدايا](add-giftcard.md)

[موصل دفع Dynamics 365 لـ Adyen](dev-itpro/adyen-connector.md)

[مصادقة العملاء القوية باستخدام Adyen](adyen_redirect.md)
