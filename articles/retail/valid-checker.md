---
title: مدقق تناسق حركة البيع بالتجزئة
description: يصف هذا الموضوع وظيفة مدقق تناسق حركة البيع بالتجزئة في Microsoft Dynamics 365 for Retail.
author: josaw1
manager: AnnBe
ms.date: 01/08/2019
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2019-01-15
ms.dyn365.ops.version: 10
ms.openlocfilehash: 972c4d6b244eebc85cc801353ce8fb25ecbc0655
ms.sourcegitcommit: 2b890cd7a801055ab0ca24398efc8e4e777d4d8c
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/07/2019
ms.locfileid: "1516991"
---
# <a name="retail-transaction-consistency-checker"></a>مدقق تناسق حركة البيع بالتجزئة


[!include [banner](includes/banner.md)]
[!include [preview banner](includes/preview-banner.md)]

يصف هذا الموضوع وظيفة مدقق تناسق حركة البيع بالتجزئة في Microsoft Dynamics 365 for Finance and Operations ، الإصدار 8.1.3. يحدد مدقق التناسق الحركات غير المتناسقة ويعزلها قبل انتقائها من قبل عملية ترحيل كشف الحساب.

عند ترحيل كشف حساب في Retail، قد يفشل الترحيل بسبب وجود بيانات غير متناسقة في جداول حركات البيع بالتجزئة. قد يعود سبب المشكلة في البيانات إلى ظهور مشاكل غير متوقعة في تطبيق نقطة البيع (POS)، أو إذا تم استيراد الحركات بشكل غير صحيح من أنظمة نقطة البيع الخارجية. تشتمل الأمثلة حول كيفية ظهور حالات عدم التناسق هذه على ما يلي: 

  - إجمالي الحركة في جدول الرأس غير متطابق مع إجمالي الحركة في البنود.
  - عدد البنود في جدول الرأس غير متطابق مع عدد البنود في جدول الحركة.
  - الضرائب في جدول الرأس غير متطابقة مع قيمة الضريبة في البنود. 
  
عندما تنتقي عمليات ترحيل كشوف الحسابات حركات غير متناسقة، يتم إنشاء دفاتر يومية دفعات وفواتير مبيعات غير متناسقة، وتفشل عملية ترحيل كشف الحساب بكاملها نتيجة لذلك. تشتمل عملية استرداد كشوف الحسابات من حالة من هذا النوع على عمليات إصلاح معقدة للبيانات عبر جداول حركات متعددة. يمنع مدقق تناسق حركة البيع بالتجزئة حدوث مثل هذه المشاكل.

يوضح المخطط التالي عملية الترحيل باستخدام مدقق تناسق الحركة.

![عملية ترحيل كشف الحساب باستخدام مدقق تناسق حركة البيع بالتجزئة](./media/validchecker.png "عملية ترحيل كشف الحساب باستخدام مدقق تناسق حركة البيع بالتجزئة")

تدقق العملية الدُفعية **التحقق من صحة حركات المتجر‬** في تناسق جداول حركات البيع بالتجزئة للسيناريوهات التالية.

- حساب العميل - التأكد من أن حساب العميل في جداول حركات البيع بالتجزئة موجود في المقر الرئيسي للعميل.
- عدد البنود - التأكد من أن عدد البنود، كما تم تسجيله في جدول رأس الحركة، يتطابق مع أرقام البنود في جداول حركة مبيعات.

## <a name="set-up-the-consistency-checker"></a>إعداد مدقق التناسق
قم بتكوين العملية الدُفعية "التحقق من صحة حركات المتجر‬" في **البيع بالتجزئة \> تكنولوجيا معلومات البيع بالتجزئة‬ \> ترحيل نقطة البيع**، لعمليات التشغيل الدورية. يمكن جدولة الوظيفة الدُفعية استنادًا إلى التدرج الهرمي للمؤسسات في المتجر، بطريقة مماثلة لكيفية إعداد العمليتين "حساب الكشوف على دُفعات‬" و"ترحيل الكشوف على دُفعات‬". من المستحسن تكوين هذه العملية الدُفعية لتشغيلها عدة مرات في اليوم وجدولتها بحيث يتم تشغيلها في نهاية كل تنفيذ لوظيفة P.

## <a name="results-of-validation-process"></a>نتائج التحقق من الصحة
توضع علامة نتائج التحقق من الصحة التي تقوم بها العملية الدُفعية على حركة البيع بالتجزئة المناسبة. يكون الحقل **حالة التحقق من الصحة** على سجل حركة البيع بالتجزئة معينًا إلى **ناجح‬** أو **خطأ**، ويظهر تاريخ تشغيل عملية التحقق من الصحة الأخيرة في الحقل **وقت آخر عملية تحقق من الصحة**.

لعرض نص وصفي للخطأ المتعلق بفشل التحقق من الصحة، حدد سجل حركة متجر البيع بالتجزئة الملائم، ثم انقر فوق الزر **أخطاء التحقق من الصحة**.

لن تتضمن كشوف الحسابات الحركات التي لم تنجح في عملية التحقق من الصحة والحركات التي لم يتم بعد التحقق من صحتها. أثناء عملية "حساب كشف الحساب"، سيتم يتم إبلاغ المستخدمين عن وجود حركات كان يجب تضمينها في كشف الحساب ولكن لم يتم تضمينها فيه.

إذا تم العثور على خطأ يتعلق بالتحقق من الصحة، فإن الطريقة الوحيدة لإصلاحه هو الاتصال بدعم Microsoft. في إصدار مستقبلي، سنضيف ميزة تسمح للمستخدمين بإصلاح السجلات التي فشلت عبر واجهة المستخدم. وسنوفر أيضًا قدرات التسجيل والتدقيق لتتبع محفوظات التعديلات.

> [!NOTE]
> سنضيف المزيد من قواعد التحقق من الصحة لدعم سيناريوهات إضافية في إصدار مستقبلي.
