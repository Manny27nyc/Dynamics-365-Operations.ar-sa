---
title: إدارة الأوامر الموزعة (DOM)
description: يصف هذا الموضوع وظيفة إدارة الأوامر الموزعة (DOM) في Microsoft Dynamics 365 for Retail.
author: josaw1
manager: AnnBe
ms.date: 11/15/2018
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: 4f682e0c98ff70d526648bc50f8a5d6cb884ac93
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/15/2019
ms.locfileid: "1565786"
---
# <a name="distributed-order-management-dom"></a>إدارة الأوامر الموزعة (DOM)

[!include [banner](includes/banner.md)]

في النموذج الجديد لعمليات البيع بالتجزئة، يبذل تجار البيع بالتجزئة كل الجهود الممكنة لتوفير تجارب مخصصة لمشاركة العميل والقنوات متعددة الاتجاهات‬ بالإضافة إلى تفاعلات سلسة خالية من المشاكل. ونظرًا للعدد الكبير من الخيارات المتوفرة، سوف يتسوّق المستهلكون في المكان الذين يمكنه أن يوفر التجربة الأكثر ملاءمة لهم. في حالات كثيرة، لم تعد الأسعار والمنتجات أهم العوامل التي تحث المستهلكين على اتخاذ قرار الشراء.

للمساعدة في تحسين تجربة العميل، يجب أن تكون لدى تجار البيع بالتجزئة رؤية واضحة لمخزونهم في الوقت الحقيقي، وعبر جميع قنواتهم. فبإمكان طريقة عرض واحدة وشاملة للمخزون بكامله أن تساعد على تنفيذ الأوامر وتخصيصها وتوزيعها, وبالتالي، أصبح اعتماد وتنفيذ نظام إدارة الأوامر الموزعة (DOM) أمرًا بالغ الأهمية لبائعي التجزئة.

يحسن نظام إدارة الأوامر الموزعة (DOM) تنفيذ الأوامر عبر شبكة معقدة من الأنظمة والعمليات. وهو يعتمد على طريقة عرض عمومية واحدة للمخزون عبر المؤسسة بكاملها تسمح بإدارة الأوامر بطريقة ذكية، بحيث يتم تنفيذها بطريقة دقيقة ومعقولة التكلفة. ومن خلال تحسين فعالية سلسلة توريد بائع التجزئة، يساعد نظام DOM بائعي التجزئة على تلبية توقعات العملاء بطريقة أفضل.

يبين الرسم التوضيحي التالي دورة حياة أمر مبيعات في نظام DOM.

![دورة حياة أمر مبيعات في سياق نظام إدارة الأوامر الموزعة DOM](./media/flow.png "دورة حياة أمر مبيعات في سياق نظام إدارة الأوامر الموزعة DOM")

## <a name="set-up-dom"></a>إعداد نظام إدارة الأوامر الموزعة (DOM)

1. انتقل إلى **إدارة النظام \> الإعداد \> تكوين الترخيص**.
2. على علامة تبويب **مفاتيح التكوين**، وسّع عقدة **البيع بالتجزئة**، ثم حدد خانة الاختيار **إدارة الأوامر الموزعة**.
3. انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> الإعداد \> معلمات DOM**.
4. على علامة التبويب **عام**، عيّن القيم التالية:

    - **تمكين إدارة الأوامر الموزعة** – عيّن هذا الخيار إلى **نعم**.
    - **تأكيد استخدام خرائط Bing لإدارة الأوامر الموزعة‬** – عيّن هذا الخيار إلى **نعم**.

        > [!NOTE]
        > يمكنك تعيين هذا الخيار إلى **نعم** فقط إذا كان الخيار **تمكين خرائط Bing** على علامة تبويب **خرائط Bing** في صفحة **المعلمات المشتركة للبيع بالتجزئة** (**إعداد Retail \> Headquarters \> معلمات \> المعلمات المشتركة للبيع بالتجزئة**) معينًا أيضًا إلى **نعم**، وإذا تم إدخال مفتاح صالح في حقل **مفتاح خرائط Bing**.

    - **فترة الاحتجاز بالأيام‬** – تحديد الفترة التي يتم خلالها الاحتفاظ بخطط التنفيذ التي يقوم نظام DOM بتشغيلها في النظام. ستقوم الوظيفة الدفعية **إعداد وظيفة حذف بيانات إدارة الأوامر الموزعة‬** بحذف أي خطة تنفيذ تكون أقدم من عدد الأيام التي تحددها هنا.
    - **فترة الرفض (بالأيام)** – تحديد فترة الوقت التي يجب أن تنقضي قبل أن يصبح من الممكن تعيين بند أمر مرفوض إلى الموقع نفسه.

5. على علامة تبويب **الحلول‬**، عيّن القيم التالية:

    - **الحد الأقصى لعدد محاولات التنفيذ التلقائي‬** – حدد عدد المرات التي يحاول خلالها محرك DOM توريد بند أمر إلى موقع ما. إذا تعذر على محرك DOM توريد بند أمر إلى أحد المواقع بعد انقضاء عدد المحاولات المحدد، فسيضع علامة على بند الأمر على أنه استثناء. وسيتخطى عندئذٍ هذا البند في عمليات التشغيل المستقبلية حتى يُعاد تعيين الحالة يدويًا.
    - **نصف قطر منطقة المخزن المحلي‬** – أدخل قيمة. يساعد هذا الحقل على تحديد كيفية تجميع المواقع واعتبارها متساوية من ناحية المسافة. على سبيل المثال، إذا أدخلت **100**، فيستم اعتبار كل متجر أو مركز توزيع ضمن نطاق نصف قطر من 100 ميل من عنوان التنفيذ متساويًا من ناحية المسافة.
    - **نوع الحلول‬** – حدد قيمة. هناك نوعان من الحلول تم إصدارهما مع Retail: **حلول الإنتاج** و**الحلول المُبسطة‬**. بالنسبة إلى جميع الأجهزة التي ستقوم بتشغيل DOM (أي، جميع الخوادم التي تعد جزءًا من مجموعة DOMBatch)، يجب تحديد **حلول الإنتاج**. تحتاج حلول الإنتاج إلى مفتاح الترخيص الذي يتم ترخيصه ونشره في بيئات الإنتاج بشكل افتراضي. بالنسبة إلى البيئات التي لا علاقة لها بالإنتاج، يجب نشر مفتاح الترخيص يدويًا. لنشر مفتاح الترخيص يدويًا، اتبع الخطوات التالية:

        1. في Microsoft Dynamics Lifecycle Services، افتح مكتبة الأصول المشتركة‬، وحدد **النموذج** كنوع الأصول، وقم بتنزيل ملف **ترخيص DOM**.
        2. ابدأ تشغيل Microsoft Internet Information Services (IIS) Manager، وانقر بزر الماوس الأيمن فوق **AOSService website**، ثم حدد **استكشاف**. تفتح نافذة مستكشف Windows في **\<AOS service root\>\\webroot**. سجّل المسار \<AOS Service root\>، لأنك ستستخدمه في الخطوة التالية.
        3. انسخ ملف التكوين في الدليل **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.
        4. انتقل إلى عميل Retail Headquarters وافتح صفحة **معلمات DOM**. على علامة تبويب **الحلول**، في الحقل **نوع الحلول**، حدد **حلول الإنتاج**، وتأكد من عدم ظهور رسائل خطأ.

        > [!NOTE]
        > تتوفر "الحلول المُبسطة‬" لتمكين بائعي التجزئة من تجربة ميزة DOM من دون الحاجة إلى نشر الترخيص الخاص. يجب على المؤسسات عدم استخدام "الحلول المُبسطة‬" في بيئات الإنتاج.
        >
        > وعلى الرغم من أن "الحلول المُبسطة‬" توفر مجموعة القدرات نفسها التي توفرها "حلول الإنتاج"، إلا أن ثمة قيود من ناحية الأداء (عدد الأوامر وبنود الأوامر التي يمكن التعامل معها خلال عملية تشغيل واحدة) وتقارب النتائج (قد لا تنتج دُفعة من الأوامر أفضل النتائج في بعض السيناريوهات).
     
6. عد إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> الإعداد \> معلمات DOM**.
7. على علامة تبويب **التسلسلات الرقمية**، عيّن عدد التسلسلات الرقمية المطلوبة إلى مختلف كيانات DOM.

    > [!NOTE]
    > قبل تعيين التسلسلات الرقمية إلى الكيانات، يجب تعريفها في صفحة **التسلسلات الرقمية** (**إدارة المؤسسة \> التسلسلات الرقمية \> التسلسلات الرقمية**).

8. تدعم ميزة DOM تعريف أنواع مختلفة من قواعد DOM، وباستطاعة المؤسسات تكوين قواعد متعددة، بحسب احتياجات العمل لديها. يمكن تعريف قواعد DOM لمجموعة من المواقع أو لمواقع فردية، ولفئة منتج معينة أو منتج أو متغير معين. لإنشاء مجموعات المواقع التي يجب استخدامها لقواعد DOM، اتبع الخطوات التالية:

    1. انتقل إلى **البيع بالتجزئة \> إعداد القناة‬ \> مجموعات التنفيذ‬**.
    2. حدد **جديد**، وأدخل اسمًا ووصفًا جديدين للمجموعة الجديدة.
    3. حدد **حفظ**.
    4. حدد **إضافة بند‬** لإضافة موقع واحد إلى المجموعة. أو، حدد **إضافة بنود** لإضافة مواقع متعددة.

9. لتعريف القواعد، انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> إعداد \> إدارة القواعد**. يتم حاليًا اعتماد قواعد DOM التالية:

    - **قاعدة أدنى مخزون‬** – تتيح هذه القاعدة للمؤسسات "حماية" كمية معينة أو منتج معين لأغراض أخرى غير تلك المتعلقة بتنفيذ الأمر. على سبيل المثال، قد لا ترغب المؤسسات في السماح لإدارة الأوامر الموزعة (DOM) بأخذ كامل المخزون المتوفر في المتجر في الاعتبار لتنفيذ الأمر. بدلاً من ذلك، قد ترغب في حجز بعض المخزون للعملاء العابرين. عند استخدام قاعدة من هذا النوع، يمكنك تحديد الحد الأدنى للمخزون للاحتفاظ بفئة منتجات أو منتج فردي أو متغير منتج في موقع أو مجموعة مواقع.
    - **قاعدة أولوية موقع التنفيذ‬** – يسمح نوع القاعدة هذا للمؤسسات بتحديد تدرج هرمي للمواقع لوضع الأولوية التي يأخذها محرك DOM في الاعتبار عندما يحاول تحديد مواقع تنفيذ لمنتجات معينة. يتراوح النطاق الصالح للأولويات من 1 إلى 10، حيث يمثل 1 الأولوية العليا و10 الأولوية الدنيا. تؤخذ في الاعتبار المواقع التي لها أولوية عليا قبل المواقع التي لها أولوية دنيا. إذا تم تعريف القاعدة كقاعدة قيد ثابت، فسيتم توريد الأوامر فقط إلى المواقع التي تم تحديد أولويات لها.
    - **قاعدة الأوامر الجزئية** – تسمح هذه القاعدة للمؤسسات بتعريف ما إذا كان يمكن تنفيذ أمر أو بنود أمر بشكل جزئي. تتوفر المعلمات التالية:

        - **تنفيذ الأوامر الجزئية؟** -إذا تم تعيين هذا الخيار إلى **نعم**، فبإمكان DOM تنفيذ جزء من الكمية فقط في بند أمر. يتم إنجاز هذا التنفيذ الجزئي عن طريق تقسيم بند الأمر.
        - **تنفيذ البنود الجزئية؟** – إذا تم تعيين هذا الخيار إلى **نعم**، فبإمكان DOM تنفيذ كمية جزئية من بنود الأمر. يتم إنجاز هذا التنفيذ الجزئي عن طريق تقسيم بند الأمر.
        - **تنفيذ أمر من موقع واحد فقط** – إذا تم تعيين هذا الخيار إلى **نعم**، يتأكد DOM من تنفيذ جميع بنود الأمر من موقع واحد.

        يوضح الجدول التالي السلوك عند تحديد مجموعة من هذه المعلمات.

        |      | تنفيذ الأوامر الجزئية | تنفيذ البنود الجزئية | تنفيذ الأمر من موقع واحد فقط | الوصف |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | 1    | ‏‏نعم                    | ‏‏نعم                   | ‏‏نعم                                  | يمكن تنفيذ بعض البنود في الأمر، ويمكن تنفيذ بنود فردية بشكل جزئي، ولكن يجب أن تكون جميع البنود من الموقع نفسه في مثيل تشغيل DOM. (هذه المجموعة غير مدعومة حاليًا.) |
        | 2    | ‏‏نعم                    | لا                    | ‏‏نعم                                  | يمكن تنفيذ بعض البنود في الأمر، ولكن لا يمكن تنفيذ بنود فردية بشكل جزئي، ويجب أن تكون جميع البنود التي يتم تنفيذها من الموقع نفسه في مثيل تشغيل DOM. (هذه المجموعة غير مدعومة حاليًا.) |
        | 3    | ‏‏نعم                    | ‏‏نعم                   | لا                                   | يمكن تنفيذ بعض البنود في الأمر، ويمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ كل بند من أكثر من موقع واحد في مثيل تشغيل DOM. |
        | 4\*  | لا                     | غير قابل للتطبيق        | لا                                   | يجب تنفيذ جميع بنود الأمر، ولا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ كل بند أمر من موقع مختلف. |
        | 5\*  | لا                     | غير قابل للتطبيق        | ‏‏نعم                                  | يجب تنفيذ جميع بنود الأمر، ولا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تسليم جميع بنود الأمر من موقع واحد. |
        | 6\*  | لا                     | غير قابل للتطبيق        | لا                                   | تعمل هذه المجموعة مثل المجموعة 4، نظرًا لعدم إمكانية تعيين **تنفيذ البنود الجزئية** إلى **نعم** عند تعيين **تنفيذ الأوامر الجزئية** إلى **لا**. |
        | 7\*  | لا                     | غير قابل للتطبيق        | ‏‏نعم                                  | تعمل هذه المجموعة مثل المجموعة 5، نظرًا لعدم إمكانية تعيين **تنفيذ البنود الجزئية** إلى **نعم** عند تعيين **تنفيذ الأوامر الجزئية** إلى **لا**. |
        | 8    | ‏‏نعم                    | لا                    | لا                                   | يمكن تنفيذ بعض البنود في الأمر، ولكن لا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ مختلف بنود الأمر من أكثر من موقع واحد في مثيل تشغيل DOM. |
        | 9\*  | لا                     | غير قابل للتطبيق        | ‏‏نعم                                  | يجب تنفيذ جميع بنود الأمر، ويجب تنفيذها من موقع واحد فقط. |

        \* إذا تم تعيين **تنفيذ الأوامر الجزئية** إلى **لا**، فسيتم اعتبار **تنفيذ البنود الجزئية** على أنه معين دائمًا إلى **لا**، بصرف النظر عن كيفية تعيينه في الواقع.

    - **قاعدة موقع التنفيذ دون اتصال‬** – تسمح هذه القاعدة للمؤسسة بتحديد موقع أو مجموعة من المواقع كغير متصلة أو غير متوفرة لنظام DOM، بحيث يمكن تعيين أوامر هناك لتنفيذها.
    - **قاعدة الحد الأقصى للرفض** – تسمح هذه القاعدة بتعيين حد للرفض. عند الوصول إلى الحد، يضع معالج DOM علامة على أمر أو بند أمر كاستثناء، ويستبعده من أي معالجة إضافية.

        بعد تعيين بنود الأمر إلى موقع، بإمكان الموقع رفض بند أمر معين، لأنه قد يتعذر عليه تنفيذ هذا البند لأسباب معينة. توضع علامة على البنود المرفوضة كاستثناء وتوضع من جديد في التجمع لمعالجتها في وقت التشغيل التالي. وأثناء التشغيل التالي، سيحاول DOM تعيين البند المرفوض إلى موقع آخر. بإمكان الموقع الجديد أيضًا رفض بند الأمر المعين. بإمكان دورة التعيين والرفض هذه أن تحدث عدة مرات. عندما يصل عدد مرات الرفض إلى الحد المعين، يضع نظام DOM علامة على بند الأمر كاستثناء دائم ولن يقوم بانتقاء البند لتعيينه مرة أخرى. ولن يأخذ DOM في الاعتبار بند الأمر لتعيينه مرة أخرى إلا إذا قام أحد المستخدمين بإعادة تعيين حالة بند الأمر.

    - **قاعدة الحد الأقصى للمسافة‬** – تسمح هذا القاعدة للمؤسسات بتحديد الحد الأقصى لمسافة موقع أو مجموعة مواقع لتنفيذ الأمر. إذا تم تحديد قواعد قاعدة الحد الأقصى للمسافات متراكبة لموقع ما، فسيطبق نظام DOM الحد الأقصى للمسافة المحددة لهذا الموقع.
    - **قاعدة الحد الأقصى للأوامر‬** – تسمح هذا القاعدة للمؤسسات بتحديد الحد الأقصى للأوامر‬ التي يمكن لموقع أو مجموعة مواقع معالجتها خلال يوم تقويمي. إذا تم تعيين الحد الأقصى لعدد الأوامر إلى موقع في يوم واحد، فلن يقوم DOM بتعيين أي أوامر أخرى إلى هذا الموقع للجزء المتبقي من هذا اليوم التقويمي.

    فيما يلي بعض السمات العامة التي يمكن تعريفها لكافة أنواع القواعد السابقة:

    - **تاريخ البدء** و**تاريخ الانتهاء** – يمكن تحديد تاريخ سريان مفعول كل قاعدة باستخدام هذه الحقول.
    - **معطّل** – في عملية تشغيل DOM، لا تؤخذ في الاعتبار إلا القواعد التي لديها القيمة **لا** لهذا الحقل.
    - **قيد ثابت** - يمكن تحديد قاعدة كقيد ثابت أو ليس كقيد ثابت. يمر كل تشغيل DOM عبر تكرارين اثنين: في التكرار الأول، يتم التعامل مع كل قاعدة كقاعدة قيد ثابت، بصرف النظر عن إعداد هذا الحقل. بمعنى آخر، يتم تطبيق جميع القواعد. الاستثناء الوحيد هو قاعدة **أولوية الموقع**. في التكرار الثاني، تُزال القواعد التي لم يتم تعريفها على أنها قواعد قيد ثابت. وبالنسبة إلى الأمر أو بنود الأمر التي لم تكن معينة إلى مواقع عندما كانت جميع القواعد مطبقة، سيتم تعيينها إلى مواقع.

10. يتم استخدام ملفات تعريف التنفيذ لتجميع مجموعة من القواعد والكيانات القانونية وأصول أوامر المبيعات وأوضاع التسليم. تتعلق كل عملية تشغيل DOM بملف تعريف تنفيذ محدد. وبهذه الطريقة، بإمكان المؤسسات تحديد وتشغيل مجموعة قواعد لمجموعة من الكيانات القانونية، على الأوامر التي لديها أصول وأوضاع تسليم معينة لأوامر المبيعات. وبالتالي، إذا كان يجب تشغيل مجموعة مختلفة من القواعد لمجموعات مختلفة من أصول وأوضاع تسليم أوامر المبيعات‬، فيمكن تحديد ملفات تعريف التنفيذ وفقًا لذلك. لإعداد ملفات تعريف التنفيذ‬، اتبع هذه الخطوات:  

    1. انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> الإعداد \> ملفات تعريف التنفيذ**.
    2. حدد **جديد**.
    3. أدخل قيمًا في حقلي **ملف التعريف** و**الوصف**.
    4. عيّن الخيار **تطبيق النتيجة تلقائيًا‬**. إذا قمت بتعيين هذا الخيار إلى **نعم**، فسيتم تطبيق نتائج تشغيل DOM لملف التعريف بشكل تقائي على بنود أمر المبيعات. أما إذا قمت بتعيينه إلى **لا**، فيمكن عرض النتائج في خطة التنفيذ فقط. ولن يتم تطبيقها على بنود أمر المبيعات.
    5. إذا أردت تشغيل ملف تعريف DOM على أوامر لديها كل أصل أمر مبيعات، حتى الأوامر التي لم يتم فيها تحديد أصل أمر المبيعات، فعيّن الخيار **مُعالجة الأوامر باستخدام أصل مبيعات فارغ‬** إلى **نعم**. لتشغيل ملف التعريف لبعض أصول أمر المبيعات، يمكنك تحديدها في صفحة **أصول المبيعات**، كما هو موضح فيما بعد.
    6. على علامة التبويب السريعة **الكيانات القانونية**، حدد **إضافة**، ثم حدد كيانًا قانونيًا.
    7. على علامة التبويب السريعة **القواعد**، حدد **إضافة**، ثم حدد القاعدة لربطها بملف التعريف.
    8. كرر الخطوتين السابقتين حتى يتم إقران جميع القواعد المطلوبة بملف التعريف.
    9. حدد **حفظ**.
    10. في جزء "الإجراءات"، على علامة تبويب **الإعداد**، حدد **أوضاع التسليم**.
    11. في صفحة **أوضاع التسليم**، حدد **جديد**.
    12. في حقل **الشركة**، حدد الكيان القانوني. تقتصر قائمة الشركات على الكيانات القانونية التي أضفتها في وقت سابق.
    13. في حقل **وضع التسليم**، حدد وضع التسليم الذي يجب إقرانه بملف التعريف هذا. لا يمكن إقران وضع تسليم بملفات تعريف نشطة متعددة.
    14. كرر الخطوتين السابقتين حتى يتم إقران جميع أوضاع التسليم المطلوبة بملف التعريف.
    15. أغلق صفحة **أوضاع التسليم**.
    16. في جزء "الإجراءات"، على علامة تبويب **الإعداد**، حدد **أصول أوامر المبيعات‬**.
    17. في صفحة **أصول المبيعات‬**، حدد **جديد**.
    18. في حقل **الشركة**، حدد الكيان القانوني. تقتصر قائمة الشركات على الكيانات القانونية التي أضفتها في وقت سابق.
    19. في الحقل **أصل المبيعات** ، حدد أصل المبيعات الذي تريد إقرانه بملف التعريف هذا. لا يمكن إقران أصل مبيعات بملفات تعريف نشطة متعددة.
    20. كرر الخطوتين السابقتين حتى يتم إقران جميع أصول المبيعات المطلوبة بملف التعريف.
    21. أغلق صفحة **أصول المبيعات**.
    22. عيّن الخيار **تمكين ملف التعريف** إلى **نعم**. في حالة وجود أخطاء في الإعداد، تتلقى رسالة تحذير.

## <a name="dom-processing"></a>معالجة DOM

سيتم تشغيل DOM فقط في وظيفة دفعية. لتكوين الوظيفة الدفعية لعمليات تشغيل DOM، اتبع هذه الخطوات.

1. انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> معالجة الدُفعات \> إعداد وظيفة مُعالج DOM**.
1. على علامة التبويب السريعة **معلمات**، في حقل **ملف تعريف التنفيذ**، حدد ملف تعريف لتشغيل DOM له.
1. على علامة التبويب السريعة **تشغيل في الخلفية‬**، في الحقل **مجموعة دُفعات**، حدد مجموعة دُفعات مكوّنة.
1. في حقل **وصف المهمة**، أدخل اسمًا للوظيفة الدفعية.
1. حدد **التكرار**، وحدد تكرار الوظيفة الدفعية.
1. حدد **موافق**.

أثناء المعالجة، سيعتبر DOM الأمر وبنود الأمر كما هو موضح هنا:

- بنود الأمر التي تلبي معايير أصول المبيعات وأوضاع التسليم والكيان القانوني كما ورد في ملف تعريف DOM، والتي تلبي أيضًا أي واحد من المعايير التالية:

    - تم إنشاؤها من قنوات البيع بالتجزئة.
    - لم يتم توريدها إطلاقًا بواسطة DOM.
    - سبق أن تم توريدها بواسطة DOM، ولكن تم وضع علامة عليها كاستثناءات وهي لم تصل إلى الحد الأقصى للمحاولات.
    - وضع التسليم ليس عن طريق التحميل أو التسليم الإلكتروني.
    - لم توضع عليها علامة لتسليمها.
    - إنها غير مستثناة يدويًا.

- الأوامر التي ليست قيد الانتظار

يقوم نظام DOM، بعد تطبيق القواعد وقيود المخزون والتحسين، بانتقاء الموقع الأقرب إلى عنوان التسليم الخاص بالعميل.

![معايير أمر المبيعات](./media/ordercriteria.png "معايير أمر المبيعات")

## <a name="results-of-dom-runs"></a>نتائج عمليات تشغيل DOM

إذا تم تعيين ملف تعريف التنفيذ إلى **التطبيق التلقائي**، فسيتم تطبيق نتائج التشغيل تلقائيًا على بنود أمر المبيعات، ويمكن عرض خطة التنفيذ بشكل منفصل. ومع ذلك، إذا لم يتم تعيين ملف تعريف التنفيذ إلى **التطبيق التلقائي**، فلن تكون رؤية نتائج التشغيل ممكنة إلا من طريقة عرض خطة التنفيذ. 

لعرض جميع خطط التنفيذ التي تم إنشاؤها، اتبع هذه الخطوات.

1. انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> إدارة الأوامر الموزعة**.
2. في مساحة عمل **إدارة الأوامر الموزعة**، حدد اللوحة **خطط التنفيذ**.
3. حدد معرّف خطة تنفيذ الأمر ذات الصلة لعرض خطة تنفيذ.

    يعرض قسم تفاصيل الأمر في خطة التنفيذ بنود أمر المبيعات الأصلي التي كانت جزءًا من عملية التشغيل. بالإضافة إلى حقول بنود أمر المبيعات القياسية، يتضمن أيضًا قسم تفاصيل الأمر الحقول الثلاثة التالية ذات الصلة بنظام DOM:

    - **نوع التنفيذ** – يشير هذا الحقل إلى ما إذا كان بند أمر المبيعات قد تم توريده بشكل كامل أو جزئي أو لم يتم توريده إطلاقًا إلى موقع ما.
    - **تقسيم** – يشير هذا الحقل إلى ما إذا كان بند أمر المبيعات قد تم تقسيمه وتوريده إلى مواقع مختلفة.
    - **عدد مواقع التنفيذ‬** – يشير هذا الحقل إلى عدد بنود التنفيذ التي تم إنشاؤها لأمر مبيعات واحد (استنادًا إلى عدد المواقع التي تم توريد بند أمر المبيعات الأصلي إليها).

    يعرض قسم تفاصيل تنفيد الأمر تعيين بنود أمر المبيعات الأصلي إلى مواقع مختلفة، إلى جانب كمياتها.

## <a name="order-line-actions-and-statuses"></a>إجراءات وحالات بنود الأمر

فيما يلي وصف للإعدادات في بند الأمر. لفتح بند أمر، انتقل إلى **البيع بالتجزئة \> العملاء \> كافة أوامر المبيعات‬**.
- إذا قمت بتعيين الخيار **استثناء من معالجة DOM** على علامة التبويب **عام** لبند أمر مبيعات إلى **نعم**، فسيتم استبعاد الأمر أو بند الأمر من معالجة DOM.
- يمكن تعيين الحقل **حالة DOM** على علامة التبويب **عام** لبند أمر المبيعات إلى إحدى القيم التالية:

    - **بلا** – لم يتم توريد بند الأمر إطلاقًا.
    - **مكتمل** - تم توريد بند الأمر وتعيينه إلى موقع ما بنجاح.
    - **استثناء** - تم توريد بند الأمر ولكن تعذر تعيينه إلى موقع ما. تتضمن الاستثناءات أنواعًا فرعية متعددة يمكن عرضها من مساحة عمل DOM:

        - **لا توجد كمية متوفرة** - لا يوجد أي مخزون متاح لتعيين الأمر إليه في المواقع.
        - **الحد الأقصى عمليات الرفض** - وصل بند الأمر إلى الحد الأقصى لعمليات الرفض.
        - **تعارض تعديل البيانات** - تم تغيير بند أمر المبيعات منذ أن تم توريد الأمر. لذلك، لا يمكن تطبيق خطة تنفيذ الأمر.
        - **استثناء سطر أمر مُحدد‬** - هناك عدة استثناءات على بند الأمر.

- أثناء إدخال أمر المبيعات، يمكن تشغيل DOM في وضع تفاعلي. بينما تقوم بإدخال بند أمر، وبعد تحديد المنتج والكمية، يمكنك تحديد **تحديث البند** ومن ثم، تحت **DOM**، حدد **اقتراح موقع تنفيذ‬**. سترى عندئذٍ قائمة بالمواقع التي تستند إلى قواعد DOM والتي يمكنها تنفيذ الكمية على بند الأمر. تم فرز القائمة حسب المسافة. حدد موقعًا لتعيين الموقع والمستودع الملائمين على بند أمر المبيعات. لكي تعمل هذه الوظيفة، يلزم وجود ملف تعريف تنفيذ نشط يتطابق مع أصل المبيعات ووضع التسليم على بند المبيعات.
- لعرض سجلات تشغيل DOM لبند أمر مبيعات، حدد **بند أمر المبيعات**، ثم ضمن **إدارة الأوامر الموزعة (DOM)**، حدد **عرض سجلات DOM**. ستعرض DOM جميع الأحداث والسجلات التي نشأت نتيجة تشغيل DOM. بإمكان السجلات أن تساعدك في فهم سبب تعيين موقع معين إلى بند الأمر، والقواعد والقيود التي تمت مراعاتها كجزء من التعيين. على علامة التبويب **إدارة**، تتوفر أيضًا سجلات DOM على مستوى رأس أمر المبيعات.

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a>تشغيل وظيفة التنظيف لخطط DOM

أثناء تشغيل معالجة DOM، يتم إنشاء خطط تنفيذ. ومع مرور الوقت، يحتفظ النظام بخطط تنفيذ متعددة. لإدارة عدد خطط التنفيذ التي يحتفظ بها النظام، يمكنك تكوين وظيفة دفعية تحذف خطط تنفيذ الأوامر القديمة، استنادًا إلى قيمة **فترة الاحتجاز بالأيام‬**.

1. انتقل إلى **البيع بالتجزئة \> إدارة الأوامر الموزعة \> معالجة الدُفعات \> إعداد وظيفة حذف بيانات تنفيذ إدارة البيانات الموزعة‬**. 
1. في حقل **مجموعة الدُفعات**، حدد مجموعة دُفعات تم تكوينها.
1. حدد **التكرار**، وحدد تكرار الوظيفة الدفعية.
1. حدد **موافق**.

## <a name="more-information"></a>مزيد من المعلومات

فيما يلي بعض الأشياء الواجب مراعاتها عند استخدام ميزة DOM:

- في الوقت الحالي، تنظر وظيفة DOM فقط إلى الأوامر التي تم إنشاؤها من قنوات البيع بالتجزئة. ويتم التعرف على أوامر المبيعات كأوامر مبيعات بالتجزئة عند تعيين الخيار **بيع بالتجزئة** إلى **نعم**.
- لم تختبر Microsoft وظيفة DOM مع الميزات المتقدمة لإدارة المستودعات. يتعين على العملاء والشركاء توخي الحذر لتحديد ما إذا كانت وظيفة DOM متوافقة مع قدرات وعمليات الإدارة المتقدمة للمستودعات ذات الصلة بهم
- تتوفر وظيفة DOM فقط على إصدار Retail في السحابة. وهي غير معتمدة في عمليات النشر المحلي.
