---
title: وظائف استيراد البيانات وتصديرها
description: استخدم مساحة عمل إدارة البيانات لإنشاء وإدارة وظائف استيراد البيانات وتصديرها.
author: Sunil-Garg
manager: AnnBe
ms.date: 08/28/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application user
ms.reviewer: margoc
ms.search.scope: Operations
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 68cafc167c178e2feeb0a5af764a491ea6b3c60b
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 01/29/2019
ms.locfileid: "360200"
---
# <a name="data-import-and-export-jobs"></a>استيراد البيانات وتصدير الوظائف

[!include [banner](../includes/banner.md)]

لإنشاء وإدارة وظائف استيراد البيانات وتصديرها في Microsoft Dynamics 365 for Finance and Operations، استخدم مساحة عمل **إدارة البيانات**. بشكل افتراضي، تنشئ عملية استيراد البيانات وتصديرها جدولاً مرحليًا لكل كيان في قاعدة البيانات الهدف. تسمح لك الجداول المرحلية بالتحقق من البيانات أو تنظيمها أو تحويلها قبل قبل أن تقوم بنقلها.

> [!NOTE]
> يفترض هذا الموضوع أنك على دراية بـ [كيانات البيانات](data-entities.md).

## <a name="data-importexport-process"></a>عملية استيراد/تصدير البيانات
فيما يلي الخطوات اللازمة لاستيراد أو تصدير البيانات.

1. أنشئ وظيفة استيراد وتصدير حيث يمكنك إتمام المهام التالية:

    - تعريف فئة المشروع.
    - تحديد الكيانات لاستيرادها أو تصديرها.
    - تعيين تنسيق البيانات للوظيفة.
    - إجراء تسلسل للكيانات، لكي تتم معالجتها في مجموعات منطقية، وبترتيب ملائم.
    - تحديد ما إذا كان يجب استخدام جداول مرحلية.

2. تحقق من تعيين البيانات المصدر والبيانات الهدف بشكل صحيح.
3. تحقق من أمان وظيفة الاستيراد أو التصدير.
4. شغُل وظيفة الاستيراد أو التصدير.
5. تحقق من تشغيل الوظيفة كما هو متوقع من خلال مراجعة سجل الوظائف.
6. نظف الجداول المرحلية.

توفر المقاطع المتبقية من هذا الموضوع تفاصيل إضافية حول كل خطوة من خطوات العملية.

> [!NOTE]
> لكي يتم تحديث نموذج استيراد/تصدير البيانات للاطلاع على التقدم الأخير الذي حصل، استخدم أيقونة تحديث النموذج. من غير المستحسن إجراء التحديث على مستوى المستعرض لأنه سوف يقاطع أي وظائف استيراد/تصدير لا يتم تشغيلها على دُفعات.

## <a name="create-an-import-or-export-job"></a>إنشاء وظيفة استيراد أو تصدير
يمكن تشغيل وظيفة استيراد البيانات أو تصديرها مرة واحدة أو مرات كثيرة.

### <a name="define-the-project-category"></a>تعريف فئة المشروع
إننا ننصحك بأن تخصص بعض الوقت لتحديد فئة مشروع مناسبة لمهمة الاستيراد أو التصدير. بإمكان فئات المشروع أن تساعدك في إدارة الوظائف ذات الصلة.

### <a name="identify-the-entities-to-import-or-export"></a>تحديد الكيانات لاستيرادها أو تصديرها
يمكنك إضافة كيانات محددة إلى وظيفة استيراد أو تصدير أو تحديد قالب لتطبيقه. تقوم القوالب بتعبئة وظيفة ما بقائمة وحدات. يتوفر الخيار **تطبيق قالب** بعد أن تقوم بتسمية الوظيفة وحفظها.

### <a name="set-the-data-format-for-the-job"></a>تعيين تنسيق البيانات للوظيفة
عندما تقوم بتحديد كيان ما، يجب تحديد تنسيق البيانات التي سيتم تصديرها أو استيرادها. يمكنك تحديد التنسيقات باستخدام اللوحة **إعداد مصادر البيانات**. تنسيق بيانات مصدر عبارة عن مجموعة من **النوع**، و**تنسيق الملف**، و**محدد الصف**، و**محدد العمود**. هناك أيضًا سمات أخرى، ولكن هذه هي الأساسية للفهم. يسرد الجدول التالي المجموعات الصالحة.

| تنسيق الملف            | محدد الأعمدة/الصفوف                       | نمط XML                 |
|------------------------|--------------------------------------------|---------------------------|
| Excel                  | Excel                                      | \-غير متوفر                     |
| XML                    | \-غير متوفر                                      | سمة XML لعنصر XML |
| عرض ثابت، محدد | الفاصلة، الفاصلة المنقوطة، علامة التبويب، خط عمودي، الفاصلة المنقوطة | \-غير متوفر                     |

### <a name="sequence-the-entities"></a>إجراء تسلسل للكيانات
يمكن إجراء تسلسل للكيانات في قالب بيانات أو في وظائف الاستيراد والتصدير. عندما تقوم بتشغيل وظيفة تحتوي على أكثر من كيان بيانات واحد، يجب أن تتأكد من التسلسل الصحيح لكيانات البيانات. إنك تجري تسلسلاً للكيانات بشكل أساسي لكي تتمكن من معالجة أي تبعيات وظيفية بين الكيانات. وإذا لم يكن هناك أي تبعيات وظيفية لدى الكيانات، فيمكن جدولتها للاستيراد أو التصدير المتوازي.

#### <a name="execution-units-levels-and-sequences"></a>وحدات التنفيذ والمستويات والتسلسلات
تساعد وحدة التنفيذ والمستوى في وحدة التنفيذ وتسلسل الكيان في التحكم في الترتيب الذي يتم فيه تصدير البيانات أو استيرادها.

- تتم معالجة الكيانات في وحدات تنفيذ مختلفة في نفس الوقت.
- في كل وحدة التنفيذ، تتم معالجة الكيانات في نفس الوقت إذا كانت ذات مستوى مماثل.
- في كل مستوى، تتم معالجة الكيانات وفقًا لرقمها التسلسلي في هذا المستوى.
- بعد أن تمت معالجة أحد المستويات، تتم معالجة المستوى التالي.

#### <a name="resequencing"></a>إعادة إجراء التسلسل
قد تحتاج إلى إعادة إجراء تسلسل للكيانات في الحالات التالية:

- إذا تم استخدام وظيفة بيانات واحدة فقط لكافة تغييراتك، فيمكنك استخدام خيارات إعادة إجراء التسلسل لتحسين وقت التنفيذ للوظيفة الكاملة. في هذه الحالات، يمكنك استخدام وحدة التنفيذ لتمثيل الوحدة النمطية، ومستوى لتمثيل منطقة الميزات في الوحدة النمطية، والتسلسل لتمثيل الكيان. باستخدام هذه الطريقة، يمكنك العمل عبر الوحدات النمطية في نفس الوقت، ولكن مع ذلك يمكنك العمل بشكل متسلسل في وحدة نمطية. للمساعدة في ضمان نجاح العمليات المتزامنة، يجب مراعاة كافة التبعيات.
- إذا كنت تستخدم وظائف بيانات متعددة (على سبيل المثال، وظيفة واحدة لكل وحدة نمطية)، يمكنك استخدام التسلسل للتأثير على مستوى الكيانات وتسلسلها لتمكين التنفيذ الأمثل.
- في حال عدم وجود تبعيات، يمكنك إجراء تسلسل للكيانات عند وحدات تنفيذ مختلفة لتمكين الحد الأقصى للتحسين.

تتوفر قائمة **إعادة إجراء التسلسل** عند تحديد كيانات متعددة. يمكنك إعادة إجراء التسلسل استنادًا إلى خيارات وحدة التنفيذ أو المستوى أو التسلسل. ويمكنك تعيين تزايد لإجراء إعادة تسلسل للكيانات التي تم تحديدها. يتم تحديث الوحدة و/أو المستوى و/أو الرقم التسلسلي المحدد لكل كيان بواسطة التزايد المحدد.

#### <a name="sorting"></a>الفرز
يمكنك استخدام الخيار **فرز حسب** لعرض قائمة الكيانات بترتيب متسلسل.

### <a name="truncating"></a>الاقتطاع
لاستيراد المشروعات، فإنه يمكنك اختيار اقتطاع السجلات في الكيانات قبل الاستيراد. هذا مفيد في حالة وجوب استيراد سجلاتك إلى مجموعة جداول خالية. يكون هذا الخيار متوقفًا عن التشغيل بشكل افتراضي.

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a>التحقق من تعيين البيانات المصدر والبيانات الهدف بشكل صحيح
إن التعيين عبارة عن وظيفة تنطبق على وظائف الاستيراد والتصدير على حد سواء.

- في سياق وظيفة استيراد، يصف التعيين الأعمدة في الملف المصدر التي تتحوّل إلى أعمدة في الجدول المرحلي. وبالتالي، باستطاعة النظام تحديد بيانات العمود في الملف المصدر التي يجب نسخها والعمود في الجدول المرحلي الذي يجب نسخ البيانات إليه.
- في سياق وظيفة تصدير، يصف التعيين الأعمدة في الجدول المرحلي (أي، المصدر) التي تتحوّل إلى أعمدة في الملف الهدف.

إذا تطابقت أسماء الأعمدة في الجدول المرحلي والملف، فسيقوم النظام تلقائيًا بإنشاء التعيين، استنادًا إلى الأسماء. ولكن لن يتم تعيين الأعمدة تلقائيًا إذا كانت الأسماء مختلفة. في هذه الحالات، يجب عليك إكمال التعيين من خلال تحديد الخيار **عرض التعيين** على الكيان في وظيفة البيانات.

هناك طريقتا عرض للتعيين: **مؤثرات عرض التعيين**، وهي طريقة العرض الافتراضية، و**تفاصيل التعيين**. تحدد علامة نجمية حمراء (\*) أي حقول مطلوبة في الكيان. يجب تعيين هذه الحقول قبل أن تتمكن من العمل مع الكيان. يمكن إلغاء تعيين حقول أخرى كما تقتضي الحاجة عندما تعمل مع الكيان. لإلغاء تعيين حقل، حدد الحقل في عمود **الكيان** أو عمود **المصدر**، ثم حدد **حذف التحديد**. حدد **حفظ** لحفظ التغييرات التي أجريتها، ثم قم بإغلاق الصفحة للعودة إلى المشروع. يمكنك استخدام العملية نفسها لتحرير تعيين الحقول من المصدر إلى الجدول المرحلي بعد استيرادها.

يمكنك إنشاء تعيين على الصفحة عن طريق تحديد **إنشاء تعيين للمصدر**. يعمل التعيين المُنشأ كتعيين تلقائي. وبالتالي، يجب تعيين أي حقول غير معينة يدويًا.

![تعيين البيانات](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a>التحقق من أمان وظيفة الاستيراد أو التصدير
قد يكون الوصول إلى مساحة عمل **إدارة البيانات** مقيدًا، بهدف تمكين المستخدمين من غير المسؤولين من الوصول فقط إلى وظائف بيانات معينة. يشتمل الوصول إلى وظيفة بيانات حق الوصول الكامل إلى سجل التنفيذ لتلك الوظيفة والوصول إلى الجداول المرحلية. وبالتالي، يجب أن تتأكد من وضع عناصر التحكم بالوصول المناسبة عند إنشاء وظيفة بيانات.

### <a name="secure-a-job-by-roles-and-users"></a>حماية وظيفة بواسطة الأدوار والمستخدمين
استخدم قائمة **الأدوار القابلة للتطبيق** لتقييد الوظيفة بحيث تقتصر على دور أمان واحد أو أكثر. سيتمكن فقط المستخدمون الذين لديهم هذه الأدوار من الوصول إلى الوظيفة.

يمكنك أيضًا تقييد وظيفة بحيث تقتصر على مستخدمين معينين. عندما تقوم بحماية وظيفة بواسطة المستخدمين بدلاً من الأدوار، سيكون هناك المزيد من التحكم في حالة تعيين عدة مستخدمين إلى دور ما.

### <a name="secure-a-job-by-legal-entity"></a>حماية وظيفة بواسطة الكيان القانوني
تعتبر وظائف البيانات عمومية بطبيعتها. لذلك، إذا تم إنشاء وظيفة بيانات واستخدامها في كيان قانوني، فستكون الوظيفة مرئية في كيانات قانونية أخرى في النظام. قد يكون هذا السلوك الافتراضي مفضلاً في بعض سيناريوهات التطبيق. على سبيل المثال، قد تقوم مؤسسة تستورد الفواتير باستخدام كيانات بيانات بتوفير فريق لمعالجة الفواتير المركزية يكون مسؤولاً عن إدارة أخطاء الفواتير لكافة الأقسام في المؤسسة. في هذا السيناريو، من المفيد أن يتوفر لفريق معالجة الفواتير المركزية حق الوصول إلى وظائف استيراد الفواتير من كافة الكيانات القانونية. نتيجة لذلك، يلبي السلوك الافتراضي المتطلبات من وجهة نظر كيان قانوني.

ومع ذلك، قد تحتاج المؤسسة إلى وجود فرق عمل لمعالجة الفواتير في كل كيان قانوني. في هذه الحالة، يجب أن يتوفر لدى الفريق في الكيان القانوني حق الوصول فقط إلى وظيفة استيراد الفواتير في كيانه القانوني الخاص. لتلبية هذه المتطلبات، يمكنك تكوين التحكم بالوصول الذي يستند إلى الكيان القانوني على وظائف البيانات باستخدام قائمة **الكيانات القانونية القابلة للتطبيق** داخل وظيفة البيانات. بعد تنفيذ عملية التكوين، يستطيع المستخدمون رؤية فقط الوظائف المتوفرة في الكيان القانوني الذي سجلوا دخولهم إليه حاليًا. لرؤية الوظائف من كيان قانوني آخر، يجب على المستخدمين التبديل إلى هذا الكيان القانوني.

يمكن حماية وظيفة بواسطة الأدوار والمستخدمين والكيان القانوني في نفس الوقت.

## <a name="run-the-import-or-export-job"></a>تشغيل وظيفة الاستيراد أو التصدير
يمكنك تشغيل وظيفة مرة واحدة عن طريق تحديد الزر **استيراد** أو **تصدير** بعد تعريف الوظيفة. لإعداد وظيفة متكررة، حدد **إنشاء وظيفة بيانات متكررة**.

## <a name="validate-that-the-job-ran-as-expected"></a>التحقق من تشغيل الوظيفة كما هو متوقع
يتوف سجل الوظائف لاستكشاف الأخطاء وإصلاحها ولعمليات الاستقصاء على وظائف الاستيراد والتصدير على حدٍ سواء. يتم تنظيم عمليات التشغيل التاريخية حسب نطاقات الوقت.

![نطاقات سجل الوظائف](./media/dixf-job-history.md.png)

توفر كل عملية تشغيل للوظيفة التفاصيل التالية:

- تفاصيل التنفيذ
- سجل التنفيذ

تُظهر تفاصيل التنفيذ حالة كل كيان بيانات قامت الوظيفة بمعالجته. وبالتالي، يمكنك العثور بسرعة على المعلومات التالية:

- الكيانات التي تمت معالجتها
- بالنسبة إلى كيان ما، عدد السجلات التي تمت معالجتها بنجاح وعدد السجلات التي فشلت معالجتها
- السجلات المرحلية لكل كيان

يمكنك تنزيل البيانات المرحلية في ملف لوظائف التصدير، أو يمكن تحميلها كحزمة لوظائف الاستيراد والتصدير.

من تفاصيل التنفيذ، يمكنك أيضًا فتح سجل التنفيذ.

## <a name="clean-up-the-staging-tables"></a>تنظيف الجداول المرحلية
يمكن تنظيف الجداول المرحلية باستخدام ميزة **تنظيف الجداول المرحلية** في مساحة عمل **إدارة البيانات**. يمكنك استخدام الخيارات التالية لتحديد السجلات التي يجب حذفها والجدول المرحلي الذي يجب حذف هذه السجلات منه:

- **الكيان** – إذا تم توفير كيان فقط، فسيتم حذف جميع السجلات من الجدول المرحلي لهذا الكيان. حدد هذا الخيار لتنظيف كافة البيانات في الكيان عبر كافة مشاريع البيانات وكافه الوظائف.
- **معرف الوظيفة** – إذا تم توفير معرف وظيفة فقط، فسيتم حذف جميع السجلات لجميع الكيانات في الوظيفة المحددة من الجداول المرحلية المناسبة.
- **مشاريع البيانات** – إذا تم تحديد مشروع بيانات فقط، فسيتم حذف جميع السجلات لجميع الكيانات وعبر جميع الوظائف الخاصة بمشروع البيانات المحدد.

يمكنك أيضًا دمج الخيارات لزيادة مستوى تقييد مجموعة السجلات التي تم حذفها.
