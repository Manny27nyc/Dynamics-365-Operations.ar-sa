--- 
title: "استخدام تكوين تعيين نموذج للحسابات المجمعة على مستوى قاعدة البيانات (التقارير الإلكترونية)"
description: "يوفر هذا الإجراء معلومات حول كيفية تصميم تكوين جديد لتعيين نموذج التقارير الإلكترونية، واستخدم وظائف التقارير الإلكترونية المدمجة لإجراء حسابات مجمعة فعالة."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 7be3e9970e2599c159e7c9d414b54876d0116350
ms.openlocfilehash: 869a23b992f1d6dccf9327b66b3e4d611728efce
ms.contentlocale: ar-sa
ms.lasthandoff: 03/09/2018

---
# <a name="use-a-model-mapping-configuration-for-aggregate-calculations-at-the-database-leveler"></a>استخدام تكوين تعيين نموذج للحسابات المجمعة على مستوى قاعدة البيانات (التقارير الإلكترونية) 

[!INCLUDE [task guide banner](../../includes/task-guide-banner.md)]

يوفر هذا الإجراء معلومات حول كيفية تصميم تكوين جديد لتعيين نموذج التقارير الإلكترونية، واستخدم وظائف التقارير الإلكترونية المدمجة لإجراء حسابات مجمعة فعالة. في هذا الإجراء، ستقوم بإنشاء تكوين للشركة النموذجية، Litware, Inc. 

تم إنشاء هذا الإجراء للمستخدمين الذين لديهم دور مسؤول النظام أو مطور التقارير الإلكترونية. يمكن إتمام هذه الخطوات باستخدام أي مجموعة بيانات.

 لإتمام هذه الخطوات، يجب عليك أولاً إكمال الخطوات المذكورة في الإجراء، "التقارير الإلكترونية - تحسن فعالية الحسابات المجمعة من خلال تنفيذها على مستوى قاعدة البيانات (الجزء الأول: إعداد التكوينات).

1. انتقل إلى إدارة المؤسسة >إعداد التقارير الإلكتروني >التكوينات.
2. في الشجرة، قم بتوسيع "نموذج نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي".
3. في الشجرة، حدد "نموذج نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي\تعيين نموذج نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي".
4. انقر فوق المصمم.
5. انقر فوق المصمم.
6. في الشجرة، حدد "Dynamics 365 for Operations\سجلات جدول".
7. انقر فوق "إضافة جذر".
    * قم بإضافة مصدر بيانات جديد يمثل السجلات التي تريد تجميعها.  
8. في الحقل "الاسم"، اكتب "الحركات".
    * الحركات  
9. في الحقل "الجدول"، اكتب "نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي".
    * نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي  
10. انقر فوق "موافق".
11. في الشجرة، حدد "Functions\Group by".
    * يتم استخدام نوع مصدر البيانات هذا لتقديم مصدر بيانات جديد أثناء وقت التشغيل لتجميع السجلات وحساب التجميعات المطلوبة.  
12. انقر فوق "إضافة جذر".
13. في حقل "الاسم"، اكتب "TransactionsGroups".
    * TransactionsGroups  
14. انقر فوق تحرير تجميع حسب.
15. في الشجرة، حدد "الحركات".
    * حدد مصدر البيانات المضاف من النوع "قائمة السجلات" الذي يمثل السجلات التي تريد تجميعها.  
16. انقر فوق إضافة حقل إلى.
17. انقر فوق ما يتم تجميعه.
18. في الشجرة، قم بتوسيع "الحركات".
19. في الشجرة، حدد "حركات\اتجاه".
20. انقر فوق إضافة حقل إلى.
21. انقر فوق "الحقول مجمعَة".
    * حدد الحقل لتحديد مستوى التجميع. استنادًا إلى هذا التحديد، سوف يُرجع مصدر البيانات في وقت التشغيل العديد من مجموعات الحركات بمقدار أكواد الاتجاه والتي سيتم تطبيقها في جدول نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي.  
22. في الشجرة، حدد "حركات\مبلغ الفاتورة(AmountMST)".
    * حدد الحقل لتحديد مصدر لحساب التجميع.  
23. انقر فوق إضافة حقل إلى.
24. انقر فوق حقول التجميع.
25. في القائمة، قم بوضع علامة للصف المحدد.
26. في حقل "الأسلوب"، حدد "مجموع".
    * حدد نوع التجميع.  
27. في حقل "الاسم"، اكتب "SumOfAmountMST".
    * حدد اسم هذا التجميع في مصدر البيانات الذي تم تكوينه.  
28. انقر فوق "حفظ".
    * لاحظ أن الحقل "التنفيذ في" يشير إلى أنه سيتم إنجاز هذا التجميع في وقت التشغيل في قاعدة بيانات SQL.  
29. قم بإغلاق الصفحة.
30. انقر فوق "موافق".
31. في الشجرة، قم بتوسيع "إجماليات".
32. في الشجرة، قم بتوسيع "TransactionsGroups".
33. في الشجرة، قم بتوسيع "TransactionsGroups\مجمعة".
34. في الشجرة، حدد "TransactionsGroups\مجمعة\SumOfAmountMST".
35. في الشجرة، حدد "إجماليات\إجمالي قيمة الفاتورة(TotalInvoiceValue) = IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded')".
36. انقر فوق "ربط".
    * استنادًا إلى هذا الإعداد، سيقوم مصدر البيانات هذا بحساب مجموع القيم للحقل "AmountMST" لكل مجموعة حركات. سيكون حساب التجميع هذا متوفرًا كصنف TransactionsGroups.aggregated.TotalAmount.  
37. في الشجرة، قم بتوسيع "TransactionsGroups".
38. في الشجرة، حدد "TransactionsGroups".
39. انقر فوق "تحرير".
40. انقر فوق تحرير تجميع حسب.
41. في الشجرة، قم بتوسيع "الحركات".
42. في الشجرة، حدد "حركات\مبلغ الفاتورة(AmountMST)".
43. انقر فوق إضافة حقل إلى.
44. انقر فوق حقول التجميع.
45. في القائمة، قم بوضع علامة للصف المحدد.
46. في حقل "الأسلوب"، حدد "الحد الأقصى".
47. في حقل "الاسم"، اكتب "MaxOfAmountMST".
48. انقر فوق "حفظ".
    * في الوقت الحالي، يمكن ترجمة تنفيذ مصادر بيانات GROUPBY إلى مستوى قاعدة البيانات مع وجود بعض القيود. يمكن إجراء الترجمة لأي من مصادر البيانات من النوع "قائمة السجلات" أو مصادر البيانات الممثلة كتعبير باستخدام الدالة FILTER. ويمكن إجراء الترجمة أيضًا عند تكوين تجميع واحد فقط لحقل واحد من السجلات المجمعة.  
    * لاحظ أنه على الرغم من تكوين أكثر من تجميع واحد للحقل AmountMST، يستمر حقل "التنفيذ في" في الإشارة إلى أن تنفيذ هذا التجميع سوف يتم في وقت التشغيل في قاعدة بيانات SQL. ويعود السبب في ذلك إلى ارتباط تجميع واحد فقط بصنف نموذج البيانات، وسوف يتم استخدامه في وقت التشغيل لسحب البيانات من مصدر البيانات هذا.  
49. قم بإغلاق الصفحة.
50. انقر فوق "موافق".
51. في الشجرة، قم بتوسيع "TransactionsGroups".
52. في الشجرة، قم بتوسيع "TransactionsGroups\مجمعة".
53. في الشجرة، حدد "TransactionsGroups\مجمعة\MaxOfAmountMST".
54. في الشجرة، حدد "إجماليات\إجمالي القيمة الإحصائية‬(TotalStatisticalValue) = IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$StatisticalValueRounded')'.
55. انقر فوق "ربط".
56. في الشجرة، قم بتوسيع "TransactionsGroups".
57. في الشجرة، حدد "TransactionsGroups".
58. انقر فوق "تحرير".
59. انقر فوق تحرير تجميع حسب.
    * لاحظ أن حقل "التنفيذ في" يشير إلى أنه سيتم تنفيذ هذا التجميع في وقت التشغيل في الذاكرة نظرًا لارتباط التجميعين للحقل نفسه بأصناف نموذج البيانات.   
60. في القائمة، قم بوضع علامة أو إلغاء علامة كل الصفوف.
61. انقر فوق حذف.
62. انقر فوق نعم.
63. انقر فوق حذف.
64. انقر فوق نعم.
65. انقر فوق إضافة حقل إلى.
66. انقر فوق ما يتم تجميعه.
67. في الشجرة، قم بتوسيع "سجل السلع‬(نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي)".
68. انقر فوق "حفظ".
    * لاحظ أن حقل "التنفيذ في" يشير إلى أنه سيتم تنفيذ هذا التجميع في وقت التشغيل في الذاكرة على الرغم من عدم تحديد أي تجميعات ولأن مصدر البيانات المحدد لنوع "سجلات الجدول" يشير إلى جدول "نظام جمع المعلومات التجارية بين دول الاتحاد الأوروبي" نفسه. يعود السبب في ذلك إلى احتواء مصدر البيانات على بعض الحقول المحسوبة التي لا يتم ترجمتها بعد إلى مستوى قاعدة بيانات SQL.  


