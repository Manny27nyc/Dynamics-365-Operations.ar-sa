---
title: متطلبات ضبط حجم الأجهزة للبيئات المحلية
description: يسرد هذا الموضوع متطلبات ضبط حجم الأجهزة للبيئات المحلية.
author: sericks007
manager: AnnBe
ms.date: 11/27/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: sericks
ms.custom: 55651
ms.assetid: ''
ms.search.region: Global
ms.author: chwolf
ms.search.validFrom: 2016-08-30
ms.dyn365.ops.version: Platform update 8
ms.openlocfilehash: 9d4f2e59d4dd78d15d561ff0da47e4b9b1a2fce3
ms.sourcegitcommit: b112925c389a460a98c3401cc2c67df7091b066f
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 12/19/2020
ms.locfileid: "4798294"
---
# <a name="hardware-sizing-requirements-for-on-premises-environments"></a>متطلبات ضبط حجم الأجهزة للبيئات المحلية

[!include [banner](../includes/banner.md)]

قبل أن تبدأ عملية ضبط حجم الأجهزة والبنية الأساسية لبيئة محلية، عليك الاطلاع على [متطلبات النظام لعمليات النشر على السحابة](system-requirements.md) و[إرشادات الإعداد والنشر](../../dev-itpro/deployment/setup-deploy-on-premises-environments.md) لتكوين فهم ثابت للبنية الأساسية.

> [!NOTE]
> يُرجى إيلاء اهتمام بالغ بأفضل الممارسات لإعداد النظام للحصول على الأداء الأمثل.

بعد الانتهاء من مراجعة الوثائق، يمكنك بدء عملية تقييم حجم الحركات والمستخدمين المتزامنين وضبط حجم بيئتك استنادًا إلى معدل الإنتاجية‬ الأساسية.

## <a name="factors-that-affect-sizing"></a>العوامل التي تؤثر على ضبط الحجم

تساهم كافة العوامل التي تظهر في الرسم التوضيحي التالي في ضبط الحجم. بقدر ما كانت المعلومات التي يتم جمعها مفصلة، زادت دقة تحديد ضبط الحجم. ستكون عملية ضبط حجم الأجهزة، بدون بيانات داعمة، غير دقيقة على الأرجح. الحد الأدنى المطلق لمتطلبات البيانات الضرورية هو بنود حمل الحركة الأقصى بالساعة.

[![ضبط حجم الأجهزة للبيئات المحلية](./media/lbd-sizing-01.png)](./media/lbd-sizing-01.png)

العنصر الأول والأكثر أهمية المطلوب لتقييم ضبط الحجم بدقة هو ملف تعريف الحركة أو وصف الحركة، ويمكن عرضه من اليسار إلى اليمين. من الضروري العثور دائمًا على حجم الحركات الأقصى في الساعة. إذا كان هناك عدة فترات ذروة، يجب عندئذٍ تحديد هذه الفترات بدقة.

بما أنك تفهم حمل العمل الذي يؤثر على بنيتك الأساسية، تحتاج أيضًا إلى فهم المزيد من التفاصيل حول العوامل التالية:

- **الحركات** – تتضمن الحركات عادة ذروات معينة خلال اليوم/الأسبوع. وهذا يتوقف بشكل أساسي على نوع الحركة. تُظهر إدخالات الوقت والمصروفات عادة الذروات مرة واحدة في الأسبوع، بينما تأتي إدخالات أوامر المبيعات في أغلب الأحيان بشكل مجمع عبر التكامل أو تنتقل ببطء خلال اليوم.
- **عدد المستخدمين المتزامنين** - عدد المستخدمين المتزامنين هو عامل ضبط الحجم الثاني الأكثر أهمية. لا يمكنك الحصول على تقديرات ضبط الحجم بطريقة موثوقة استنادًا إلى عدد المستخدمين المتزامنين، وبالتالي إذا كانت هذه البيانات الوحيدة المتوفرة لك، فعليك تقدير رقم تقريبي، ثم معاودة زيارة هذا عندما يصبح لديك المزيد من البيانات. يعني تعريف المستخدم المتزامن بطريقة متزامنة أن:

    - المستخدمين الذين لديهم اسماء ليسوا من المستخدمين المتزامنين.
    - المستخدمين المتزامنين هم دائمًا مجموعة فرعية من المستخدمين الذين لديهم أسماء. 
    - يحدد أقصى حمل عمل الحد الأقصى للتزامن لضبط الحجم.

    تعني المعايير الخاصة بالمستخدمين المتزامنين أن المستخدم يفي بكل المعايير التالية:

    - سجل دخوله.
    - عمل الحركات/الاستعلامات في وقت الجرد.
    - ليست جلسة عمل خاملة.

- **تكوين البيانات** – يتعلق هذا الخيار بشكل خاص بكيفية إعداد النظام وتكوينه. على سبيل المثال، عدد الكيانات القانونية التي ستكون لديك، وعدد الأصناف، وعدد مستويات قائمة مكونات الصنف ومدى تعقيد إعداد الأمان لديك. قد يؤثر كل واحد من هذه العوامل بشكل بسيط على الأداء، وبالتالي يمكن تعويض هذه العوامل باستخدام الخيارات الذكية عندما يتعلق الأمر بالبنية الأساسية.
- **الملحقات** - بإمكان التخصيصات أن تكون بسيطة أو معقدة. يؤثر عدد التخصيصات وطبيعة التعقيدات والاستخدام بشكل مختلف على حجم البنية الأساسية المطلوبة. بالنسبة إلى التخصيصات المعقدة، من المستحسن إجراء تقييمات للأداء للتأكد من أنها لم تخضع للاختبار للتأكد من كفاءتها فحسب بل أيضًا للمساعدة في فهم احتياجات البنية الأساسية. يكون هذا الأمر أكثر أهمية عندما لا يتم ترميز الملحقات وفقًا لأفضل الممارسات من حيث الأداء وإمكانية التوسع.
- **إعداد التقارير والتحليلات** - تتضمن هذه العوامل عادةً تشغيل استعلامات كبيرة في مقابل مختلف قواعد البيانات في النظام. سوف يساعدك فهم وخفض تكرار تشغيل التقارير المكلفة في فهم تأثيرها.
- **حلول من جهات أخرى** - هذه الحلول، مثل ISVs، لها النتائج والتوصيات نفسها كما للملحقات.

## <a name="sizing-your-environment"></a>تغيير حجم بيئتك

لفهم متطلبات ضبط الحجم، يجب عليك معرفة الحجم أقصى للحركات التي تحتاج إلى معالجتها. تعتبر معظم الأنظمة مساعدة، مثل أداة تقارير الإدارة‬ أو SSRS، ذات مستوى أقل من المهام الحرجة. ونتيجة لذلك، يركز هذا المستند في أغلب الأحيان على AOS وSQL Server.

> [!NOTE]
> بشكل عام، تتوسع مستويات الحوسبة ويجب إعدادها بطراز N + 1 المناسب، مما يعني أنك إذا كنت تعمل على تقدير ثلاثة AOS، فعليك إضافة AOS رابع. يجب إعداد مستوى قاعدة البيانات باختيار الإعداد "Always On العالي التوافر".

## <a name="sql-server-oltp"></a>SQL Server (OLTP)

### <a name="sizing"></a>ضبط الحجم

- بنود الحركة من 3K إلى 15K في الساعة لكل مركز في خادم قاعدة البيانات.
- نسبة مركز AOS-to-SQL الأساسية 3:1 لـ SQL Server الرئيسي. الحاجة إلى مراكز إضافية استنادًا إلى تكوين التوافر العالي الذي تم اختياره.

    - قد تنقص معالجة عمليات قاعدة البيانات هذه النسبة إلى 2:1.

- تؤثر العوامل التالية على الاختلافات:

    - إعدادات المحددات قيد الاستخدام.
    - مستويات الملحقات.
    - استخدام وظائف إضافية، مثل سجل وتنبيهات قاعدة البيانات. ستؤدي عمليات تسجيل الدخول القصوى إلى قاعدة البيانات إلى تقليل الإنتاجية في الساعة لكل مركز إلى أقل من بنود 3K.
    - تعقيدات تركيب البيانات - دليل حسابات بسيط في مقابل دليل حسابات ذي تفاصيل دقيقة لديه نتائج على الإنتاجية (كمثال).
    - وصف الحركة.
    - ذاكرة سعتها من 2 غيغابايت إلى 16 جيجابايت لكل مركز.
    - قواعد بيانات مساعدة على خادم قاعدة البيانات مثل قواعد بيانات أداة تقارير الإدارة وSSRS.
    - قاعدة البيانات المؤقتة = 15% من حجم قاعدة البيانات، مع عدد من الملفات بقدر عدد المعالجات المادية.
    - حجم شبكة SAN وسرعة نقل البيانات استنادًا إلى الحجم الإجمالي/استخدام الحركات المتزامنة.

### <a name="high-availability"></a>التوافر العالي

نوصي دائمًا باستخدام SQL Server في نظام مجموعة أو إعداد نسخ مطابق. يجب أن تتضمن عقدة SQL الثانية عدد المراكز نفسه كما في العقدة الأساسية.

### <a name="active-directory-federation-services-ad-fs"></a>خدمات الأمان المشترك لـ Active Directory (AD FS)

بالنسبة إلى ضبط حجم AD FS، راجع [وثائق القدرة الإنتاجية لخادم AD FS](/windows-server/identity/ad-fs/design/planning-for-ad-fs-server-capacity).

يتوفر [جدول بيانات ضبط الحجم](https://adfsdocs.blob.core.windows.net/adfs/ADFSCapacity2016.xlsx) لتخطيط عدد المثيلات في عملية النشر.

## <a name="aos-online-and-batch"></a>AOS (عبر الإنترنت ودُفعة)

### <a name="sizing"></a>ضبط الحجم

- ضبط الحجم حسب حجم/استخدام الحركة

    - بنود 2K إلى 6K لكل مركز
    - 16 غيغابايت لكل مثيل
    - صندوق قياسي- من 4 مراكز إلى 24 مركزًا
    - من 10 إلى 15 مستخدم Enterprise لكل مركز
    - من 15 إلى 25 مستخدم Activity لكل مركز
    - من 25 إلى 50 مستخدم Team لكل مركز

- الدُفعة

    - من 1 إلى 4 سلاسل مجموعة لكل مركز
    - الحجم استنادًا إلى وصف نافذة الدُفعة

- لاحظ أن AOS وإدارة البيانات والدُفعة موجودة على نفس دور في Service Fabric. إنك تحتاج إلى ضبط حجم أحمال العمل الثلاثة هذه مجتمعة، وليس فصلها كما في Microsoft Dynamics AX 2012.
- تنطبق هنا عوامل الاختلاف نفسها لـ SQL Server.

### <a name="high-availability"></a>التوافر العالي

- تأكد من توفر 1 إلى 2 خادم AOS أكثر مما قدّرته على الأقل.
- تأكد من توفر 3 إلى 4 من الأجهزة المضيفة على الأقل.

## <a name="management-reporter"></a>أداة تقارير الإدارة

في معظم الحالات، من المفترض أن يعمل الحد الأدنى من المتطلبات الموصى بها باستخدام عقدتين بشكل جيد. سوف تحتاج إلى أكثر من عقدتين فقط في الحالات حيث يكون الاستخدام كثيفًا. يُرجى التوسع حسب الحاجة.

## <a name="sql-server-reporting-services"></a>خدمات تقارير SQL Server

بالنسبة إلى إصدار التوفر العام، يمكن نشر عقده SSRS واحدة فقط. راقب عقده SSRS أثناء الاختبار، واعمل على زيادة عدد المراكز المتاحة لـ SSRS بحسب الاحتياجات. تأكد من أن لديك عقدة ثانوية تم تكوينها مسبقًا متوفرة على مضيف ظاهري يختلف عن SSRS VM. يعتبر هذا مهمًا إذا كان هناك مشكلة في الجهاز الظاهري الذي يستضيف SSRS أو المضيف الظاهري. إذا كان الأمر كذلك، فقد يلزم استبدالها.

## <a name="environment-orchestrator"></a>منسق البيئة

إن خدمة المنسق هي الخدمة التي تعمل على إدارة عملية النشر والاتصالات ذات الصلة بـ LCS. يتم نشر الخدمة كخدمة Service Fabric الأساسية وتتطلب ثلاثة أجهزة ظاهرية على الأقل. تقع هذه الخدمة في موقع مشترك مع خدمات تنسيق Service Fabric. ويجب أن يتم ضبط حجم ذلك لحمل العمل الأقصى في نظام المجموعة. لمزيد من المعلومات، راجع [تخطيط وإعداد نشر مجموعة Service Fabric مستقلة](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-standalone-deployment-preparation).

## <a name="virtualization-and-oversubscription"></a>المحاكاة الافتراضية والاشتراك الزائد

يجب أن تتم استضافة الخدمات ذات المهام الحرجة مثل AOS على الأجهزة الظاهرية المضيفة التي تم تخصيص موارد لها - المراكز والذاكرة والقرص.


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]