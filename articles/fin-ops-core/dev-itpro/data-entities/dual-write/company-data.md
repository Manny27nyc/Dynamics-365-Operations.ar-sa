---
title: مفهوم الشركة في Dataverse
description: يوضح هذا الموضوع تكامل بيانات الشركة بين Finance and Operations وDataverse.
author: RamaKrishnamoorthy
ms.date: 08/04/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2019-07-15
ms.openlocfilehash: 46e5edb61da7539b51c2678c69238c9df9c85043dfc71903e1633843a3071d4d
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/05/2021
ms.locfileid: "6748366"
---
# <a name="company-concept-in-dataverse"></a>مفهوم الشركة في Dataverse

[!include [banner](../../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]


في Finance and Operations، مفهوم *الشركة* عبارة عن مفهوم قانوني ومفهوم خاص بالأعمال. وهو أيضًا عبارة عن حدود أمان ورؤية للبيانات. يعمل المستخدمون دائمًا في سياق شركة واحدة، وتتم تجزئة معظم البيانات حسب الشركة.

لا يوجد مفهوم مكافئ في Dataverse. المفهوم الأقرب هو *وحدة الأعمال*، وهي عبارة عن حدود أمان ورؤية في المقام الأول لبيانات المستخدم. هذا المفهوم ليس لديه الآثار القانونية أو التجارية نفسها كمفهوم الشركة.

نظرًا لعدم اعتبار وحدة الأعمال والشركة كمفهومين متساويين، فمن غير الممكن فرض تعيين واحد إلى واحد (1:1) بينهما لغرض تكامل Dataverse. ومع ذلك، ولأنه يجب على المستخدمين، بشكل افتراضي، أن يكونوا قادرين على رؤية الصفوف نفسها في التطبيق وDataverse، قدمت Microsoft جدولاً جديدًا في Dataverse مسمى cdm\_Company. هذا الجدول يعتبر مكافئًا لجدول الشركة في التطبيق. للمساعدة على ضمان أن تكون رؤية الصفوف مكافئة بين التطبيق وDataverse، ننصح بالإعداد التالي للبيانات في Dataverse:

+ لكل صف شركة Finance and Operations تم تمكينه للكتابة المزدوجة، يتم إنشاء صف شركة cdm\_.
+ عند إنشاء صف cdm\_Company وتمكينه للكتابة المزدوجة، يتم إنشاء وحدة أعمال افتراضية تحمل الاسم نفسه. على الرغم من إنشاء فريق افتراضي لوحدة الأعمال هذه بشكل تلقائي، لا يتم استخدام وحدة الأعمال.
+ يتم إنشاء فريق مالك منفصل له نفس الاسم. ويقترن أيضًا بوحدة الأعمال.
+ وبشكل افتراضي، فإن مالك أي صف يتم إنشاؤه في وكتابته بشكل مزدوج إلى Dataverse يتم تعيينه إلى فريق "مالك DW" المرتبط بوحدة الأعمال المقترنة.

يبين الرسم التوضيحي التالي مثالاً عن إعداد البيانات هذا في Dataverse.

![إعداد البيانات في Dataverse.](media/dual-write-company-1.png)

بسبب هذا التكوين، فإن أي صف يرتبط بشركة USMF سيكون مملوكًا من قِبل فريق يرتبط بوحدة أعمال USMF في Dataverse. وبالتالي، بإمكان أي مستخدم لديه حق الوصول إلى وحدة الأعمال هذه من خلال دور أمان تم تعيينه إلى الرؤية على مستوى وحدة الأعمال رؤية هذه الصفوف الآن. يوضح المثال التالي كيف يمكن استخدام الفرق لتوفير الوصول الصحيح إلى هذه الصفوف.

+ يتم تعيين دور "مدير المبيعات" لأعضاء فريق "مبيعات USMF".
+ بإمكان المستخدمين الذين يؤدون دور "مدير المبيعات" الوصول إلى أي صفوف هي أعضاء في نفس وحدة الأعمال التي هم أعضاء فيها.
+ يرتبط فريق "مبيعات USMF" بوحدة أعمال USMF التي تم ذكرها في وقت سابق.
+ وبالتالي، يمكن لأعضاء فريق "مبيعات USMF" رؤية أي حساب مملوك من قبل مستخدم "USMF DW"، ومصدره جدول شركة USMF في Finance and Operations.

![كيف يمكن استخدام الفرق.](media/dual-write-company-2.png)

كما يظهر في الرسم التوضيحي السابق، هذا التعيين 1:1 بين وحدة الأعمال والشركة والفريق هو مجرد نقطة بداية. في هذا المثال، يتم إنشاء وحدة أعمال جديدة "أوروبا" في Dataverse كأصل لكل من DEMF وESMF. وحدة الأعمال الجذر الجديدة هذه لا علاقة لها بالكتابة المزدوجة. ومع ذلك، يمكن استخدامها لمنح أعضاء فريق "مبيعات اليورو" حق الوصول إلى بيانات الحساب في كل من DEMF وESMF عن طريق تعيين رؤية البيانات إلى **وحدة الأعمال الأصل/التابعة** في دور الأمان المقترن.

الموضوع الأخير للمناقشة هو كيف تحدد الكتابة المزدوجة الفريق المالك الذي يجب تعيين الصفوف إليه. يتم التحكم في هذا السلوك بواسطة العمول **الفريق المالك الافتراضي** على صف cdm\_Company. عند تمكين صف cdm\_للكتابة المزدوجة، يقوم مكون إضافي بشكل تلقائي بإنشاء وحدة الأعمال المقترنة والفريق المالك (إذا لم يكن موجودًا بعد)، ويعيّن عمود **الفريق المالك الافتراضي**. يمكن للمسؤول تغيير هذا العمود إلى قيمة مختلفة. ومع ذلك، لا يمكن للمسؤول مسح العمود طالما تم تمكين الجدول للكتابة المزدوجة.

> [!div class="mx-imgBorder"]
![عمود الفريق المالك الافتراضي.](media/dual-write-default-owning-team.jpg)

## <a name="company-striping-and-bootstrapping"></a>تجزئة بيانات الشركة والتمهيد

يؤدي تكامل Dataverse إلى إحضار تماثل الشركة باستخدام معرف الشركة لتجزئة البيانات. كما يبين الرسم التوضيحي التالي، يتم توسيع جميع الجداول الخاصة بالشركة بحيث تكون لها علاقة واحد إلى متعدد (N:1) مع جدول cdm\_Company.

> [!div class="mx-imgBorder"]
![علاقة N:1 بين جدول خاص بالشركة وجدول cdm_Company.](media/dual-write-bootstrapping.png)

+ بالنسبة إلى الصفوف، بعد إضافة شركة وحفظها، تصبح القيمة للقراءة فقط. لذلك، يجب على المستخدمين التأكد من تحديد الشركة الصحيحة.
+ وحدها الصفوف التي تحتوي على بيانات الشركة مؤهلة للكتابة المزدوجة بين التطبيق وDataverse.
+ بالنسبة إلى بيانات Dataverse الموجودة، ستكون تجربة التمهيد التي يديرها المسؤول متوفرة قريبًا.


## <a name="autopopulate-company-name-in-customer-engagement-apps"></a>ملء اسم الشركة تلقائيًا في تطبيق مشاركة العملاء

توجد العديد من الطرق لملء اسم الشركة تلقائيًا في تطبيق مشاركة العملاء.

+ إذا كنت مسؤول نظام، يُمكنك تعيين الشركة الافتراضية من خلال الانتقال إلى **الإعدادات المتقدمة > النظام > الأمان > المستخدمين**.  افتح نموذج **المستخدم**، وفي قسم **معلومات المؤسسة** ، قم بتعيين قيمة **الشركة إلى القيمة الافتراضية في النماذج**.

    :::image type="content" source="media/autopopulate-company-name-1.png" alt-text="قم بتعيين الشركة الافتراضية في قسم معلومات المؤسسة.":::

+ إذا كان لديك حق الوصول لـ **الكتابة** إلى جدول **SystemUser** لمستوى **وحدة الأعمال** ، فمن ثم يُمكنك تغيير الشركة الافتراضية في أي نموذج من خلال تحديد شركة من القائمة المنسدلة الخاصة بـ **الشركة**.

    :::image type="content" source="media/autopopulate-company-name-2.png" alt-text="تغيير اسم الشركة في حساب جديد.":::

+ إذا كان لديك حق الوصول لـ **الكتابة** إلى البيانات في أكثر من شركة، فمن ثم يُمكنك تغيير الشركة الافتراضية عن طريق اختيار صف يخص شركة مختلفة.

    :::image type="content" source="media/autopopulate-company-name-3.png" alt-text="يؤدي اختيار أحد الصفوف إلى تغيير الشركة الافتراضية.":::

+ إذا كنت من مكونيّ النظام أو المسؤول، وتريد ملء بيانات الشركة تلقائيًا في نموذج مخصص، فيمكنك استخدام [أحداث النموذج](/powerapps/developer/model-driven-apps/clientapi/events-forms-grids). قم بإضافة مرجع  JavaScript **msdyn_/DefaultCompany.js** واستخدم الأحداث التالية. يُمكنك استخدام أيًا من النماذج الجاهزة، على سبيل المثال، نموذج **الحساب**.

    + حدث **OnLoad** للنموذج: قم بتعيين عمود **defaultCompany**.
    + حدث **OnChange** لعمود **الشركة**: قم بتعيين عمود **updateDefaultCompany**.

## <a name="apply-filtering-based-on-the-company-context"></a>تطبيق التصفية استنادًا إلى سياق الشركة

لتطبيق التصفية استنادًا إلى سياق الشركة في النماذج المخصصة الخاصة بك أو في أعمدة البحث المخصصة المضافة إلى النماذج القياسية، افتح النموذج واستخدم قسم **تصفية السجلات ذات الصلة** لتطبيق عامل تصفية الشركة. يجب تعيين هذا لكل عمود بحث يتطلب تصفية استنادًا إلى الشركة الأساسية في صف مُحدد. يتم عرض الإعداد الخاص بـ **الحساب** في الرسم التوضيحي التالي.

:::image type="content" source="media/apply-company-context.png" alt-text="تطبيق سياق الشركة.":::



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]