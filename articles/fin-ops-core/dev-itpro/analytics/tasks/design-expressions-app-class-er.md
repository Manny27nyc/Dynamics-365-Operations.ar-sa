---
title: تصميم تعبيرات التقارير الإلكترونية لاستدعاء أساليب فئات التطبيقات
description: يصف هذا الموضوع كيفية إعادة استخدام منطق التطبيق الموجود في تكوينات التقارير الإلكترونية عن طريق استدعاء أساليب فئات التطبيقات المطلوبة في تعبيرات التقارير الإلكترونية.
author: NickSelin
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 37cf01ac4b23717ebddaaefe6bcb06be0ff82dc6
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/31/2021
ms.locfileid: "5752498"
---
# <a name="design-er-expressions-to-call-application-class-methods"></a>تصميم تعبيرات التقارير الإلكترونية لاستدعاء أساليب فئات التطبيقات

[!include [banner](../../includes/banner.md)]

يوفر هذا الدليل معلومات حول كيفية إعادة استخدام منطق التطبيق الموجود في تكوينات التقارير الإلكترونية عن طريق استدعاء أساليب فئات التطبيقات المطلوبة في تعبيرات التقارير الإلكترونية. يمكن تعريف قيم الوسيطات لاستدعاء الفئات بشكل حيوي في وقت التشغيل: على سبيل المثال، استنادًا إلى المعلومات في مستند التحليل للتأكد من صحتها. في هذا الدليل، يمكنك إنشاء تكوينات التقارير الإلكترونية المطلوبة للشركة النموذجية، Litware, Inc.. تم إنشاء هذا الإجراء للمستخدمين الذين تم تعيين دور مسؤول النظام أو مطور التقارير الإلكتروني لهم. 

يمكن إتمام هذه الخطوات باستخدام أي مجموعة بيانات. يجب أيضًا تحميل وحفظ الملف التالي محليًا: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.

لإكمال هذه الخطوات، يجب أولاً إكمال الخطوات المذكورة في الإجراء "التقارير الإلكترونية - إنشاء موفر تكوين ووضع علامة عليه على أنه نشط".

1. انتقل إلى إدارة المؤسسة > مساحات العمل‬ > إعداد التقارير الإلكتروني‬.
    * تحقق من وجود موفر التكوين للشركة النموذجية Litware, Inc. ومن وضع علامة عليه كنشط. إذا لم تشاهد موفر التكوين هذا، فيجب أولاً إكمال الخطوات المذكورة في الإجراء "إنشاء موفر تكوين ووضع علامة عليه على أنه نشط‬".   
    * أنت تقوم بتصميم عملية لتحليل كشوف الحسابات البنكية الواردة لتحديث بيانات التطبيق. سوف تتلقى كشوف الحسابات البنكية الواردة كملفات TXT تحتوي على أكواد IBAN. كجزء من عملية استيراد كشف الحساب البنكي، يتعين عليك التحقق من صحة أكواد IBAN هذه باستخدام منطق موجود بالفعل.   

## <a name="import-a-new-er-model-configuration"></a>استيراد تكوين نموذج تقارير إلكترونية جديد
1. في القائمة، قم بالبحث عن السجل المطلوب وحدده.
    * حدد لوحة "موفر Microsoft".  
2. انقر فوق "المستودعات".
3. انقر فوق "إظهار عوامل التصفية".
4. أضف حقل عامل التصفية "اكتب اسمًا". في حقل "الاسم"، أدخل القيمة "موارد" وحدد عامل التصفية "يحتوي"، ثم انقر فوق "تطبيق".
5. انقر فوق "فتح".
6. في الشجرة، حدد "نموذج الدفع".
    * إذا لم يتم تمكين الزر "استيراد" على علامة التبويب السريعة "إصدارات"، فهذا يعني أنك قمت مسبقًا باستيراد الإصدار 1 من تكوين التقارير الإلكترونية "نموذج الدفع". يمكنك تخطي الخطوات المتبقية في هذه المهمة الفرعية.   
7. انقر فوق "استيراد".
8. انقر فوق نعم.
9. قم بإغلاق الصفحة.
10. قم بإغلاق الصفحة.

## <a name="add-a-new-er-format-configuration"></a>إضافة تكوين تنسيق تقارير إلكترونية جديد
1. انقر فوق "تكوينات إعداد التقارير‬".
    * أضف تنسيق تقارير إلكترونية جديدًا لتحليل كشوف الحسابات البنيكية في تنسيق TXT.  
2. في الشجرة، حدد "نموذج الدفع".
3. انقر فوق "إنشاء تكوين" لفتح قائمة مربع الحوار.
4. في الحقل "جديد"، أدخل 'التنسيق استناداً إلى نموذج الدفع الخاص بنموذج البيانات".
5. في حقل "الاسم"، اكتب 'استيراد كشف الحساب البنكي (نموذج)".
    * تنسيق استيراد كشف حساب بنكي (نموذج)  
6. حدد "نعم" في الحقل "دعم استيراد البيانات".
7. وانقر فوق إنشاء تكوين.

## <a name="design-the-er-format-configuration---format"></a>تصميم تكوين تنسيق تقارير إلكترونية - تنسيق
1. انقر فوق المصمم.
    * يمثل التنسيق المصمّم البنية المتوقعة للملف الخارجي بتنسيق TXT.  
2. انقر فوق "إضافة جذر" لفتح قائمة مربع الحوار‬.
3. في الشجرة، حدد "النص\التسلسل".
4. في حقل "الاسم" اكتب "الجذر‬".
    * الجذر  
5. في الحقل "أحرف خاصة‬"، حدد "سطر جديد - Windows (CR LF)".
    * تم تحديد الخيار "سطر جديد - Windows (CR LF)" في الحقل "أحرف خاصة‬". استنادًا إلى هذا الإعداد، يتم اعتبار كل سطر في ملف التحليل سجلاً منفصلاً.  
6. انقر فوق "موافق".
7. انقر فوق "إضافة" لفتح مربع حوار الإسقاط‬.
8. في الشجرة، حدد "النص\التسلسل".
9. في حقل "الاسم"، اكتب "صفوف".
    * صفوف  
10. في حقل "التعدد"، حدد "واحد كثير‬".
    * تم تحديد الخيار "واحد متعدد" في حقل "التعدد". استنادًا إلى هذا الإعداد، من المتوقع أن يتم تقديم سطر واحد على الأقل في ملف التحليل.  
11. انقر فوق "موافق".
12. في الشجرة، حدد "جذر\صفوف".
13. انقر فوق "إضافة تسلسل".
14. في حقل "الاسم" ، اكتب "حقول".
    * الحقول  
15. في حقل "التعدد"، حدد "واحد فقط‬‬".
16. انقر فوق "موافق".
17. في الشجرة ، حدد "جذر\صفوف\حقول".
18. انقر فوق "إضافة" لفتح مربع حوار الإسقاط‬.
19. في الشجرة، حدد "Text\String".
20. في الحقل "الاسم، اكتب "IBAN".
    * IBAN  
21. انقر فوق "موافق".
    * تم تكوينه بحيث يحتوي كل سطر في ملف التحليل على كود IBAN فقط.  
22. انقر فوق "حفظ".

## <a name="design-the-er-format-configuration--mapping-to-data-model"></a>تصميم تكوين تنسيق تقارير إلكترونية – تعيين إلى نموذج بيانات
1. انقر فوق "تعيين تنسيق لنموذج‬".
2. انقر فوق "جديد".
3. في حقل التعريف، اكتب "BankToCustomerDebitCreditNotificationInitiation".
    * BankToCustomerDebitCreditNotificationInitiation  
4. حل تغييرات التعريف.
5. في حقل "الاسم"، اكتب "تعيين إلى نموذج البيانات‬".
    * تعيين إلى نموذج البيانات  
6. انقر فوق "حفظ".
7. انقر فوق المصمم.
8. في الشجرة، حدد 'Dynamics 365 for Operations\فئة'.
9. انقر فوق "إضافة جذر".
    * قم بإضافة مصدر بيانات جديد لاستدعاء منطق التطبيق الموجود للتحقق من صحة أكواد IBAN.  
10. في حقل "الاسم"، اكتب "check_codes".
    * التحقق من الأكواد  
11. في حقل "الفئة"، اكتب "ISO7064".
    * ISO7064  
12. انقر فوق "موافق".
13. في الشجرة، قم بتوسيع "تنسيق".
14. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)".
15. في الشجرة، حدد "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)".
16. انقر فوق "ربط".
17. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)".
18. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)\حقول: تسلسل 1..1 (حقول)".
19. في الشجرة، حدد "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)\حقول: تسلسل 1..1 (حقول)\IBAN: سلسلة(IBAN)".
20. في الشجرة، وسّع "دفعات = format.Root.Rows".
21. في الشجرة، وسّع "دفعات = format.Root.Rows\حساب الدائن(CreditorAccount)".
22. في الشجرة، وسّع "دفعات = format.Root.Rows\حساب الدائن(CreditorAccount)\تعريف".
23. في الشجرة، حدد "دفعات = format.Root.Rows\حساب الدائن(CreditorAccount)\تعريف\IBAN".
24. انقر فوق "ربط".
25. انقر فوق علامة التبويب "عمليات التحقق من الصحة".
26. انقر فوق "جديد".
    * أضف قاعدة تحقق من الصحة جديدة تعرض رسالة خطأ لأي سطر في ملف التحليل يحتوي على كود IBAN غير صالح.  
27. انقر فوق "تحرير الشرط".
28. في الشجرة، وسّع "check_codes".
29. في الشجرة، حدد "check_codes\verifyMOD1271_36".
30. انقر فوق "إضافة مصدر بيانات".
31. في حقل الصيغة، أدخل "check_codes.verifyMOD1271_36(".
    * check_codes.verifyMOD1271_36(  
32. في الشجرة، قم بتوسيع "تنسيق".
33. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)".
34. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)".
35. في الشجرة، وسّع "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)\حقول: تسلسل 1..1 (حقول)".
36. في الشجرة، حدد "تنسيق\جذر: تسلسل(جذر)\صفوف: تسلسل 1..* (صفوف)\حقول: تسلسل 1..1 (حقول)\IBAN: سلسلة(IBAN)".
37. انقر فوق "إضافة مصدر بيانات".
38. في حقل صيغة، أدخل "check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)".
    * check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)  
39. انقر فوق "حفظ".
40. قم بإغلاق الصفحة.
    * تم تكوين شرط التحقق من الصحة لإرجاع FALSE لأي كود IBAN غير صالح عن طريق استدعاء الأسلوب موجود "verifyMOD1271_36" لفئة التطبيق "ISO7064". لاحظ أن قيمة كود IBAN يجري تعريفها بشكل حيوي في وقت التشغيل كوسيطة أسلوب الاستدعاء المستند إلى المحتوى الخاص بملف التحليل بتنسيق TXT.   
41. انقر فوق "تحرير الرسالة".
42. في حقل الصيغة، أدخل "CONCATENATE("تم العثور على كود IBAN غير صالح:  ", format.Root.Rows.Fields.IBAN)".
    * CONCATENATE("تم العثور على كود IBAN غير صالح:  ", format.Root.Rows.Fields.IBAN)  
43. انقر فوق "حفظ".
44. قم بإغلاق الصفحة.
45. انقر فوق "حفظ".
46. قم بإغلاق الصفحة.

## <a name="run-the-format-mapping"></a>تشغيل تعيين التنسيق
لأغراض الاختبار، قم بتنفيذ تعيين التنسيق باستخدام الملف SampleIncomingMessage.txt الذي قمت بتنزيله في وقت سابق. سوف تتضمن المخرجات الناشئة البيانات التي سيتم استيرادها من ملف TXT المحدد وتعبئتها في نموذج البيانات المخصص أثناء الاستيراد الحقيقي.   
1. انقر فوق "تشغيل".
    * انقر فوق "استعراض"، وانتقل إلى الملف SampleIncomingMessage.txt الذي قمت بتنزيله في وقت سابق.  
2. انقر فوق "موافق".
    * راجع المخرجات بتنسيق XML التي تمثل البيانات التي تم استيرادها من الملف المحدد ونقلها إلى نموذج البيانات. لاحظ أنه قد تمت معالجة 3 أسطر فقط من ملف TXT الذي تم استيراده. تم تخطي رمز IBAN غير الصالح على السطر 4 وتم توفير رسالة خطأ في سجل المعلومات.  



[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]