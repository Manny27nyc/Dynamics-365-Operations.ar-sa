---
title: تكوين مصادر بيانات البحث لاستخدام المعلمات الخاصة بتطبيق ER
description: يوضح هذا الموضوع كيفيه تكوين مصادر بيانات البحث في تنسيقات إعداد التقارير الكترونيه (ER) لاستخدام المعلمات الخاصة بتطبيق إعداد التقارير الكترونيه (ER).
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 682910350832e441ed13c716c0c18200a3b7865d
ms.sourcegitcommit: c08a9d19eed1df03f32442ddb65a2adf1473d3b6
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 07/06/2021
ms.locfileid: "6351063"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a>تكوين مصادر بيانات البحث لاستخدام المعلمات الخاصة بتطبيق ER 

[!include[banner](../includes/banner.md)]

تسمح لك ميزة المعلمات الخاصة بتطبيق [إعداد التقارير الإلكترونية (ER)](general-electronic-reporting.md) بتكوين تصفيه البيانات بتنسيق ER بحيث تستند إلى مجموعة من القواعد المجردة. يمكن تكوين هذه المجموعة من القواعد لاستخدام مصدر البيانات لنوع **البحث** المتوفر بتنسيق التقارير الإلكترونية (ER). يمكنك بعد ذلك تحديد قواعد حقيقية تتجاوز مصممي التقارير الإلكترونية ER باستخدام واجهة المستخدم (UI) التي يتم إنشاؤها تلقائيًا استنادًا إلى إعدادات مصدر بيانات **البحث** لتنسيق ER المناظر وبيانات الكيان القانوني الحالي. في نهاية الأمر، سيتم الوصول إلى القواعد المحددة بواسطة مصدر بيانات **البحث** لتنسيقات ER عند تنفيذ تنسيق ER.

> [!NOTE]
> استخدم مصادر البيانات التي تم تكوينها لتنسيق ER القابل للتحرير لتحديد بيانات التطبيق التي سيتم استخدامها لتكوين القواعد الحقيقية.

استخدم [مصمم عمليات ER](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) لإحضار مصدر بيانات لنوع **البحث** إلى تنسيق ER. يجب تكوين مصدر البيانات لوصف كيفية ظهور القواعد المجردة، بما في ذلك ما يلي:

   - مجموعة المعلمات الخاصة بنوع بيانات معين يتم توفير قيمتها لتحديد قاعدة واحدة.
   - نوع القيمة لنوع بيانات معين الذي يتم إرجاعه بواسطة قاعدة واحدة عندما تُعتبر هذه القاعدة الأكثر ملاءمة بين الآخرين.

يمكنك تكوين الأنواع التالية من مصادر بيانات **البحث** بحسب نوع القيمة المرتجعة بواسطة أي قاعدة مكوّنة:

   - استخدم النوع **نموذج بيانات\بحث** عندما يجب إرجاع قيمة تعداد نموذج.
   - استخدم النوع **Dynamics 365 Operations\بحث** عندما يجب إرجاع قيمة تعداد تطبيق أو [نوع بيانات موسع](../extensibility/extensible-edts.md) لتطبيق.
   - استخدم النوع **تعداد التنسيق\بحث** عندما يجب إرجاع قيمة تعداد تنسيق.

يبين الرسم التوضيحي التالي كيف يمكنك تكوين تعداد التنسيق في نموذج تنسيق ER.

   ![إظهار تعداد تنسيق كأساس لمصدر بيانات بحث مكوّن.](./media/er-lookup-data-sources-img1.gif)

يبين الرسم التوضيحي التالي مكونات التنسيق التي تم تكوينها للإبلاغ عن أنواع مختلفة من الضرائب في قسم مختلف من التقرير الذي تم إنشاؤه.

   ![إظهار مقاطع التنسيق للإبلاغ عن أنواع مختلفة من الضرائب بشكل منفصل.](./media/er-lookup-data-sources-img2.png)

يبين الرسم التوضيحي التالي كيف يسمح مصمم عمليات ER بإضافة مصدر بيانات من النوع **تعداد التنسيق\بحث**.  يتم تكوين مصدر البيانات المُضاف كإرجاع قيمة تعداد التنسيق `List of taxation levels`.

   ![إضافة مصدر بيانات ER من النوع تعداد التنسيق\بحث.](./media/er-lookup-data-sources-img3.gif)

يبين الرسم التوضيحي التالي كيفية تكوين مصدر البيانات المضاف لاستخدام حقل **الكود** لقائمة سجلات **Model.Data.Tax** لمصدر بيانات **النموذج** كمعلمة يجب تحديدها لكل قاعدة مكوّنة.

![تكوين معلمات مصدر البيانات المضاف من النوع تعداد التنسيق\بحث.](./media/er-lookup-data-sources-img4.gif)

تم تكوين مصدر البيانات المضاف `Model.Data.Tax` لتحديد كود ضريبة لكل قاعدة مكوّنة من خلال الوصول إلى سجلات جدول التطبيق **TaxTable**.

   ![مراجعة مصدر بيانات البحث في شركة واحدة من النوع تعداد التنسيق\بحث.](./media/er-lookup-data-sources-img5.gif)

يمكنك إعداد قواعد البحث الخاصة بتنسيق ER المحدد باستخدام واجهة المستخدم التي تتلاءم بشكل تلقائي مع بنية مصدر البيانات المكوّن. في الوقت الحالي، تتطلب واجهة المستخدم هذه لكل قاعدة، أن تقوم بتحديد القيمة المرتجعة، كقيمة تعداد التنسيق `List of taxation levels` بالإضافة إلى كود الضريبة كمعلمة.

   ![إعداد القواعد الخاصة بمصدر البيانات المكوّن.](./media/er-lookup-data-sources-img6.gif)

يبين الرسم التوضيحي التالي كيف يمكنك تكوين مصدر البيانات `Model.Data.Summary.LevelByLookup` لنوع **الحقل المحسوب** لاستدعاء مصدر بيانات **البحث** المكوّن الذي يوفر المعلمات التالية. لمعالجة هذا الاستدعاء في وقت التشغيل، ينتقل ER عبر قائمة القواعد المكوّنة في التسلسل المحدد لتحديد موقع القاعدة الأولى التي تلبي الشروط المتوفرة. في هذا المثال، إنها القاعدة التي تحتوي على كود الضريبة التي تتطابق مع القاعدة المتوفرة. ونتيجة لذلك، يتم العثور علي القاعدة الأكثر ملاءمةً ويتم إرجاع قيمة التعداد المكوّنة للقاعدة التي تم العثور عليها بواسطة مصدر البيانات هذا.

> [!NOTE]
> يتم طرح استثناء عند عدم العثور علي قاعدة قابلة للتطبيق. لمنع هذه الاستثناءات، قم بتكوين قواعد إضافية في نهاية قائمة القواعد لمعالجة الحالات عند توفير قيمة غير مكوّنة أو عند عدم توفير أي قيمة. استخدم الخيارين **\*غير فارغ*** و **\*فارغ‏‎*** وفقًا لذلك.  
>
> ![إضافة مصدر بيانات لاستدعاء مصدر بيانات البحث الذي تم تكوينه.](./media/er-lookup-data-sources-img7.png)

عندما تعيّن الخيار **عبر الشركة** إلى **نعم** لمصدر بيانات البحث القابل للتحرير، تضيف معلمة **شركة** جديدة لتعيين معلمات مصدر البيانات هذا. يجب تحديد قيمة معلمة **الشركة** في وقت التشغيل عند استدعاء مصدر بيانات البحث. عند تحديد كود الشركة في وقت التشغيل، يتم استخدام القواعد التي تم تكوينها لهذه الشركة للعثور علي القاعدة الأكثر ملاءمةً، ويتم إرجاع القيمة المقابلة. يبين الرسم التوضيحي التالي كيفية القيام بذلك وكيفية تغيير مجموعة من معلمات مصدر البيانات القابل للتحرير.

   ![مراجعة مصدر بيانات البحث عبر الشركة من النوع تعداد التنسيق\بحث.](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> حدد كل شركة بشكل منفصل لتكوين مجموعة القواعد لمصدر بيانات البحث هذا لتنسيق ER القابل للتحرير. يتم طرح استثناء عند وقت التشغيل عند استدعاء البحث عبر الشركة مع كود الشركة التي لم يتم إكمال إعداد البحث الخاص بها.
>
> تأكد من منح الأذونات للمستخدم الذي يقوم بتشغيل تنسيق ER مع مصدر بيانات **بحث** الشركة للوصول إلى بيانات كل شركة في نطاق مصدر البيانات هذا. خلاف ذلك، يتم طرح استثناء في وقت التشغيل.

اعتبارًا من الإصدار 10.0.19، تتوفر القدرات الموسعة لمصادر بيانات **البحث**. عندما تعين الخيار **موسع** إلى **نعم** لمصدر بيانات البحث القابل للتحرير، يتم تحويل مصدر بيانات البحث المكوّن إلى مصدر البيانات المهيكل الذي يوفر القدرات الإضافية لتحليل مجموعة القواعد المكوّنة. يبين الرسم التوضيحي التالي عملية التحويل هذه.

   ![مراجعة مصدر بيانات البحث المهيكل من النوع تعداد التنسيق\بحث.](./media/er-lookup-data-sources-img9.gif)

- يتم تصميم العنصر الفرعي **البحث** كدالة للعثور على القاعدة الأكثر ملاءمة من مجموعة القواعد القابلة للتكوين استنادًا إلى مجموعة المعلمات المتوفرة
- تم تصميم العنصر الفرعي **IsLookupResultSet** كدالة لقبول القيمة المتوفرة لمصدر بيانات التعداد الأساسي وإرجاع قيمة *منطقية* من **صواب** عندما تحتوي مجموعة القواعد على قاعدة واحدة على الأقل تم تكوين قيمة التعداد المتوفرة لها كقيمة مرتجعة. تقوم هذه الدالة بإرجاع القيمة *المنطقية* من **خطأ** عند عدم وجود قواعد تم تكوينها لإرجاع قيمة التعداد المتوفرة.
- تم تصميم العنصر الفرعي **الإعداد** كدالة ترجع مجموعة القواعد المكوّنة كسجلات قائمة سجلات. يتم تقديم القيم المرتجعة ومجموعة المعلمات الخاصة بالقواعد المكونة في كل سجل مرتجع كحقول لأنواع البيانات ذات الصلة:

    - يتم تقديم القيمة المرتجعة كحقل **نتيجة البحث**.
    - يتم تقديم المعلمات المكوّنة كحقول تحتوي علي أسماء معلمات (حقل **الكود** في هذا المثال).

لمزيد من المعلومات حول كيفية تكوين مصدر بيانات **البحث**، راجع [تكوين تنسيقات ER لاستخدام معلمات محددة للكيان القانوني](er-app-specific-parameters-configure-format.md). لمعرفة كيفيه تعيين قواعد البحث، راجع [إعداد معلمات تنسيق ER للكيان القانوني](er-app-specific-parameters-set-up.md).

## <a name="additional-resources"></a>الموارد الإضافية

[تكوين تنسيقات ER لاستخدام المعلمات المحددة لكل كيان قانوني](er-app-specific-parameters-configure-format.md)

[إعداد معلمات تنسيق التقارير الإلكترونية لكل كيان قانوني](er-app-specific-parameters-set-up.md)
