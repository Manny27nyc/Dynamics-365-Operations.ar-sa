---
title: مصادر البيانات عبر الشركات في التقارير الإلكترونية
description: يشرح لك هذا الموضوع كيفية استخدام مصادر البيانات عبر الشركة في إعداد التقارير الإلكترونية (ER).
author: NickSelin
manager: AnnBe
ms.date: 05/25/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERModelMappingDesigner, ERFormatMappingLegalEntityFilterTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: 1a5c05b65c9022220056947471e95b703d923dc5
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 12/05/2020
ms.locfileid: "4680820"
---
# <a name="cross-company-data-sources-in-electronic-reporting-er"></a>مصادر البيانات عبر الشركات في التقارير الإلكترونية

[!include[banner](../includes/banner.md)]

يمكنك تصميم تنسيقات إعداد التقارير الإلكترونية (ER) لإنشاء مستندات صادرة بتنسيقات متعددة. عندما يتم إنشاء مستند، يستدعي تنسيق إعداد التقارير الإلكترونية مصادر البيانات التيتم تكوينها في تعيين نموذج إعداد التقارير الإلكترونية المقابل. لتكوين الوصول إلى جداول التطبيق لاسترداد السجل، فإنه يمكنك استخدام مصادر بيانات إعداد التقارير الإلكترونية لنوع **سجلات الجداول**. عندما يكون جدول الوصول جدول مشاركة (أي، جدول يتم فيه حفظ البيانات دون مُعرف شركة)، يعمل مصدر البيانات هذا على إرجاع كافة السجلات. عندما يكون الجدول جدول تابع لشركة (أي، جدول يتم فيه حفظ البيانات لكل شركة)، يعمل مصدر البيانات هذا على إرجاع السجلات التي تم حفظها للشركة الحالية (أي، سياق الشركة الذي يعمل خلاله تنسيق إعداد التقارير الإلكترونية) فقط.

يمكن الآن وضع علامة على كل مصدر بيانات لنوع **سجلات الجدول** في تعيين نموذج كأنه مصدر بيانات عبر الشركة. وبالتالي، يمكنك استخدام مصادر البيانات لنوع **سجلات الجدول** للوصول إلى بيانات عبر الشركة في جداول التطبيقات.

إذا قمت بوضع علامة على مصدر بيانات كمصدر عبر الشركة، يحدث السلوك التالي:

- بالنسبة إلى مصدر البيانات الذي يشير إلى أي جدول مشاركة ما عدا CompanyInfo، يعمل مصدر البيانات على إرجاع كافة السجلات التي توجد في الجدول المُشار إليه. 
- بالنسبة إلى مصدر البيانات الذي يشير إلى جدول CompanyInfo، بالرغم من أن CompanyInfo جدول مشاركة، يعمل مصدر البيانات على إرجاع السجلات التي تحتوي على معرف شركة من النطاق المحدد.
- بالنسبة إلى أي جدول تابع لشركة، يعمل مصدر البيانات على إرجاع سجلات الجدول المُشار إليه الذي يحتوي على معرف شركة من النطاق المحدد.

في مربع حوار استعلام النظام، عندما يتم تشغيل الخيار **طلب استعلام** لأي مصدر بيانات يتم تمييزه كمصدر بيانات داخل شركة، فإنه يمكنك تحديد شركة واحدة أو أكثر لتضمين علامة التبويب **نطاق الشركات**.

> [!IMPORTANT]
> مثل عوامل التصفية الأخرى، يستمر عامل تصفية الشركة كقيمة مستخدمة آخر مرة للاستعلامات عندما تقوم بتشغيل تنسيق التقارير الإلكترونية‬. لا يتم تغيير عامل التصفية تلقائيًا إذا قمت بتغيير القيمة عبر الشركة للحصول على مصدر بيانات. لاستخدام قيمة عبر شركة مختلفة للحصول على مصدر بيانات آخر، قم بحذف مجموعة مقابلة خاصة بالمستخدم.

بالنسبة إلى كل مصدر بيانات يتم وضع علامة عليه كمصدر بيانات عبر شركة، فإنه يمكنك تحديد السجلات التي تريدها باستخدام وظيفتي **عامل التصفية** و **أين** في تعبيرات التقارير الإلكترونية. يمكن كذلك استخدام حقل **dataAreaID** كمعرف شركة. حاليًا، يقتصر حقل **dataAreaID** على أنواع الشروط التالية عندما يتم استخدام وظيفة **عامل التصفية**:

- يتم تدعيم الحالات التي تحتوي على مقارنة حقل **dataAreaID** واحدة فقط.
- يتم السماح للمقارنات التي تحتوي على تعبيرات لا تعتمد على عناصر قائمة سجلات فقط.

وبالتالي، يكون التعبير التالي صالحًا.

```ER Expression
FILTER (MyTable, MyTable.dataAreaID = $StringUserInputParameter)
While shown below expressions will not pass the validation:
FILTER (MyTable, MyTable.dataAreaID = MyTable2RecordsList.MyField)
FILTER (MyTable, 
    OR(
        MyTable.dataAreaID = $StringUserInputParameter1,
        MyTable.dataAreaID = $StringUserInputParameter2
    )
)
```

بشكل افتراضي، يتضمن النطاق كل الشركات للتطبيق الحالي. ومع ذلك، يمكنك تقييده. لتقييد نطاق الوصول إلى البيانات عبر شركة لتنسيق تقارير إلكترونية واحد، قم بتعيين تدرج هرمي معين للمؤسسة للتنسيق. عندما يتم تحديد التدرج الهرمي لتنسيق تقارير إلكترونية، فإنه يتم إرجاع سجلات الكيانات القانونية التي يتم تقديمها في التدرج الهرمي المعين فقط، بالرغم من ذلك، يستدعي التنسيق مصادر البيانات عبر الشركة. عندما يتم تحديد مرجع إلى التدرج الهرمي الذي لم يعد موجودًا لتنسيق التقارير الإلكترونية، يتم تطبيق النطاق الافتراضي ويستدعي التنسيق مصادر البيانات عبر الشركة. في هذه الحالة، يتم إرجاع سجلات لكل شركات التطبيق.

لاحظ أنه عندما يتم تشغيل الخيار **استخدام المسودة** للمعين إلى تدرج هرمي لمؤسسة تنسيق التقارير الإلكترونية مفرد، سيتم استخدام الكيانات القانونية من إصدار المسودة لهذا التدرج الهرمي لتحديد النطاق لمصادر البيانات عبر الشركة. إذا كان إصدار المسودة غير موجود، فإنه سيتم استخدام الكيانات القانونية من الإصدار المنشور الأخير لهذا التدرج الهرمي للمؤسسة.

لاحظ أنه عندما يتم إيقاف تشغيل الخيار **استخدام المسودة** للمعين إلى تدرج هرمي لمؤسسة تنسيق التقارير الإلكترونية مفرد، سيتم استخدام الكيانات القانونية من الإصدار المنشور الأخير للتدرج الهرمي للمؤسسة لتحديد النطاق لمصادر البيانات عبر الشركة. لم يتم تدعيم فعالية بيانات التدرجات الهرمية للمؤسسة بعد في إطار عمل التقارير الإلكترونية.

يمكن تعيين التدرج الهرمي إلى تنسيق بصفحة معينة يمكن الوصول إليها من مساحة عمل التقارير الإلكترونية أو باستخدام عنصر قائمة **إدارة المؤسسة \> إعداد التقارير الإلكترونية \> عامل تصفية الكيانات القانونية للتنسيقات**. للوصول إلى الصفحة، فإنه يجب منح امتياز **‏‫الاحتفاظ بعوامل تصفية الكيانات القانونية للتنسيقات‬**  (ERMaintainFormatMappingLegalEntityFilters) إلى مستخدم. يتم استخدام قيد نطاق الكيانات القانونية التي تعتمد على التدرج الهرمي للتنسيق بالإضافة إلى القيد الذي يمكن للمستخدم تحديده في مربع حوار استعلام النظام. يتم استخدام تداخل هذه القيود عندما يكون التنسيق قيد التشغيل.

لمعرفة المزيد عن هذه الميزة، قم بتشغيل دليل المهمة، **وصول التقارير الإلكترونية إلى سجلات الجداول التابعة للشركة في وضع عبر الشركة**، والتي تمثل جزءًا من العملية التجارية ‬‏‫‬‏‫7.5.4.3 اكتساب/تطوير خدمة تكنولوجيا المعلومات/مكونات الحلول (10677)‬، ويمكن تنزيلها من [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=874684). يأخذك دليل المهمة هذا خلال عملية تعيين نموذج التقارير الإلكترونية وتنسيق التقارير الإلكترونية للوصول إلى جداول التطبيق في وضع عبر الشركات.

قم بتنزيل الملفات التالية لإكمال دليل المهمة:

- [‏‫تكوين نموذج تقارير إلكترونية‬ - CrossCompanyDataAccessModel.xml](https://go.microsoft.com/fwlink/?linkid=874111)
- [‏‫تكوين تنسيق تقارير إلكترونية‬‬ - CrossCompanyDataAccessFormat.xml](https://go.microsoft.com/fwlink/?linkid=874111)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]