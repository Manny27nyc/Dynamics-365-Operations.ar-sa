---
title: تتبع تنفيذ تنسيقات التقارير الإلكترونية لاستكشاف مشكلات الأداء وإصلاحها
description: يوفر هذا الموضوع معلومات حول كيفية استخدام ميزة تتبع الأداء في التقارير الإلكترونية (ER) لاستكشاف مشكلات الأداء وإصلاحها.
author: NickSelin
manager: AnnBe
ms.date: 06/12/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: 207783f5a44d5c6432539ac27a8c491bca811da4
ms.sourcegitcommit: 5472005274f2f94fba82dda90de128f39d8b8390
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/02/2020
ms.locfileid: "3760021"
---
# <a name="trace-the-execution-of-er-formats-to-troubleshoot-performance-issues"></a>تتبع تنفيذ تنسيقات التقارير الإلكترونية لاستكشاف مشكلات الأداء وإصلاحها

[!include[banner](../includes/banner.md)]

كجزء من عملية تصميم تكوينات التقارير الإلكترونية (ER) لإنشاء مستندات إلكترونية، يمكنك تحديد الطريقة المستخدمة للحصول على البيانات من التطبيق وإدخالها في الإخراج الذي تم إنشاؤه. تساعد ميزة تتبع أداء التقارير الإلكترونية في تقليل الوقت والتكلفة بشكل كبير في جمع تفاصيل تنفيذ تنسيق التقارير الإلكترونية واستخدامها لاستكشاف مشكلات الأداء وإصلاحها. يوفر هذا البرنامج التعليمي إرشادات حول كيفية أخذ تتبعات الأداء لتنسيقات التقارير الإلكترونية المنفذة، وكيفية استخدام المعلومات من هذه التتبعات للمساعدة في تحسين الأداء.

## <a name="prerequisites"></a>المتطلبات الأساسية

لإكمال الأمثلة في هذا البرنامج التعليمي، يجب أن يكون لديك الوصول التالي:

- الوصول إلى أحد الأدوار التالية:

    - مطور إعداد التقارير الإلكتروني
    - مستشار وظيفي لإعداد التقارير الإلكتروني
    - مسؤول النظام

- يمكنك الوصول إلى مثيل خدمات التكوين التنظيمية (RCS) التي تم توفيرها لنفس المستأجر مثل التطبيق، لأحد الأدوار التالية:

    - مطور إعداد التقارير الإلكتروني
    - مستشار وظيفي لإعداد التقارير الإلكتروني
    - مسؤول النظام

يجب عليك أيضًا تنزيل الملفات التالية وتخزينها محليًا.

| ملف                                  | المحتوى                               |
|---------------------------------------|---------------------------------------|
| إصدار نموذج تتبع الأداء رقم 1     | [تكوين نموذج عينة بيانات التقارير الإلكترونية](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)    |
| إصدار بيانات تعريف تتبع الأداء رقم 1  | [تكوين بيانات تعريف عينة التقارير الإلكترونية](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)      |
| إصدار تعيين تتبع الأداء رقم 1.1 | [تكوين تعيين نموذج عينة التقارير الإلكترونية](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| إصدار تنسيق تتبع الأداء رقم 1.1  | [تكوين تنسيق عينة التقارير الإلكترونية](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)       |

### <a name="configure-er-parameters"></a>تكوين معلمات التقارير الإلكترونية

يتم تخزين كل تتبع أداء تقارير إلكترونية يتم إنشاؤه في التطبيق كمرفق بسجل تسجيل التنفيذ. يُستخدم إطار إدارة المستندات (DM) لإدارة هذه المرفقات. يجب تكوين معلمات التقارير الإلكترونية مسبقًا، لتحديد نوع مستند إدارة المستندات (DM) الذي يجب استخدامه لإرفاق تتبعات الأداء. في مساحة عمل **إعداد التقارير الإلكترونية**، حدد **معلمات ‏‫إعداد التقارير الإلكترونية‬**. ثم في صفحة **معلمات التقارير الإلكترونية**، ضمن علامة التبويب **مرفقات**، في حقل **أخرى**، حدد نوع مستند إدارة المستندات الذي سيتم استخدامه لتتبعات الأداء.

![صفحة معلمات التقارير الإلكترونية](./media/GER-PerfTrace-GER-Parameters-DocumentType.png)

لتوفيره في حقل البحث **أخرى**، يجب تكوين نوع مستند إدارة المستندات بالطريقة التالية في صفحة **أنواع المستندات** (**إدارة المؤسسة\>إدارة المستندات\>أنواع المستندات**):

- **الفئة:** إرفاق ملف
- **المجموعة** : ملف

![صفحة أنواع المستندات](./media/GER-PerfTrace-DM-DocumentType.png)

> [!NOTE]
> يجب أن يكون نوع المستند المحدد متاحًا في كل شركة من المثيل الحالي، لأن مرفقات إدارة المستندات خاصة بالشركة.

### <a name="configure-rcs-parameters"></a>تكوين معلمات خدمات التكوين التنظيمية (RCS)

سيتم استيراد تتبعات أداء التقارير الإلكترونية التي تم إنشاؤها إلى خدمات التكوين التنظيمية (RCS) للتحليل باستخدام مصمم التنسيق الخاص بالتقارير الإلكترونية ومصمم تعيينات التقارير الإلكترونية. نظرًا لأنه يتم تخزين تتبعات أداء التقارير الإلكترونية كمرفقات لسجل تسجيل التنفيذ المرتبط بتنسيق التقارير الإلكترونية، يجب عليك تكوين معلمات خدمات التكوين التنظيمية مسبقًا، لتحديد نوع مستند إدارة المستندات الذي يجب استخدامه لإرفاق تتبعات الأداء. في مثيل خدمات التكوين التنظيمية (RCS) الذي تم توفيره للشركة الخاصة بك، في مساحة عمل **التقارير الإلكترونية**، حدد **معلمات التقارير الإلكترونية**. ثم في صفحة **معلمات التقارير الإلكترونية**، ضمن علامة التبويب **مرفقات**، في حقل **أخرى**، حدد نوع مستند إدارة المستندات الذي سيتم استخدامه لتتبعات الأداء.

![صفحة معلمات التقارير الإلكترونية في خدمات التكوين التنظيمية](./media/GER-PerfTrace-RCS-Parameters-DocumentType.png)

لتوفيره في حقل البحث **أخرى**، يجب تكوين نوع مستند إدارة المستندات بالطريقة التالية في صفحة **أنواع المستندات** (**إدارة المؤسسة\>إدارة المستندات\>أنواع المستندات**):

- **الفئة:** إرفاق ملف
- **المجموعة** : ملف

## <a name="design-an-er-solution"></a>تصميم حل تقارير إلكترونية

افترض انك قمت بالبدء بتصميم حل جديد للتقارير الإلكترونية لإنشاء تقرير جديد يقدم حركات المورد. في الوقت الحالي، يمكنك العثور علي حركات مورد محدد في **حركات الموردين** (انتقل إلى **الحساب المستحق\> الموردين\> جميع الموردين**، وحدد موردًا، ثم في جزء الإجراءات، في علامة التبويب **مود**، في مجموعة **الحركات**، حدد **الحركات**). ومع ذلك، فأنت تريد أن يكون لديك كل حركة بائع في نفس الوقت في مستند إلكتروني واحد بتنسيق XML. سيتألف هذا الحل من العديد من تكوينات التقارير الإلكترونية التي تحتوي على مكونات نموذج البيانات وبيانات التعريف ورسم الخرائط ومكونات التنسيق المطلوبة.

1. سجل الدخول إلى مثيل خدمات التكوين التنظيمية الذي تم توفيره لشركتك.
2. في هذا البرنامج التعليمي، ستقوم بإنشاء وتعديل تكوينات لعينة الشركة **Litware, Inc.**. لذلك، تأكد من إضافة موفر التكوين هذا إلى خدمة التكوين التنظيمية وتحديده نشطًا. للحصول علي الإرشادات، راجع [إنشاء موفري التكوين ووضع علامة عليهم كنشطين](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/tasks/er-configuration-provider-mark-it-active-2016-11).
3. في مساحة عمل **إعداد التقارير الإلكترونية**، حدد الإطار المتجانب **تكوينات إعداد التقارير**.
4. في صفحة **التكوينات**، قم باستيراد تكوينات التقارير الإلكترونية التي قمت بتنزيلها كشرط مسبق في خدمة التكوين التنظيمية، بالترتيب التالي: نموذج البيانات، وبيانات التعريف، وتعيين النموذج، والتنسيق. بالنسبة لكل تكوين، اتبع هذه الخطوات:

    1. في جزء الإجراءات، حدد **تبادل \> تحميل من ملف XML**.
    2. حدد **استعراض** لتحديد الملف المناسب لتكوين التقارير الإلكترونية المطلوب بتنسيق XML.
    3. حدد **موافق**.

    ![صفحة التكوينات في خدمة التكوين التنظيمية](./media/GER-PerfTrace-RCS-ImportedConfigurations.png)

## <a name="run-the-er-solution-to-trace-execution"></a>تشغيل حل التقارير الإلكترونية لتتبع التنفيذ

افترض أنك قمت بالانتهاء من تصميم الإصدار الأول لحل التقارير الإلكترونية. وتريد الآن اختبارها في المثيل الخاص بك وتحليل أداء التنفيذ.

### <a name="import-an-er-configuration-from-rcs-into-finance-and-operations"></a><a id='import-configuration'></a>استيراد تكوين التقارير الإلكترونية من RCS إلى Finance and Operations

1. قم بتسجيل الدخول إلى مثيل التطبيق.
2. بالنسبة لهذا البرنامج التعليمي، ستقوم باستيراد التكوينات من مثيل خدمة التكوين التنظيمية الخاص بك (حيث تقوم بتصميم مكونات التقارير الإلكترونية الخاصة بك) في المثيل (حيث تقوم باختبارها وأخيرًا استخدامها). ولذلك، يجب التأكد من إعداد كافة النتائج الملموسة المطلوبة. لمزيد من المعلومات، راجع إجراء [استيراد تكوينات التقارير الإلكترونية من خدمات التكوين التنظيمية (RCS)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/rcs-download-configurations).
3. اتبع الخطوات التالية لاستيراد التكوينات من خدمات التكوين التنظيمية إلى التطبيق:

    1. في مساحة عمل **التقارير الإلكترونية**، وفي تجانب موفر تكوين **Litware, Inc.**، حدد **المستودعات**.
    2. في صفحة **مستودع التكوين**، حدد المستودع من **خدمات التكوين التنظيمية**، ثم حدد **فتح**.
    3. في علامة التبويب **التكوينات**، حدد تكوين **تنسيق تتبع الأداء**.
    4. في علامة التبويب السريع **الإصدارات**، حدد الإصدار **1.1** من التكوين المحدد، ثم حدد **استيراد**.

    ![صفحة مستودع التكوين](./media/GER-PerfTrace-GER-ImportedConfigurations.png)

يتم تلقائيا استيراد الإصدارات المقابلة من نموذج البيانات وتكوينات تعيين النموذج كمتطلبات مسبقة لتكوين تنسيق التقارير الإلكترونية المستورد.

### <a name="turn-on-the-er-performance-trace"></a>تشغيل تتبع أداء التقارير الإلكترونية

1. انتقل إلى **إدارة المؤسسة \> التقارير الإلكترونية \> التكوينات**.
2. في صفحة **التكوينات**، في جزء الإجراءات، في علامة التبويب **التكوينات**، في مجموعة **الإعدادات المتقدمة**، حدد **معلمات المستخدمين**.
3. في مربع الحوار **معلمات المستخدمين**، في قسم **تتبع التنفيذ**، اتبع الخطوات التالية:

    1. في حقل **تنسيق تتبع التنفيذ**، حدد **تصحيح تنسيق التتبع** للبدء في تجميع تفاصيل تنفيذ تنسيق التقارير الإلكترونية. عند تحديد هذه القيمة، سيقوم تتبع الأداء بجمع معلومات حول الوقت الذي يتم إنفاقه على الإجراءات التالية:

        - تشغيل كل مصدر بيانات في تعيين النموذج الذي تم استدعاؤه للحصول على البيانات
        - معالجة كل عنصر تنسيق لإدخال البيانات في الإخراج الذي يتم إنشاؤه

        يمكنك استخدام حقل **تنسيق تتبع التنفيذ** لتحديد تنسيق تتبع الأداء الذي تم إنشاؤه والذي يتم تخزينه لتنسيق التقارير الإلكترونية وعناصر التعيينات. عن طريق تحديد **تصحيح تنسيق التتبع** باعتبارها القيمة، ستتمكن من تحليل محتوى التتبع في مصمم عمليات التقارير الإلكترونية، ورؤية تنسيق التقارير الإلكترونية أو عناصر التعيين المذكورة في التتبع.

    2. قم بتعيين الخيارات التالية إلى **نعم** لجمع التفاصيل الخاصة بتنفيذ تعيين نموذج التقارير الإلكترونية ومكونات تنسيق التقارير الإلكترونية:

        - **جمع إحصاءات الاستعلام** – عند تشغيل هذا الخيار، سيقوم تتبع الأداء بجمع المعلومات التالية:

            - عدد استدعاءات قواعد البيانات التي تم إجراؤها بواسطة مصادر البيانات
            - عدد الاستدعاءات المتكررة لقاعدة البيانات
            - تفاصيل بيانات SQL التي تم استخدامها لإجراء استدعاءات قاعدة البيانات

        - **تتبع الوصول إلى التخزين المؤقت** – عند تشغيل هذا الخيار، سيقوم تتبع الأداء بجمع معلومات حول استخدام ذاكره التخزين المؤقت لتعيين نموذج التقارير الإلكترونية.
        - **الوصول إلى بيانات التتبع** - عند تشغيل هذا الخيار، سيقوم تتبع الأداء بجمع معلومات حول عدد الاستدعاءات إلى قاعدة البيانات لمصادر البيانات المنفذة الخاصة بنوع قائمة السجلات.
        - **تتبع تعداد القائمة‬** - عند تشغيل هذا الخيار، سيقوم تتبع الأداء بجمع معلومات حول عدد السجلات التي تم طلبها من مصادر البيانات الخاصة بنوع قائمة السجلات.

    > [!NOTE]
    > وتكون المحددات الموجودة في مربع الحوار **معلمات المستخدمين** خاصة بالمستخدم والشركة الحالية.

    ![مربع علامة تبويب معلمات المستخدمين](./media/GER-PerfTrace-GER-UserParameters.png)

### <a name="run-the-er-format"></a><a id='run-format'></a>تشغيل تنسيق التقارير الإلكترونية

1. قم بتحديد شركة **DEMF**.
2. انتقل إلى **إدارة المؤسسة \> التقارير الإلكترونية \> التكوينات**.
3. في صفحة **التكوينات**، في شجرة التكوين، حدد عنصر **تنسيق تتبع الأداء**.
4. في جزء الإجراءات، حدد **تشغيل**.

لاحظ أن الملف الذي تم إنشاؤه يقدم معلومات حول 265 حركة لستة موردين.

## <a name="review-the-execution-trace"></a>مراجعه تتبع التنفيذ

### <a name="export-the-generated-trace-from-the-application"></a><a id='export-trace'></a>تصدير التتبع الذي تم إنشاؤه من التطبيق

يتم فصل تتبعات الأداء من تنسيق التقارير الإلكترونية المصدر ويمكن إجراء تسلسلها إلى ملف مضغوط خارجي.

1. انتقل إلى **إدارة المؤسسة \> التقارير الإلكترونية \> سجلات تصحيح التكوينات**.
2. في صفحة **سجلات تشغيل التقارير الإلكترونية**، في الجزء الأيسر، في حقل **اسم التكوين**، حدد **تنسيق تتبع الأداء** للعثور علي سجلات التسجيل التي تم إنشاؤها بواسطة تنفيذ تكوين **تنسيق تتبع الأداء**.
3. حدد الزر **المرفقات** (رمز مشبك الورق) في الواوية العلوية اليمنى للصفحة، أو اضغط على **Ctrl+Shift+A**.

    ![زر المرفقات في صفحة سجلات تشغيل التقارير الإلكترونية](./media/GER-PerfTrace-GER-DebugLog.png)

4. في الصفحة **المرفقات الخاصة بسجلات تشغيل التقارير الإلكترونية**، في جزء الإجراء، حدد **فتح** للحصول علي تتبع الأداء كملف zip وتخزينه محليًا.

    ![مرفقات لسجلات تشغيل التقارير الإلكترونية](./media/GER-PerfTrace-GER-DebugLog-AttachedTrace.png)

> [!NOTE]
> يحتوي التتبع الذي تم إنشاؤه علي مرجع لتقرير التقارير الإلكترونية المصدر من خلال معرف تقرير بتنسيق **GUID** فقط. ترقيم إصدار التنسيق غير مهم.

لاحظ أن الاقتران بين تتبع الأداء الذي تم إنشاؤه لتنسيق التقارير الإلكترونية الذي تم تنفيذه وتعيين نموذج التقارير الإلكترونية يستند إلى الواصف الجذر الذي تم استخدامه ونموذج البيانات العامة. ترقيم إصدار التنسيق وتعيين النموذج غير مهم. إن تعيين علامة **الإعداد الافتراضي لتعيين النموذج** لتعيين النموذج غير مهم أيضًا.

### <a name="import-the-generated-trace-into-rcs"></a><a id='import-trace'></a>استيراد التتبع الذي تم إنشاؤه في خدمة التكوين التنظيمية

1. في خدمة التكوين التنظيمية، في مساحة عمل **إعداد التقارير الإلكترونية**، حدد الإطار المتجانب **تكوينات إعداد التقارير**.
2. في صفحة **التكوينات**، في شجره التكوين، قم بتوسيع نصر **نموذج تتبع الأداء**، وحدد عنصر **تنسيق تتبع الأداء**.
3. في جزء الإجراءات، حدد **المصمم**.
4. في صفحة **مصمم التنسيق**، في جزء الإجراءات، حدد **تتبع الأداء**.
5. في مربع الحوار **إعدادات نتيجة تتبع الأداء**، حدد **تتبع الأداء المهم**.
6. حدد **استعراض**، ثم حدد ملف zip الذي قمت بتصديره مسبقًا.
7. حدد **موافق**.

    ![مربع الحوار إعدادات نتيجة تتبع الأداء في خدمة التكوين التنظيمية](./media/GER-PerfTrace-RCS-ImportedPerfTrace.png)

### <a name="use-the-performance-trace-for-analysis-in-rcs--format-execution"></a>استخدام تتبع الأداء للتحليل في خمة التكوين التنظمية - تنفيذ التنسيق

1. في خدمات التكوين التنظيمية، في صفحة **مصمم التنسيق**، حدد **توسيع/طي** لتوسيع محتويات كافة عناصر التنسيق.

    لاحظ أنه يتم عرض معلومات إضافية لبعض عناصر التنسيق الحالي:

    - الوقت الفعلي الذي استغرقه إدخال البيانات في الإخراج الذي تم إنشاؤه باستخدام عنصر التنسيق
    - نفس الوقت معبر عنه كنسبه مئوية من إجمالي الوقت المستغرق في تكوين الإخراج بأكمله

    ![صفحة مصمم التنسيق‬ في خدمات التكوين التنظيمية](./media/GER-PerfTrace-RCS-TraceInfoInFormat.png)

2. أغلق صفحة **مصمم التنسيق**.

### <a name="use-the-performance-trace-for-analysis-in-rcs--model-mapping"></a><a id='use-trace'></a>استخدام تتبع الأداء للتحليل في خدمات التكوين التنظمية - تعيين النموذج

1. في خدمات التكوين التنظيمية، في صفحة **التكوينات**، في شجرة التكوين، حدد عنصر **تعيين تتبع الأداء**.
2. في جزء الإجراءات، حدد **المصمم**.
3. حدد **المصمم**.
4. في صفحة **مصمم تعيين النموذج**، في جزء الإجراءات، حدد **تتبع الأداء**.
5. حدد التتبع الذي قمت باستيراده سابقًا.
6. حدد **موافق**.

لاحظ أن المعلومات الجديدة تصبح متوفرة لبعض عناصر مصدر البيانات الخاصة بتعيين الطراز الحالي:

- الوقت الفعلي الذي استغرقه إحضار البيانات باستخدام مصدر البيانات
- نفس الوقت معبر عنه كنسبة مئوية من إجمالي الوقت المستغرق في تشغيل تعيين النموذج بالكامل

لاحظ أنه تقوم التقارير الإلكترونية بإعلامك بأن تعيين النموذج الحالي يكرر طلبات قاعدة البيانات بينما يتم تشغيل مصدر بيانات VendTable/\<Relations/VendTrans.VendTable\_AccountNum data source is run. يحدث هذا التكرار نظرًا لاستدعاء قائمة حركات المورد مرتين لكل سجل مورد تم تكراره:

- يتم إجراء استدعاء واحد لإدخال تفاصيل كل حركة في نموذج البيانات، استنادا إلى الروابط التي تم تكوينها.
- يتم إجراء مكالمة واحده لإدخال العدد المحسوب للحركات لكل مورد في نموذج البيانات.

![رسالة حول طلبات قواعد البيانات المكررة في صفحة مصمم تعيينات النماذج في خدمات التكوين التنظيمية](./media/GER-PerfTrace-RCS-TraceInfoInMapping1.png)

تشير القيمة **\[Q:530\]** إلى أنه تم استدعاء جدول VendTrans بعدد 530 مرة لإرجاع لعرض سحل من هذا الجدول لمصدر بيانات /\<Relations/VendTrans.VendTable\_AccountNum. تشير القيمة **\[530\]** إلى استدعاء مصدر بيانات VendTable/\<Relations/VendTrans.VendTable\_AccountNum بعدد 530 مرة لعرض سجل من مصدر البيانات وإدخال التفاصيل منها في نموذج البيانات.

نوصيك باستخدام التخزين المؤقت لمصدر بيانات VendTable/\<Relations/VendTrans.VendTable\_AccountNum للحد من عدد الاستدعاءات التي تم إجراؤها للحصول على تفاصيل 265 حركة وللمساعدة في تحسين أداء تعيين النموذج.

قد يكون من المفيد أيضًا تقليل عدد المكالمات التي يتم إجراؤها لمصدر بيانات LedgerTransTypeList. يتم استخدام مصدر البيانات هذا لإقران كل قيمة لتعداد **LedgerTransType** بالتسمية الخاصة به. باستخدام مصدر البيانات هذا، يمكنك العثور على تسمية مناسبة وإدخالها في نموذج البيانات لكل حركة مورد. عدد الاستدعاءات الحالي لمصدر البيانات هذا (9,027) مرتفع جدًا لـ 265 حركة.

![صفحة مصمم تعيين النموذج في خدمات التكوين التنظيمية تعرض 9,027 استدعاء لمصدر البيانات](./media/GER-PerfTrace-RCS-TraceInfoInMapping1a.png)

## <a name="improve-the-model-mapping-based-on-information-from-the-execution-trace"></a>تحسين تعيين النموذج استنادًا إلى المعلومات الواردة من تتبع التنفيذ

### <a name="modify-the-logic-of-the-model-mapping"></a>تعديل منطق تعيين النموذج

1. اتبع الخطوات التالية لاستخدام التخزين المؤقت، للمساعدة في منع الاستدعاءات المكررة لقاعدة البيانات:

    1. في خدمات التكوين التنظيمية، في صفحة **مصمم تعيين النموذج**، في جزء **مصادر البيانات**، حدد عنصر **VendTable**.
    2. حدد **ذاكرة التخزين المؤقت**.
    3. قم بتوسيع عنصر **VendTable**، وقم بتوسيع قائمة العلاقات بين الواحد والعديد لمصدر بيانات VendTable (عنصر **\<العلاقات**)، وحدد عنصر **VendTrans.VendTable\_AccountNum**.
    4. حدد **ذاكرة التخزين المؤقت**.

    ![إعداد التخزين المؤقت للمساعدة على منع المكالمات المتكررة](./media/GER-PerfTrace-RCS-ChangeMapping-Cache.png)

2. اتبع هذه الخطوات لإحضار مصدر بيانات LedgerTransTypeList إلى نطاق مصدر بيانات VendTable:

    1. في جزء **انواع مصادر البيانات**، قم بتوسيع عنصر **الوظائف**، وحدد عنصر **الحقل المحسوب**.
    2. في جزء **مصادر البيانات**، حدد عنصر **VendTable**.
    3. حدد **إضافة**.
    4. في حقل **الاسم**، حدد **\$TransType**.
    5. حدد **تحرير المعادلة**.
    6. في حقل **المعادلة**، أدخل **LedgerTransTypeList**.
    7. حدد **حفظ**.
    8. أغلق صفحة **محرر المعادلة**.
    9. انقر فوق **موافق**.

3. اتبع الخطوات التالية للقيام بالتخزين المؤقت في حقل **\$TransType**:

    1. حدد عنصر **LedgerTransTypeList**.
    2. حدد **ذاكرة التخزين المؤقت**.
    3. حدد صنف **VendTable.\$TransType**.
    4. حدد **ذاكرة التخزين المؤقت**.

    ![إعداد التخزين المؤقت لحقل $TransType](./media/GER-PerfTrace-RCS-ChangeMapping-Cache2.png)

4. اتبع الخطوات التالية لتغيير حقل **\$TransTypeRecord** بحيث يبدأ في استخدام حقل **\$TransType** المخزن مؤقتًا:

    1. في جزء **مصادر البيانات**، قم بتوسيع عنصر **VendTable**، وقم بتوسيع عنصر **\<العلاقات**، وقم بتوسيع عنصر **VendTrans.VendTable\_AccountNum**، وحدد عنصر **VendTable. VendTrans.VendTable\_AccountNum.\$TransTypeRecord**.
    2. حدد **تحرير**.
    3. حدد **تحرير المعادلة**.
    4. في حقل **المعادلة**، ابحث عن التعبير التالي:

        FIRSTORNULL (WHERE (LedgerTransTypeList, LedgerTransTypeList.Enum = \@.TransType))

    5. في حقل **المعادلة**، ابحث عن التعبير التالي:

        FIRSTORNULL (WHERE (VendTable.'\$TransType', VendTable.'\$TransType'.Enum = \@.TransType)).

    6. حدد **حفظ**.
    7. أغلق صفحة **محرر المعادلة**.
    8. حدد **موافق**.

5. حدد **حفظ**.
6. أغلق صفحة **مصمم تعيين النموذج**.
7. أغلق صفحة **تعيينات النماذج**.

### <a name="complete-the-modified-version-of-the-er-model-mapping"></a>إكمال الإصدار المعدل من تعيين طراز التقارير الإلكترونية

1. في خدمات التكوين التنظيمية، في صفحة **التكوينات**، في علامة التبويب السريع **الإصدارات**، حدد الإصدار **1.2** في تكوين **تعيين تتبع الأداء**.
2. حدد **تغيير الحالة**.
3. حدد **مكتمل**.

### <a name="import-the-modified-er-model-mapping-configuration-from-rcs-into-the-application"></a>استيراد تكوين تعيين نموذج التقارير الإلكترونية المعدل من خدمات التكوين التنظيمية إلى التطبيق

كرر الخطوات الواردة في [استيراد تكوين التقارير الإلكترونية من RCS إلى Finance and Operations](#import-configuration) سابقًا في هذا الموضوع لاستيراد الإصدار 1.2 من تكوين **تعيين تتبع الأداء**.

## <a name="run-the-modified-er-solution-to-trace-execution"></a>تشغيل حل التقارير الإلكترونية المعدل لتتبع التنفيذ

### <a name="run-the-er-format"></a>تشغيل تنسيق التقارير الإلكترونية

كرر الخطوات الموجودة في قسم [تشغيل تنسيق التقارير الإلكترونية](#run-format) من قبل في هذا الموضوع لإنشاء تتبع أداء جديد.

## <a name="work-with-the-execution-trace"></a>العمل مع تتبع التنفيذ

### <a name="export-the-generated-trace-from-the-application"></a>تصدير التتبع الذي تم إنشاؤه من التطبيق

كرر الخطوات الموجودة في قسم [تصدير التتبع الذي تم إنشاؤه من التطبيق](#export-trace) من قبل في هذا الموضوع لحفظ تتبع أداء جديد محليًا.

### <a name="import-the-generated-trace-into-rcs"></a>استيراد التتبع الذي تم إنشاؤه في خدمة التكوين التنظيمية

كرر الخطوات الموجودة في قسم [استيراد التتبع الذي تم إنشاؤه في خدمة التكوين التنظيمية‬](#import-trace) من قبل هذا الموضوع لاستيراد عملية تتبع الأداء الجديدة إلى خدمات التكوين التنظيمية.

### <a name="use-the-performance-trace-for-analysis-in-rcs--model-mapping"></a>استخدام تتبع الأداء للتحليل في خدمات التكوين التنظمية - تعيين النموذج

كرر الخطوات الموجودة في قسم [استخدام تتبع الأداء للتحليل في خدمات التكوين التنظمية - تعيين النموذج](#use-trace) من قبل في هذا الموضوع لتحليل آخر تتبع للأداء.

لاحظ أن التسويات التي أجريتها على تعيين النموذج قد تقوم بإزالة الاستعلامات المكررة لقاعدة البيانات. يتم أيضًا تقليل عدد الاستدعاءات إلى جداول قاعدة البيانات ومصادر البيانات لتعيين هذا النموذج. وبالتالي، تم تحسين أداء حل التقارير الإلكترونية بالكامل.

![تتبع معلومات مصدر بيانات VendTable في صفحة مصمم تعيين النموذج في خدمات التكوين التنظيمية](./media/GER-PerfTrace-RCS-TraceInfoInMapping2.png)

في معلومات التتبع، تشير القيمة **\[12\]** الخاصة بمصدر بيانات VendTable إلى أن مصدر البيانات هذا تم استدعاؤه 12 مرة. تشير القيمة**\[Q:6\]** إلى أنه تمت ترجمة ست استدعاءات إلى استدعاءات قاعدة البيانات لجدول VendTable. تشير القيمة **\[C:6\]** إلى أنه تم تخزين السجلات التي تم إحضارها من قاعده البيانات مؤقتًا، وتمت معالجة ست استدعاءات أخرى باستخدام ذاكرة التخزين المؤقت.

لاحظ أنه تم تقليل عدد الاستدعاءات إلى مصدر بيانات LedgerTransTypeList من 9,027 إلى 240.

![تتبع معلومات مصدر بيانات LedgerTransTypeList في صفحة مصمم تعيين النموذج في خدمات التكوين التنظيمية](./media/GER-PerfTrace-RCS-TraceInfoInMapping2a.png)

## <a name="review-the-execution-trace-in-the-application"></a>مراجعة تتبع التنفيذ في التطبيق

بالإضافة إلى خدمات التكوين التنظمية، قد توفر بعض الإصدارات إمكانات لتجربة مصمم إطار التقارير الإلكترونية. تشتمل هذه الإصدارات على خيار **تمكين وضع التصميم** الذي يمكن تشغيله. يمكنك العثور على هذا الخيار في علامة التبويب **عام** في صفحة **معلمات التقارير الإلكترونية**، التي يمكنك فتحها من مساحة عمل **التقارير الإلكترونية**.

![صفحة تمكين خيار وضع التصميم على معلمات التقارير الإلكترونية](./media/GER-PerfTrace-GER-Parameters-DesignMode.png)

في حاله استخدام أحد هذه الإصدارات من Finance and Operations، يمكنك تحليل تفاصيل تتبعات الأداء التي يتم إنشاؤها مباشرة في التطبيق. وليس من الضروري أن تقوم بتصديرها من التطبيق واستيرادها في خدمات التكوين التنظيمية.

## <a name="review-the-execution-trace-by-using-external-tools"></a>مراجعة تتبع التنفيذ باستخدام الأدوات الخارجية

### <a name="configure-user-parameters"></a>تكوين معلمات المستخدمين

1. انتقل إلى **إدارة المؤسسة \> التقارير الإلكترونية \> التكوينات**.
2. في صفحة **التكوينات**، في جزء الإجراءات، في علامة التبويب **التكوينات**، في مجموعة **الإعدادات المتقدمة**، حدد **معلمات المستخدمين**.
3. في مربع الحوار **معلمات المستخدمين**، في قسم **تتبع التنفيذ**، في حقل **تنسيق تتبع التنفيذ**، حدد **PerfView XML**.

### <a name="run-the-er-format"></a>تشغيل تنسيق التقارير الإلكترونية

كرر الخطوات الموجودة في قسم [تشغيل تنسيق التقارير الإلكترونية](#run-format) من قبل في هذا الموضوع لإنشاء تتبع أداء جديد.

لاحظ أن مستعرض الويب يعرض ملفًا من نوع zip للتنزيل. يحتوي هذا الملف على تتبع الأداء بتنسيق PerfView. يمكنك بعد ذلك استخدام أداه تحليل أداء PerfView لتحليل تفاصيل تنفيذ تنسيق التقارير الإلكترونية.

![معلومات تتبع الأداء بتنسيق PerfView](./media/GER-PerfTrace2-PerfViewTrace1.PNG)

## <a name="use-external-tools-to-review-an-execution-trace-that-includes-database-queries"></a>استخدم أدوات خارجية لمراجعة تتبع التنفيذ الذي يتضمن استعلامات قاعدة البيانات

نظرًا للتحسينات التي تم إجراؤها علي إطار عمل التقارير الإلكترونية، يقدم تتبع الأداء الذي تم إنشاؤه بتنسيق PerfView الآن تفاصيل أكثر حول تنفيذ التنسيق التقارير الإلكترونية. في Microsoft Dynamics 365 for Finance and Operations الإصدار 10.0.4 (يوليو 2019)، يمكن أن يتضمن هذا التتبع أيضًا تفاصيل استعلامات SQL التي تم تنفيذها على قاعدة بيانات التطبيق.

### <a name="configure-user-parameters"></a>تكوين معلمات المستخدمين

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. في صفحة **التكوينات**، في جزء الإجراءات، في علامة التبويب **التكوينات**، في مجموعة **الإعدادات المتقدمة**، حدد **معلمات المستخدمين**.
3. في مربع الحوار **معلمات المستخدمين**، في قسم **تتبع التنفيذ**، عيِّن المعلمات التالية:

    - في حقل **تنسيق تتبع التنفيذ**، حدد **PerfView XML**.
    - عيّن الخيار **تجميع إحصائيات الاستعلام** على القيمة **نعم**.
    - عيّن الخيار **استعلام التتبع** على القيمة **نعم**.

    ![قسم تتبع التنفيذ، مربع حوار معلمات المستخدم](./media/GER-PerfTrace2-GER-UserParameters.PNG)

### <a name="run-the-er-format"></a>تشغيل تنسيق التقارير الإلكترونية

كرر الخطوات الموجودة في قسم [تشغيل تنسيق التقارير الإلكترونية](#run-format) من قبل في هذا الموضوع لإنشاء تتبع أداء جديد.

لاحظ أن مستعرض الويب يعرض ملفًا من نوع zip للتنزيل. يحتوي هذا الملف على تتبع الأداء بتنسيق PerfView. يمكنك بعد ذلك استخدام أداه تحليل أداء PerfView لتحليل تفاصيل تنفيذ تنسيق التقارير الإلكترونية. يتضمن هذا التتبع الآن تفاصيل الوصول إلى قاعدة بيانات SQL أثناء تنفيذ تنسيق التقارير الإلكترونية.

![معلومات التتبع لتنسيق التقارير الإلكترونية الذي تم تنفيذه في PerfView](./media/GER-PerfTrace2-PerfViewTrace2.PNG)

## <a name="additional-resources"></a>الموارد الإضافية

- [نظرة عامة حول التقارير الإلكترونية](general-electronic-reporting.md)
- [تحسين أداء حلول التقارير الإلكتروني عن طريق إضافة مصادر بيانات الحقول المحسوبة ذات معلمات](er-calculated-field-ds-performance.md)
