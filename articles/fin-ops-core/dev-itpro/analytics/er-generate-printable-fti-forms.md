---
title: إنشاء نماذج FTI قابلة للطباعة
description: يشرح هذا الموضوع كيفية استخدام إطار عمل التقارير الإلكترونية لإنشاء نماذج قابلة للطباعة لفاتورة النص الحر (FTI) كمستندات Microsoft Office.
author: NickSelin
manager: AnnBe
ms.date: 07/24/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2018-04-01
ms.dyn365.ops.version: Release 8.0
ms.openlocfilehash: 4412fb08c8548c8ebe8455db0547618578e5e5b4
ms.sourcegitcommit: 71ec2f48185b8104ca52ff70df52263ce5f87f26
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/25/2020
ms.locfileid: "3893353"
---
# <a name="generate-printable-fti-forms"></a>إنشاء نماذج فاتورة نص حر (FTI) قابلة للطباعة

[!include[banner](../includes/banner.md)]

يسمح لك إطار عمل التقارير الإلكترونية بإنشاء نماذج قابلة للطباعة لفاتورة النص الحر (FTI) كمستندات Microsoft Office. يوفر هذا الموضوع معلومات حول كيفية إنشاء تكوينات خاصة بك بالإضافة إلى تفاصيل حول قوالب التكوينات المتاحة.

## <a name="overview"></a>نظرة عامة

بالإضافة إلى القدرة الموجودة على إنشاء نماذج FTI قابلة للطباعة باستخدام Microsoft SQL Server Reporting Services (SSRS)، يمكنك الآن استخدام إطار عمل التقارير الإلكترونية. يمكنك إدارة نماذج FTI القابلة للطباعة في Microsoft Office Excel وWord. ويمكنك أيضًا تعديل التخطيط وتدفق البيانات والتنسيق لتلبية متطلبات محددة دون إدخال تغييرات على التعليمات البرمجية.

> [!NOTE]
> إذا أردت البدء مع نظرة عامة على تكوينات التقارير الإلكترونية الموجودة لهذه العينة من حل نماذج FTI القابلة للطباعة، يمكنك الانتقال مباشرة إلى القسم **تنزيل عينة تكوينات التقارير الإلكترونية لإنشاء نماذج FTI قابلة للطباعة** لاحقًا في هذا الموضوع.

## <a name="create-customized-configurations-for-fti-printable-forms"></a>إنشاء تكوينات مخصصة لنماذج FTI القابلة للطباعة
كجزء من الحل المخصص لنماذج FTI القابلة للطباعة، يجب إنشاء مجموعة من تكوينات التقارير الإلكترونية.

### <a name="configure-the-er-data-model"></a>تكوين نموذج بيانات التقارير الإلكترونية
يجب أن يتضمن تطبيقك تكوين نموذج بيانات التقارير الإلكترونية الذي يحتوي على نموذج بيانات يصف مجال عمل فوترة العميل. يجب أن يكون اسم نموذج البيانات **CustomersInvoicing**، وهذا عبارة عن شرط. لمزيد من المعلومات حول كيفية تصميم نماذج بيانات التقارير الإلكترونية، راجع [تصميم نموذج البيانات الخاص بالمجال للتقارير الإلكترونية](tasks/er-design-domain-specific-data-model-2016-11.md).

### <a name="configure-the-er-model-mapping"></a>تعيين نموذج بيانات التقارير الإلكترونية
يجب أن يتضمن تطبيقك تعيين نموذج التقارير الإلكترونية لنموذج البيانات CustomersInvoicing. بإمكان تعيين النموذج أن يكون في تكوين نموذج بيانات التقارير الإلكترونية أو في تكوين تعيين نموذج بيانات التقارير الإلكترونية. ومع ذلك، يجب أن يكون **FreeTextInvoice** اسم واصف الجذر لتعيين النموذج.

يجب أن يحتوي التعيين على مصادر البيانات التالية:

- نوع مصدر البيانات: **سجلات الجدول**

    - يجب أن يحمل مصدر البيانات هذا الاسم **CustInvoiceJour**.
    - يجب أن يشير إلى جدول التطبيق CustInvoiceJour.
    - يُستخدم في وقت التشغيل للمرور من التطبيق إلى نموذج التقارير الإلكترونية مع تعيين قائمة الفواتير التي تم تحديدها للطباعة.

- نوع مصدر البيانات: **كائن**

    - يجب أن يحمل مصدر البيانات هذا الاسم **PrintMgmtPrintSettingDetail‎**.
    - يجب أن يشير إلى فئة التطبيق **PrintMgmtPrintSettingDetail**.
    - ‏‫يُستخدم في وقت التشغيل للمرور من التطبيق إلى نموذج التقارير الإلكترونية مع تعيين تفاصيل إعدادات إدارة الطباعة لتنسيق التقارير الإلكترونية قيد التشغيل.

يمكن العثور على تفاصيل حول تكامل التطبيق مع إطار عمل التقارير الإلكترونية في الفئة **ERPrintMgmtReportFormatSubscriber** (مجموعة تطبيقات التقارير الإلكترونية) في التعليمات البرمجية المصدر للتطبيق.

للحصول على مزيد من المعلومات حول تعيينات نموذج التقارير الإلكترونية، راجع [تحديد تعيينات نماذج التقارير الإلكترونية وتحديد مصادر البيانات لها](tasks/er-define-model-mapping-select-data-sources-2016-11.md).

### <a name="configure-the-er-format"></a>تكوين تنسيق التقارير الإلكترونية
في مثيل تطبيقك، يجب أن يتوفر لديك تنسيق التقارير الإلكترونية الذي سيتم استخدامه لإنشاء نماذج FTI. 

> [!NOTE]
> يجب إنشاء تكوين التنسيق هذا لنموذج البيانات CustomersInvoicing، ويجب أن يستخدم تعيين النموذج مع واصف الجذر **FreeTextInvoice**.

لمزيد من المعلومات حول كيفية تكوين تنسيقات التقارير الإلكترونية، راجع [إنشاء تكوين تنسيق للتقارير الإلكترونية‬ (نوفمبر 2016)](tasks/er-format-configuration-2016-11.md). لمزيد من المعلومات حول كيفية تصميم تنسيقات التقارير الإلكترونية لإنشاء تقارير بتنسيق OpenXML، راجع [تصميم تكوين لإنشاء التقارير بتنسيق OPENXML للتقارير الإلكترونية​‬ (نوفمبر 2016)](tasks/er-design-reports-openxml-2016-11.md).

## <a name="configure-print-management"></a>تكوين إدارة الطباعة
لإنشاء نماذج FTI باستخدام إطار عمل التقارير الإلكترونية، يمكنك تعيين تنسيقات التقارير الإلكترونية بالطريقة نفسها التي تعيّن بها تقارير SSRS. لإقران تنسيق التقارير الإلكترونية بكافة فواتير النص الحر (FTI) للحسابات المدينة، انتقل إلى **الحسابات المدينة** \> **إعداد** \> **نماذج** \> **إعداد النموذج** \> **عام** \> **إدارة الطباعة** \> **فاتورة نص حر** \> **أصلي**. لإقران تنسيق التقارير الإلكترونية بعميل معين أو فاتورة معينة، اتبع هذه الخطوات.

1. انتقل إلى **الحسابات المدين** \> **الفواتير** \> **جميع الفواتير بنص حر‬**.
2. حدد فاتورة النص الحر (FTI) لإقران تنسيق التقارير الإلكترونية بها، وافتح صفحة **إعداد إدارة الطباعة**.
3. حدد مستوى المستند لتحديد نطاق الفواتير المطلوب معالجتها.
4. حدد تنسيق التقارير الإلكترونية لمستوى المستند المحدد.

![إعداد إدارة الطباعة](media/FTIbyGER-PMSetting.png)

> [!NOTE]
> تنسيقات التقارير الإلكترونية التي تستخدم واصف الجذر **FreeTextInvoice** في نموذج البيانات **CustomersInvoicing** هي وحدها التي تظهر في الحقل **بحث عن تنسيق التقرير** للتنسيق المحدد.

## <a name="generate-fti-forms"></a>إنشاء نماذج FTI
يتم إنشاء نماذج FTI في إطار عمل التقارير الإلكترونية بالطريقة نفسها التي يتم بها إنشاء تقارير SSRS.

لإنشاء نماذج FTI، يمكنك تحديد الفواتير إما بحسب النطاق أو بحسب التحديد. 

![تحديد الفواتير](media/FTIbyGER-InvoiceSelection.png)

![معاينة الفواتير](media/FTIbyGER-InvoiceExcelPreview.png)

عندما تستخدم تنسيقات التقارير الإلكترونية لطباعة نماذج FTI بهذه الطريقة، يتم استخدام الوجهات الافتراضية لملفات التقارير الإلكترونية. لا الافتراضي تغيير الوجهة. لمزيد من المعلومات حول كيفية تكوين وجهات التقارير الإلكترونية لتنسيقات التقارير الإلكترونية، راجع [وجهات التقارير الإلكترونية (ER)‬](electronic-reporting-destinations.md).

يمكنك أيضا إنشاء نماذج FTI عندما تقوم بترحيل فاتورة FTI عن طريق تشغيل **طباعة فاتورة** وإيقاف تشغيل **استخدام وجهات إدارة الطباعة**.

> [!NOTE]
> عندما تستخدم تنسيقات التقارير الإلكترونية لطباعة نماذج FTI بهذه الطريقة، يتم استخدام الوجهات الافتراضية لملفات التقارير الإلكترونية. يمكنك تغيير الوجهة الافتراضية في وقت التشغيل إذا كان تكوين الوجهة قد تم في وقت سابق. لتغيير الوجهة، يجب أن يكون لديك امتياز الأمان التالي:
>
> - **الاسم:** ERFormatDestinationRuntimeMaintain
> - **التسمية:** الاحتفاظ بوجهة ‏‫تنسيق إعداد التقارير الإلكترونية‬ أثناء وقت التشغيل

![وجهة التقارير الإلكترونية‬](media/FTIbyGER-ERFileDestinationSetting.png)

![وجهة ‏‫تنسيق التقارير الإلكترونية](media/FTIbyGER-ERFileDestinationUsage.png)

يدعم إطار عمل التقارير الإلكترونية في الوقت الحالي الوجهات التالية للمستندات التي تم إنشاؤها:

- **الملف الذي تم تنزيله** – يتم تقديم النماذج المُنشأة كتنزيلات يمكنك حفظها باستخدام المستعرض.
- **الشاشة** – يُستخدم Microsoft 365 Excel لمعاينة نماذج FTI التي تم إنشاؤها بتنسيق Excel.
- **مجلد SharePoint** – يتم تخزين النماذج المُنشأة استنادًا إلى الإعدادات الخاصة بإطار عمل إدارة المستندات.
- **أرشيف التطبيق** – يتم تخزين النماذج المُنشأة كمرفقات لسجلات التنفيذ في Microsoft Azure Storage.
- **البريد الإلكتروني** – يتم إرسال النماذج المُنشأة كمرفقات بريد إلكتروني.

> [!NOTE]
> لا يمكنك إرسال نماذج FTI المُنشأة مباشرة إلى الطابعة، لأن الطباعة المباشرة التي تستخدم وكيل توجيه الطباعة في Dynamics غير مدعومة حاليًا.

## <a name="download-sample-er-configurations-to-generate-printable-fti-forms"></a>تنزيل عينات تكوينات التقارير الإلكترونية لإنشاء نماذج FTI قابلة للطباعة
يمكنك تنزيل عينات تكوينات التقارير الإلكترونية لاستخدامها كقالب لحل FTI. يتم تخزين التكوينات في مكتبة الأصول المشتركة في Microsoft Dynamics Lifecycle Services (LCS). تتضمن التكوينات:

- يحتوي تكوين **نموذج فوترة العملاء** على نموذج البيانات المطلوبة وتعيين النموذج.
- يحتوي تكوين **تقرير FTI المخصص (GER)** على عينة التنسيق.

> [!NOTE]
> تم إنشاء هذه التكوينات كعينات للمساعدة في توضيح سيناريوهات محتملة. يتوقف مستقبل هذه التكوينات على نتائج هذا التقييم وأي ملاحظات يتم تلقيها.

### <a name="features-that-are-implemented-in-the-sample-er-format"></a>الميزات المطبقة في عينة تنسيق التقارير الإلكترونية
في عينة تكوين تنسيق التقارير الإلكترونية، يتم استخدام ملف Excel كقالب لإنشاء نماذج FTI.

![مصمم التنسيق](media/FTIbyGER-ERFormat.png)

في الوقت الحالي، تدعم عينة تنسيق التقارير الإلكترونية هذه الميزات التالية لإنشاء نماذج FTI:

- يتم إنشاء نماذج FTI لكل من الفواتير الأصلية التي تم ترحيلها والفواتير الأصلية التي لم يتم ترحيلها بعد. لا يتوفر الدعم للفواتير المصححة والإشعارات الدائنة.
- يتم إنشاء نماذج FTI بلغة الفاتورة. يستند تنسيق القيم والتواريخ في النماذج المُنشأة إلى الإعدادات المحلية لعميل المستخدم.
- تُظهر الفواتير المُنشاة إعلامات حول عدم توفر البيانات في حال عدم وجود بنود في الفواتير التي تتم معالجتها.
- تستند رؤوس الفواتير المُنشاة إلى تنسيق الورق الذي تم تحديده لنموذج FTI في صفحة **معلمات الحسابات المدينة‬**. تظهر تفاصيل الشركة في رأس الفاتورة المُنشأة فقط إذا كان تنسيق الورق فارغًا.
- تُظهر نماذج الفواتير المُنشأة أرقام الإعفاء الضريبي‬ للشركة والعميل عند تحديد الخيار المناسب لنموذج FTI في صفحة **معلمات الحسابات المدينة**.
- تُظهر أقسام بنود الفاتورة المُنشأة وإجماليات الفاتورة التفاصيل المالية الافتراضية للفاتورة بعملة تسجيل الفاتورة.
- بإمكان قسم إجماليات الفاتورة المُنشأة إظهار التفاصيل المالية بعملة اليورو وعملة تسجيل الفاتورة عند تمكين الخيار **طباعة المبلغ بعملة تمثل اليورو‬** في صفحة **معلمات الحسابات المدينة‬**.
- تُظهر نماذج الفواتير المُنشأة أي ملاحظات حول معالجة الفاتورة تتوفر استنادًا إلى الإعدادات في صفحة **معلمات الحسابات المدينة**. يتم تضمين الملاحظات للفاتورة بكاملها ولكل بند فيها.
- تتضمن نماذج الفواتير المُنشأة ملاحظات لنموذج FTI للعميل ولغة معالجة الفاتورة عندما يتم تكوينها في قائمة ملاحظات نموذج الحسابات المدينة.
- استنادًا إلى إعدادات إدارة الطباعة، تتضمن الفواتير المُنشاة نص تذييل مخصصًا عند تكوينها للغة الفاتورة وتنسيق التقارير الإلكترونية ونطاق مستند FTI.
- يتضمن قسم الإجماليات في نماذج الفواتير المُنشأة أي معلومات متوفرة عن الخصم النقدي.
- يتضمن قسم جدول الدفع في نماذج الفواتير المُنشاة أي تفاصيل متوفرة حول جدول الدفع.
- يتضمن قسم العلامات في نماذج الفواتير المُنشاة أي حركات مصاريف المتوفرة.
- تتضمن نماذج الفواتير المُنشأة تفاصيل حول ضريبة الدفع، استنادًا إلى إعداد **مواصفات ضريبة المبيعات‬** في صفحة **معلمات الحسابات المدينة‬**. يُظهر هذا القسم تفاصيل حول الضرائب بعملة تسجيل الفاتورة فقط، أو بعملة تسجيل الفاتورة وعملة المحاسبة للشركة في الوقت نفسه.
- تُظهر نماذج الفواتير المُنشأة تفاصيل إخطار الخصم المباشر. على سبيل المثال، تُظهر هذه الوقت متى تم فيه اختيار طريقة الدفع التي تشتمل على معرّف تفويض الخصم المباشر‬ للفاتورة، ومتى تم تسجيل معالجة الفاتورة بعملة اليورو، ومتى تم تعريف معرّف تفويض الخصم المباشر للفاتورة.
- تُظهر الفواتير التي المُنشأة تفاصيل الدفعة المقدمة التي تتوفر للفواتير التي تم ترحيلها.
- يمكن إرسال نماذج الفواتير المُنشأة إلى عميل فاتورة كمرفق بريد إلكتروني. يجب تكوين وجهة ملف التقارير الإلكترونية لمناسب لتنسيق التقارير الإلكترونية قيد الاستخدام.

### <a name="countryregion-specific-features"></a>ميزات خاصة على مستوى البلد/المنطقة 
تم تضمين الميزات التالية الخاصة بالبلد/المنطقة في عينة تنسيق التقارير الإلكترونية‬ لإظهار كيفية التعامل مع المتطلبات الخاصة في تكوينات التقارير الإلكترونية.

#### <a name="norway"></a>النرويج
يوضع مصطلح مسجّل المؤسسة على رأس نموذج الفاتورة المُنشأة عندما تتم معالجة فاتورة لكيان قانوني تم تكوينه على النحو التالي:

- تم استخدام سياق البلد/المنطقة للنرويج.
- المعلمة **Print Foretaksregisteret** نشطة في مستندات المبيعات.

#### <a name="spain"></a>إسبانيا
يوضع المصطلح **نظام خاص لطريقة المحاسبة النقدية‬** مصطلح مسجّل المؤسسة على رأس نموذج الفاتورة المُنشأة عندما تتم معالجة فاتورة لكيان قانوني تم تكوينه على النحو التالي:

- تم استخدام سياق البلد/المنطقة لأسبانيا.
- يتم تمكين النظام الخاص لطريقة المحاسبة النقدية‬ بتاريخ معالجة الفاتورة.

عندما تتوفر تفاصيل الخصم النقدي، مثل مبلغ الخصم النقدي والمبلغ الصافي لبند الفاتورة، يتم تقديمها في قسم إجماليات الفاتورة في نموذج الفاتورة المُنشاة عندما تتم معالجتها لكيان قانوني تم تكوينه بالطريقة التالية:

- تم استخدام سياق البلد/المنطقة لأسبانيا.
- يتم تشغيل **يتم تطبيق الخصم النقدي في الفاتورة‬** على خيار الفاتورة (**محددات دفتر الأستاذ العام‬** \> **قسم ضريبة المبيعات‬**).

#### <a name="italy"></a>إيطاليا
يتم تضمين علامة خصم السلع على بنود الفاتورة المُنشأة عندما تتم معالجتها لكيان قانوني تم تكوينه باستخدام سياق البلد/المنطقة لإيطاليا.

#### <a name="finland"></a>فنلندا
بالإضافة إلى نموذج الفاتورة المُنشأة، يمكن إنشاء قسائم الحوالة النقدية بنظام giro‬ كما يلي:

- للكيان القانوني الذي يستخدم سياق البلد/المنطقة لفنلندا، وله حساب بنكي واحد على الأقل وضعت عليه علامة **حساب Giro** و**الرمز الشريطي للبنك‬**. 
- بالنسبة إلى فاتورة تم وضع علامة عليها على أنها مطلوبة لمرفق الدفع المقترن **الفنلندي**.

![قسيمة Giro](media/FTIbyGER-GiroSlip.PNG)

> [!NOTE]
> تم تكوين عينة تنسيق التقارير الإلكترونية‬ لإنشاء قسائم الحوالات النقدية بنظام giro‬ في ورقة العمل المنفصلة، بشكل اختياري.

> [!NOTE]
> يجب عليك أولاً تثبيت الخط المستخدم لإنشاء الكود الشريطي على الجهاز المحلي حيث يتم عرض نموذج الفاتورة المُنشأة بتنسيق Excel.

### <a name="use-the-sample-er-format-to-configure-email-destinations"></a>استخدام عينة تنسيق التقارير الإلكترونية‬ لتكوين وجهات البريد الإلكتروني
استخدم العناصر التالية لعينة تنسيق التقارير الإلكترونية‬ لتكوين وجهات البريد الإلكتروني:

- يمكن الوصول إلى عنوان البريد الإلكتروني لجهة اتصال العميل من خلال تعبير التقرير الإلكتروني التالي: **model.InvoiceBase.Contact.ElectronicMail**.
- يمكن الوصول إلى نص موضوع البريد الإلكتروني من خلال تعبير التقرير الإلكتروني التالي: **Emailing.TxtToUse.Subject**.
- يمكن الوصول إلى النص الأساسي للبريد الإلكتروني من خلال تعبير التقرير الإلكتروني التالي: **Emailing.TxtToUse.Body**.

![إعدادات الوجهة](media/FTIbyGER-ERFileDestinationSettingEmail.png)

يتم تعريف النص الافتراضي لموضوع البريد الإلكتروني ونصه الأساسي في عينة تنسيق التقارير الإلكترونية. تتوقف اللغة على تسميات التنسيق. سيتم استخدام هذا النص الافتراضي لرسائل البريد الإلكتروني إذا لم تتم إضافة قالب بريد إلكتروني مخصص للمؤسسة الذي يحتوي على معرّف **ERFTITMP** المحدد مسبقًا.

> [!NOTE]
> تم تعريف معرّف قالب البريد الإلكتروني **ERFTITMP** في عينة تنسيق التقارير الإلكترونية‬. ويمكن تغييره كما هو مطلوب إلى تنسيق تقارير إلكترونية جديد يتم إنشاؤه من عينة التنسيق هذه.

إذا تم إضافة قالب البريد الإلكتروني للمؤسسة الذي يحتوي على معّرف **ERFTITMP** المحدد مسبقًا إلى الكيان القانوني الذي تعمل على معالجة الفاتورة له، فسيتم استخدام قالب موضوع البريد الإلكتروني ونصه الأساسي لإنشاء رسالة بريد إلكتروني. 

![قوالب البريد الإلكتروني للمؤسسة](media/FTIbyGER-EmailTemplate.png)

![تحميل قالب البريد الإلكتروني](media/FTIbyGER-EmailTemplateBody.png)

يتم تكوين تعبير التقارير الإلكترونية **Emailing.TxtToUse.Subject** لعينة تنسيق التقارير الإلكترونية‬ لاستبدال أي حدوث للعنصر النائب %1 بواسطة معرّف معالجة الفاتورة.

يتم تكوين تعبير **Emailing.TxtToUse.Body** لعينة التنسيق للاستبدالات التالية للعناصر النائبة:

- يتم استبدال "%1" باسم جهة اتصال العميل.
- يتم استبدال "%2" باسم الشركة.
- يتم استبدال "%3" باسم العميل.
- يتم استبدال "%4" باسم شخص جهة اتصال الشركة.
- يتم استبدال "%5" بالمسمى الوظيفي لشخص جهة اتصال الشركة.
- يتم استبدال "%6" بعنوان البريد الإلكتروني لشخص جهة اتصال الشركة.

![البريد الإلكتروني](media/FTIbyGER-Email.PNG)

## <a name="additional-resources"></a>الموارد الإضافية
[نظرة عامة حول التقارير الإلكترونية](general-electronic-reporting.md)
