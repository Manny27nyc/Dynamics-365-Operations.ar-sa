---
title: إعداد الوظيفة الإضافية الفوترة الإلكترونية
description: يوضح هذا الموضوع كيفية إعداد الوظيفة الإضافية الفوترة الإلكترونية في Microsoft Dynamics 365 Finance وفي Dynamics 365 Supply Chain Management.
author: gionoder
manager: AnnBe
ms.date: 09/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: janeaug
ms.search.validFrom: 2020-07-08
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: 92ffd2076497325fb986478328c4b2584929881d
ms.sourcegitcommit: 025561f6a21fe8705493daa290f3f6bfb9f1b962
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 09/23/2020
ms.locfileid: "3835898"
---
# <a name="set-up-the-electronic-invoicing-add-on"></a>إعداد الوظيفة الإضافية الفوترة الإلكترونية

[!include [banner](../includes/banner.md)]
[!include [banner](../includes/preview-banner.md)]

عملية إعداد ميزة الوظيفة الإضافية الفوترة الإلكترونية هي عملية إنشاء التكوين المطلوب عبر بيئة Regulatory Configuration Services (RCS) ونشر هذا التكوين في خادم الوظيفة الإضافية الفوترة الإلكترونية. يتيح لك الإعداد إنشاء القواعد القابلة للتكوين التي تمكّن الوظيفة الإضافية الفوترة الإلكترونية من استخدام بروتوكول آمن عبر الإنترنت للاتصال وتبادل البيانات مع كيان خارجي من خلال خدمات الويب.

تعتمد قابلية التكوين على تكوين تنسيق التقارير الإلكترونية (ER) كوسيلة لبناء المحتوى الذي يتم إرساله وتلقيه عبر الملفات الرقمية. كما تعتمد على تنظيم إجراءات الاتصال لإرسال الطلبات إلى وتلقي الاستجابات من خدمات الويب الخارجية من دون الحاجة إلى كتابة التعليمات البرمجية.

## <a name="overview"></a>نظرة عامة

"ميزة الوظيفة الإضافية الفوترة الإلكترونية" هي الاسم العام للمورد الذي تم تكوينه ونشره لاستهلاك خادم الوظيفة الإضافية الفوترة الإلكترونية. يجمع إعداد الميزة، من ضمن أشياء أخرى، استخدام تنسيقات تكوين التقارير الإلكترونية لإنشاء ملفات تصدير واستيراد قابلة للتكوين، واستخدام إجراءات وسير مهام إجراءات لتمكين إنشاء قواعد قابلة للتكوين لإرسال الطلبات واستيراد الاستجابات وتحليل محتويات الاستجابات.

يبين الرسم التوضيحي التالي المكونات الأساسية لميزة الوظيفة الإضافية الفوترة الإلكترونية.

![نظرة عامة على ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Overview-e-Invoicing-feature.png)

نظرًا للتباينات في تنسيقات الفواتير وسير مهام الإجراءات، قد يختلف إعداد الميزة وفقًا للبلد أو المنطقة، أو وفقًا لمتطلبات الأعمال.

## <a name="set-up-the-electronic-invoicing-add-on-feature"></a>إعداد ميزة الوظيفة الإضافية الفوترة الإلكترونية

يجب إكمال عملية الإعداد في بيئة RCS. اتبع الخطوات التالية لإنشاء ميزة الوظيفة الإضافية الفوترة الإلكترونية الجديدة.

1. سجل دخولك إلى بيئة RCS.
2. في مساحة العمل **ميزات العولمة**، في قسم **الميزات**، حدد الإطار المتجانب **الوظيفة الإضافية الفوترة الإلكترونية**.
3. في صفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، حدد **استيراد** لاستيراد تكوين نموذج بيانات التقارير الإلكترونية من المستودع العام.
4. حدد **إضافة** لإنشاء ميزة الوظيفة الإضافية الفوترة الإلكترونية. يمكنك إما إنشاء الميزة من البداية أو اشتقاقها من ميزة موجودة للوظيفة الإضافية الفوترة الإلكترونية.

    ![إضافة ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Add-e-Invoicing-feature.png)

> [!NOTE]
> عند إنشاء ميزة جديدة للوظيفة الإضافية الفوترة الإلكترونية، يكون لديها رقم إصدار، وحالتها الافتراضية معينة إلى **مسودة**.

### <a name="configurations"></a>التكوينات

تحتوي التكوينات على تكوينات تنسيقات التقارير الإلكترونية المطلوبة لعمليات التحويل ولإنشاء الملفات التي سيتم تبادلها أثناء الاتصال بخدمات ويب خارجية. بإمكان ميزة الوظيفة الإضافية الفوترة الإلكترونية أن تتضمن العدد المطلوب من تكوينات تنسيقات ملفات التقارير الإلكترونية، استنادًا إلى المواصفات التقنية للتكامل التي يوفرها موفر خدمة الويب.

اتبع الخطوات التالية لإضافة تنسيقات التقارير الإلكترونية إلى  ميزة الوظيفة الإضافية الفوترة الإلكترونية.

1. في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، على علامة تبويب **التكوينات**، حدد **إضافة** لإضافة تكوينات تنسيقات ملفات التقارير الإلكترونية لميزة الوظيفة الإضافية الفوترة الإلكترونية.

    ![إضافة تكوينات ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Add-e-Invoicing-feature-Configurations.png)

    > [!NOTE]
    > عند إنشاء ميزة الوظيفة الإضافية الفوترة الإلكترونية من البداية، يجب إضافة جميع تكوينات تنسيقات ملفات التقارير الإلكترونية يدويًا. عند اشتقاق ميزة الوظيفة الإضافية الفوترة الإلكترونية من ميزة موجودة، يتم إنشاء تكوينات تنسيقات ملفات التقارير الإلكتروني بشكل تلقائي، بسبب تواريها من ميزة الوظيفة الإضافية الفوترة الإلكترونية الأصلية.

2. حدد **تحرير** لفتح الصفحة **مصمم التنسيق**، حيث يمكنك تحرير تكوين تنسيق ملف التقارير الإلكترونية.

    ![تحرير تكوينات ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Edit-e-Invoicing-feature-Configurations.png)

    > [!NOTE]
    > أثناء قيامك بتحرير التنسيق، يتم تعيين حالة إصدار التكوين إلى **مسودة**.

3. استخدم الصفحة **مصمم التنسيق** لتغيير تكوين تنسيق الملف. للحصول على مزيد من التفاصيل، راجع [إنشاء تكوينات المستندات الإلكترونية](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/electronic-reporting-configuration).

    ![صفحة مصمم التنسيق‬](media/e-Invoicing-services-feature-setup-ER-Format-designer.png)

### <a name="feature-setups"></a>عمليات إعداد الميزة

تغلف عمليات إعداد الميزة قواعد الاتصال والأمان مع خدمة ويب خارجية. بإمكان ميزة الوظيفة الإضافية الفوترة الإلكترونية‬ أن تتكوّن من العدد المطلوب من عمليات إعداد الميزة، استنادًا إلى قاعدة العمل التي تريد تنفيذها.

اتبع الخطوات التالية لإضافة عمليات إعداد الميزة لميزة الوظيفة الإضافية الفوترة الإلكترونية.

1. في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، على علامة تبويب **عمليات الإعداد**، حدد **إضافة** لإضافة تكوينات تنسيقات ملفات التقارير الإلكترونية لميزة الوظيفة الإضافية الفوترة الإلكترونية.

    ![إضافة عمليات إعداد ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Add-e-Invoicing-feature-Setups.png)

    > [!NOTE]
    > عند إنشاء ميزة الوظيفة الإضافية الفوترة الإلكترونية من البداية، يجب إضافة جميع عمليات إعداد الميزة التي تحتاج إليها يدويًا. عند اشتقاق ميزة الوظيفة الإضافية الفوترة الإلكترونية من ميزة موجودة، يتم إنشاء جميع عمليات إعداد الميزة بشكل تلقائي، بسبب تواريها من ميزة الوظيفة الإضافية الفوترة الإلكترونية الأصلية.

2. حدد **تحرير** لتحرير إعداد إصدار الميزة.

    ![عمليات إعداد ميزة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Edit-e-Invoicing-feature-Setups.png)

3. استخدم الصفحة **إعداد إصدار الميزة** لتكوين الإجراءات وقواعد التطبيق والمتغيرات.

    ![الإجراءات وقواعد التطبيق والمتغيرات](media/e-Invoicing-services-feature-setup-View-Actions-Applicability-Rules-Variables.png)

### <a name="actions"></a>الإجراءات

الإجراءات هي قائمة محددة مسبقًا من العمليات التي يتم تشغيلها في ترتيب متسلسل. تمثل هذه القائمة التصنيف التفصيلي للخطوات المطلوبة للتنفيذ الكامل لميزة الوظيفة الإضافية الفوترة الإلكترونية. بإمكان الإجراءات أن تقوم بتغليف، في ميزة الوظيفة الإضافية الفوترة الإلكترونية نفسها، الاتصال في الاتجاهين: إرسال طلب لوجهة، وتلقي استجابة وتحليل محتوياتها.

يحتوي كل إجراء على قائمة محددة مسبقًا من المعلمات المطلوبة كي يقوم الإجراء بتحقيق غرضه. قد يتم توفير معلمات إضافية بشكل اختياري.

#### <a name="actions-fasttab"></a>علامة التبويب السريعة "الإجراءات"

في الصفحة **إعداد إصدارات الميزة**، على علامة تبويب **الإجراءات**، على علامة التبويب السريعة **الإجراءات**، اتبع خطوة من الخطوتين التاليتين أو كلتيهما لإدارة الإجراءات:

- حدد **جديد** أو **حذف** لإضافة إجراءات جديدة أو حذف إجراءات موجودة.
- حدد **إلى الأعلى** أو **إلى الأسفل** لنقل الإجراءات المحددة إلى الأعلى أو إلى الأسفل في الشبكة، وبالتالي تغيير الترتيب الذي يتم تشغيلها به. يتم تشغيل الإجراءات بالترتيب الذي تظهر به في الشبكة، من الأعلى إلى الأسفل.

![إدارة الإجراءات](media/e-Invoicing-services-feature-setup-Manage-Actions.png)

يصف الجدول التالي الحقول المتاحة في علامة التبويب السريعة **الإجراءات**.

| الحقل        | الوصف |
|--------------|-------------|
| الإجراء       | هناك ثمانية إجراءات محددة بشكل مسبق:<ul><li><strong>توقيع مستند</strong></li><li><strong>FileStoreActionName</strong></li><li><strong>تحويل المستند</strong></li><li><strong>استجابة العملية</strong></li><li><strong>استدعاء خدمة الويب REST</strong></li><li><strong>استدعاء خدمة PAC المكسيكية</strong></li><li><strong>استدعاء خدمة SEFAZ البرازيلية</strong></li><li><strong>استدعاء خدمة SDI الإيطالية</strong></li></ul> |
| اسم الإجراء  | اسم الإجراء وترتيب تنفيذه. |
| الوصف  | وصف الإجراء. |
| تمكين إعادة المحاولة | تشير خانة الاختيار المحددة إلى أنه يمكن محاولة تنفيذ الإجراء من جديد إذا لم تنجح المحاولة السابقة. |
| إجراء إعادة المحاولة | عند إعادة المحاولة، الإجراء الذي تبدأ منه إعادة المحاولة. بعد ذلك تنتهي إعادة المحاولة على الإجراء الحالي (إعادة محاولة شاملة). تحدد معلمات **الحد الأدنى للمقاطعة** و**الحد الأقصى للمقاطعة** الحد الأدنى لعمليات إعادة المحاولة والحد الأقصى لهذه العمليات بالنسبة للإجراءات التي لديها هذه المعلمات. |

#### <a name="parameters-fasttab"></a>علامة التبويب السريعة "المعلمات"

تسرد علامة التبويب السريعة **المعلمات** المعلمات‏‎ الخاصة بالإجراء المحدد على علامة التبويب السريعة **الإجراءات**.

![علامة التبويب السريعة "المعلمات"](media/e-Invoicing-services-feature-setup-View-Actions-Parameters.png)

يصف الجدول التالي الحقول المتاحة في علامة التبويب السريعة **المعلمات**.

| الحقل       | الوصف |
|-------------|-------------|
| الاسم        | قائمة محددة مسبقًا من المعلمات. لمزيد من المعلومات، راجع [قائمة المعلمات حسب الإجراء](#list-of-parameters-by-action). |
| الوصف | وصف للمعلمة. |
| قيمة       | قيمة المعلمة. |

#### <a name="list-of-parameters-by-action"></a>قائمة المعلمات حسب الإجراء

تختلف المعلمات المتوفرة، وفقًا للإجراء المحدد على علامة التبويب السريعة **الإجراءات**.

###### <a name="action-sign-document"></a>الإجراء: توقيع المستند

| المحددة                             | الوصف |
|---------------------------------------|-------------|
| ملف الإدخال                            | ملف مستند XML الخاص بالإدخال الذي يجب التوقيع عليه باستخدام توقيع إلكتروني. |
| اسم الشهادة                      | اسم الشهادة الموجودة في مساحة التخزين. |
| نوع التوقيع                        | نوع التوقيع الذي يجب استخدامه. |
| اسم أسلوب التوقيع                 | اسم أسلوب التوقيع المستخدم لإنشاء توقيع إلكتروني. |
| اسم أسلوب الملخص                    | أسلوب الملخص المستخدم لإنشاء سلسلة ملخصة في التوقيع الرقمي. |
| اسم أسلوب التحويل          | أسلوب التحويل المستخدم لحساب تجزئة التوقيع. |
| اسم سمة المرجع              | اسم السمة الذي يشير إلى المكان الذي يجب أن يتم فيه ادراج معرف المرجع في عنصر التوقيع. |
| اسم العنصر الذي سيتم التوقيع عليه               | اسم عنصر XML في المستند الذي يجب التوقيع عليه باستخدام توقيع إلكتروني. في حالة عدم تحديد أي عنصر، يتم التوقيع على جذر المستند. |
| اسم العنصر حيث يجب إدراج التوقيع   | اسم عنصر XML حيث يجب إدراج توقيع رقمي تم إنشاؤه. في حالة عدم تحديد أي عنصر، يتم إدراج التوقيع في جذر المستند. |
| ملف XLST مع تحويل ملخص       | ملف تحويل لغة صفحات الأنماط الموسعة (XSLT) الذي يحتوي على قواعد تحويل الملخص لإنشاء سلسلة الملخص للتوقيع الإلكتروني. |
| المسار لإدراج سلسلة الملخص          | المسار، بتنسيق **\<elementName\>.\<Attribute.Path\>** للموقع حيث يجب إدراج سلسلة الملخص التي تم إنشاؤها. |
| موقع رقم الشهادة           | اسم العنصر والسمة حيث يجب وضع رقم الشهادة. |
| موقع بيانات الشهادة          | اسم العنصر والسمة حيث يجب إدراج بيانات الشهادة (base64). |
| رقم الشهادة بتنسيق ASCII | قيمة تحدد ما إذا كان رقم الشهادة مرمزًا بتنسيق ASCII. |

###### <a name="action-filestoreactionname"></a>الإجراء: FileStoreActionName

| المحددة  | الوصف |
|------------|-------------|
| ملف الإدخال | ملف الإدخال المراد تخزينه. |

###### <a name="action-transform-document"></a>الإجراء: تحويل المستند

| المحددة                       | الوصف |
|---------------------------------|-------------|
| ملف الإدخال                      | الملف المصدر الذي يوفر البيانات التي يجب تشغيلها للإجراء. |
| الاتجاه                       | قيمة تشير إلى ما إذا كان يجب استخدام تنسيق الاستيراد أو تنسيق التصدير. |
| معرف التكوين                | التنسيق الذي يجب تشغيله. |
| إصدار التكوين           | في حال عدم تحديد إصدار التكوين، سيتم استخدام الإصدار الأحدث. |
| نقطة تكامل التكوين | الملف المصدر الذي يوفر البيانات لوقت تشغيل التقرير. |

###### <a name="action-process-response"></a>الإجراء: استجابة العملية

| المحددة                    | الوصف |
|------------------------------|-------------|
| ملف الإدخال                   | الاستجابة المطلوب تحليلها. |
| قائمة تكوين إعداد التقارير | قائمة بالتكوينات المستخدمة لتحليل الاستجابات. |

###### <a name="action-call-rest-web-service"></a>الإجراء: استدعاء خدمة الويب REST

| المحددة                   | الوصف |
|-----------------------------|-------------|
| عنوان URL لخدمة الويب             | عنوان URL المطلوب إرسال الطلبات اليه. |
| مهلة طلب الويب         | الحد الأقصى للوقت (بالمللي ثانية) لانتظار استجابة خدمه ويب. |
| نوع عملية الطلب      | نوع عملية طلب HTTP (على سبيل المثال، **GET** أو **POST** أو **DELETE**). |
| أسماء الشهادات           | أسماء الشهادات. |
| ترميز نص الاستجابة      | الترميز المتوقع لنص استجابة HTTP، بحيث يمكن فك ترميزه بشكل صحيح. |
| نوع محتوى طلب HTTP   | إدخال رأس نوع محتوى طلب HTTP. |
| نص محتوى طلب HTTP   | نص محتوى طلب HTTP. (بإمكان النص أن يكون فارغًا.) |
| قيم استعلام معلمة HTTP | قيم استعلام المعلمات التي يتم استخدامها لملء عنوان URL بمعلمات المتغير. |
| مسار الطلب               | مسار الطلب لطلب HTTP. يمكن كتابة معلمات المتغير في التدوين **\{paramName\}**. فيما يلي مثال على ذلك: **"api/{id}/submit"**. |
| قائمة معلمات المسار        | معلمات المسار، في تدوين القيمة الأساسية، المستخدمة لإدراج المتغيرات في المسار. |
| رؤوس HTTP المخصصة         | رؤوس HTTP المخصصة لوضعها في الطلب. |
| ملفات تعريف ارتباط طلب HTTP        | قائمة من ملفات تعريف الارتباط، بتدوين القيمة الأساسية، لوضع طلب رأس ملفات تعريف ارتباط HTTP. |
| بروتوكول الأمان           | بروتوكول الأمان الذي يتم استخدامه لطلبات HTTP للاتصال بالخادم. (بشكل افتراضي، يتم استخدام أمان طبقة النقل \[TLS\] 1.2.) |

###### <a name="action-call-mexican-pac-service"></a>الإجراء: استدعاء خدمة PAC المكسيكية

| المحددة                | الوصف |
|--------------------------|-------------|
| ملف الإدخال               | الملف الذي يحتوي على بيانات XML التي سيتم إرسالها إلى خدمة الويب كمعلمة إدخال أسلوب. |
| عنوان URL              | عنوان خدمة الويب (نقطة النهاية). |
| اسم أسلوب الويب (الإجراء) | اسم أسلوب الويب (الإجراء) الذي يجب تشغيله. |
| الشهادات             | سلسلة الشهادات المطلوبة لمصادقه العميل بواسطة خدمة ويب. يجب أن تكون شهادة العميل آخر شهادة في السلسلة. يجب أن تكون الشهادات الجذر والشهادات الوسيطة الأولى. |
| مهلة طلب الويب      | الحد الأقصى للوقت (بالمللي ثانية) لانتظار استجابة خدمه ويب. |
| فاصل إعادة المحاولة           | الفاصل بين محاولات الاتصال بخدمة الويب وتلقي استجابة منها. إذا لم يتم تحديد أي فاصل، فلن تجري محاولات جديدة بعد فشل الاستدعاء الأول. |
| عدد مرات إعادة المحاولة              | العدد الأقصى لعمليات إعادة المحاولة للاتصال بخدمة الويب وتلقي استجابة منها. |
| إعادة المحاولة حتى               | الحد الأقصى للوقت (بالمللي الثانية) الذي يمكن أن تستمر خلالها عمليات إعادة المحاولة. |
| الحد الأدنى للمقاطعة         | الحد الأدنى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| الحد الأقصى للمقاطعة         | الحد الأقصى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| بروتوكول الأمان        | بروتوكول الأمان الذي يتم استخدامه لطلبات HTTP للاتصال بالخادم. (يتم استخدام TLS 1.2 بشكل افتراضي.) |

###### <a name="action-call-brazilian-sefaz-service"></a>الإجراء: استدعاء خدمة SEFAZ البرازيلية

| المحددة                | الوصف |
|--------------------------|-------------|
| ملف الإدخال               | الملف الذي يحتوي على بيانات XML التي سيتم إرسالها إلى خدمة الويب كمعلمة إدخال أسلوب. |
| عنوان URL              | عنوان خدمة الويب (نقطة النهاية). |
| اسم أسلوب الويب (الإجراء) | اسم أسلوب الويب (الإجراء) الذي يجب تشغيله. |
| الشهادات             | سلسلة الشهادات المطلوبة لمصادقه العميل بواسطة خدمة ويب. يجب أن تكون شهادة العميل آخر شهادة في السلسلة. يجب أن تكون الشهادات الجذر والشهادات الوسيطة الأولى. |
| مهلة طلب الويب      | الحد الأقصى للوقت (بالمللي ثانية) لانتظار استجابة خدمه ويب. |
| فاصل إعادة المحاولة           | الفاصل بين محاولات الاتصال بخدمة الويب وتلقي استجابة منها. إذا لم يتم تحديد أي فاصل، فلن تجري محاولات جديدة بعد فشل الاستدعاء الأول. |
| عدد مرات إعادة المحاولة              | العدد الأقصى لعمليات إعادة المحاولة للاتصال بخدمة الويب وتلقي استجابة منها. |
| إعادة المحاولة حتى               | الحد الأقصى للوقت (بالمللي الثانية) الذي يمكن أن تستمر خلالها عمليات إعادة المحاولة. |
| الحد الأدنى للمقاطعة         | الحد الأدنى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| الحد الأقصى للمقاطعة         | الحد الأقصى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| بروتوكول الأمان        | بروتوكول الأمان الذي يتم استخدامه لطلبات HTTP للاتصال بالخادم. (يتم استخدام TLS 1.2 بشكل افتراضي.) |

###### <a name="action-call-italian-sdi-service"></a>الإجراء: استدعاء خدمة SDI الإيطالية

| المحددة                | الوصف |
|--------------------------|-------------|
| ملف الإدخال               | الملف الذي يحتوي على بيانات XML التي سيتم إرسالها إلى خدمة الويب كمعلمة إدخال أسلوب. |
| عنوان URL              | عنوان خدمة الويب (نقطة النهاية). |
| اسم أسلوب الويب (الإجراء) | اسم أسلوب الويب (الإجراء) الذي يجب تشغيله. |
| الشهادات             | سلسلة الشهادات المطلوبة لمصادقه العميل بواسطة خدمة ويب. يجب أن تكون شهادة العميل آخر شهادة في السلسلة. يجب أن تكون الشهادات الجذر والشهادات الوسيطة الأولى. |
| مهلة طلب الويب      | الحد الأقصى للوقت (بالمللي ثانية) لانتظار استجابة خدمه ويب. |
| فاصل إعادة المحاولة           | الفاصل بين محاولات الاتصال بخدمة الويب وتلقي استجابة منها. إذا لم يتم تحديد أي فاصل، فلن تجري محاولات جديدة بعد فشل الاستدعاء الأول. |
| عدد مرات إعادة المحاولة              | العدد الأقصى لعمليات إعادة المحاولة للاتصال بخدمة الويب وتلقي استجابة منها. |
| إعادة المحاولة حتى               | الحد الأقصى للوقت (بالمللي الثانية) الذي يمكن أن تستمر خلالها عمليات إعادة المحاولة. |
| الحد الأدنى للمقاطعة         | الحد الأدنى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| الحد الأقصى للمقاطعة         | الحد الأقصى لمعدل المقاطعة للحساب الأسي لفترات إعادة المحاولة. |
| بروتوكول الأمان        | بروتوكول الأمان الذي يتم استخدامه لطلبات HTTP للاتصال بالخادم. (يتم استخدام TLS 1.2 بشكل افتراضي.) |

### <a name="applicability-rules"></a>قواعد قابلية التطبيق

تتيح قواعد قابلية التطبيق إمكانية إنشاء قواعد منطقية تحدد سياق الاستخدام لإعداد الميزة. وبالتالي، يقوم التطابق بين السياق المحدد بواسطة مستند العمل المرسل للمعالجة، بالإضافة إلى معايير قواعد قابلية التطبيق، بتحديد ميزة الفوترة الإلكترونية التي يتم استخدامها لمعالجة هذا الإرسال.

#### <a name="set-up-applicability-rules"></a>إعداد قواعد قابلية التطبيق

1. في الصفحة **إعداد إصدار الميزة**، على علامة تبويب **قواعد قابلية التطبيق**، حدد **جديد** لإضافة قاعدة قابلية التطبيق.

    ![إدارة قواعد قابلية التطبيق](media/e-Invoicing-services-feature-setup-Manage-Actions-Applicability-rules.png)

2. في الشبكة، حدد البنود التي يجب تجميعها.
3. حدد **تجميع البنود**.

    ![تجميع البنود](media/e-Invoicing-services-feature-setup-Manage-Applicability-rules-Group-clause.png)

    عندما يتم تجميع البنود، يُضاف عمود جديد إلى الشبكة. يحدد هذا العمود عامل التشغيل المنطقي للبنود المجمعة.

    ![عامل التشغيل المنطقي للبنود المجمعة](media/e-Invoicing-services-feature-setup-Manage-Applicability-rules-Group-criterias.png)

لفك تجميع البنود، حدد البنود المجمعة المراد فك تجميعها، ثم حدد **إلغاء تجميع البنود**.

![إلغاء تجميع البنود](media/e-Invoicing-services-feature-setup-Manage-Applicability-rules-UnGroup-criterias.png)

> [!NOTE]
> عندما تقوم بإلغاء تجميع البنود، ابدأ دائمًا من مستوى التجميع دائما بالبدء من مستوي التجميع الأعمق.

يصف الجدول التالي الحقول المتاحة في علامة التبويب السريعة **قواعد قابلية التطبيق**.

| الحقل         | الوصف |
|---------------|-------------|
| و/أو        | عامل التشغيل المنطقي. |
| الحقل         | الحقل المطلوب استخدامه لإنشاء القاعدة. |
| نوع العامل | نوع عامل التشغيل.<ul><li>متساو</li><li>لا يساوي</li><li>أكبر من/أصغر من</li><li>أكبر من أو يساوي/أصغر من أو يساوي</li><li>يحتوي على</li><li>يبدأ بـ</li></ul> |
| قيمة         | المعيار الخاص بالقاعدة. |

### <a name="variables"></a>المتغيرات

يمكنك إنشاء متغيرات ثم استخدامها كقيمة إدخال لمعلمة إجراء محدد. يمكنك أيضًا استخدامها لمبادلة، بين خدمات الوظيفة الإضافية الفوترة الإلكترونية والعميل، معلومات هي نتيجة تنفيذ إجراء معين كجزء من تدفق عمليات الإرسال.

#### <a name="set-up-variables"></a>إعداد المتغيرات

- في الصفحة **إعداد إصدار الميزة**، على علامة تبويب **المتغيرات**، حدد **جديد** أو **حذف** لإدارة المتغيرات.

    ![إدارة المتغيرات](media/e-Invoicing-services-feature-setup-Manage-Variables.png)

يصف الجدول التالي الحقول المتاحة في علامة التبويب **المتغيرات**.

| الحقل       | الوصف |
|-------------|-------------|
| الاسم        | اسم المتغير. |
| الوصف | وصف مختصر للمتغير. |
| النوع        | نوع المتغير:<ul><li><strong>ثابت</strong> – محتوى المتغير ثابت.</li><li><strong>من العميل</strong> – يتم الحصول على المتغير من عميل Microsoft Dynamics 365 أثناء تنفيذ عملية الإرسال.</li><li><strong>من العميل</strong> – يتم توفير محتوى المتغير للاستيراد من قِبل عميل Microsoft Dynamics 365 أثناء تنفيذ عملية الإرسال.</li></ul> |
| نوع البيانات   | نوع بيانات المتغير:<ul><li>منطقي</li><li>التاريخ</li><li>الرقم</li><li>UUID</li><li>سلسلة</li><li>ملف</li></ul> |
| قيمة       | قيمة المتغير أو اسم الإجراء الذي يقوم بتعيين قيمة المتغير. |

### <a name="validate-the-feature-setup"></a>التحقق من صحة إعداد الميزة

- في الصفحة **إعداد إصدار الميزة**، في جزء الإجراءات، حدد **التحقق من الصحة** للتحقق من صحة إعداد إصدار الميزة.

   ![تحديد زر ‏‫"التحقق من الصحة"](media/e-Invoicing-services-feature-setup-Select-Validate-Button.png)

تتحقق عملية التحقق من الصحة من تناسق التكوين الكامل. على سبيل المثال، إذا كانت معلمة معينة لأحد الإجراءات إلزامية ولكن تبقي قيمتها فارغة، تكتشف عملية التحقق من الصحة عدم التناسق هذا، وستتلقى تحذيرًا.

## <a name="environments"></a>البيئات

يجب أن تقترن بيئة الوظيفة الإضافية الفوترة الإلكترونية بميزة الوظيفة الإضافية الفوترة الإلكترونية ويجب تمكينها لها. يجب إنشاء بيئات الوظيفة الإضافية الفوترة الإلكترونية ونشرها بشكل مسبق من خلال تكوين ميزات العولمة في حساب RCS لمؤسستك.

اتبع خطوات تمكين بيئة الوظيفة الإضافية الفوترة الإلكترونية لميزة الوظيفة الإضافية الفوترة الإلكترونية.

1. في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، على علامة تبويب **البيئات**، حدد **تمكين** لتمكين بيئة الوظيفة الإضافية الفوترة الإلكترونية.
2. في الحقل **ساري من‬‏‫**، حدد التاريخ الذي تصبح فيه البيئة سارية المفعول.

![تمكين بيئة الوظيفة الإضافية الفوترة الإلكترونية](media/e-Invoicing-services-feature-setup-Select-Enable-e-Invoicing-feature-Environment.png)

## <a name="organizations"></a>المؤسسات

يمكن مشاركة ميزة الوظيفة الإضافية الفوترة الإلكترونية عبر العديد من المؤسسات.

- في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، على علامة تبويب **المؤسسات**، حدد **مشاركة مع** لإضافة المؤسسة التي تريد مشاركة الوظيفة الإضافية الفوترة الإلكترونية معها.

لإيقاف مشاركة ميزة الوظيفة الإضافية الفوترة الإلكترونية مع المؤسسة، حدد **إلغاء المشاركة**.

## <a name="versions"></a>الإصدارات

تساعد الإصدارات على التحكم في دورة حياة ميزة الوظيفة الإضافية الفوترة الإلكترونية من خلال إدارة حالتها. يمكنك إنشاء إصدار جديد من ميزة الوظيفة الإضافية الفوترة الإلكترونية، أو عند اكتمال جميع تكوينات ميزة الوظيفة الإضافية الفوترة الإلكترونية للفوترة الكترونيه، يمكنك تغيير حالة الميزة إلى **مكتملة** ثم **نشر**.

### <a name="create-a-new-version-of-an-existing-electronic-invoicing-add-on-feature"></a>إنشاء إصدار جديد من ميزة موجودة للوظيفة الإضافية الفوترة الإلكترونية

1. في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، في الشبكة إلى اليسار، حدد ميزة الوظيفة الإضافية الفوترة الإلكترونية.
2. في علامة التبويب **الإصدارات**، حدد **جديد** لإضافة إصدار جديد من الوظيفة الإضافية الفوترة الإلكترونية.

### <a name="change-the-status-of-the-electronic-invoicing-add-on-feature"></a>تغيير حالة ميزة الوظيفة الإضافية الفوترة الإلكترونية.

اتبع الخطوات التالية لإدارة دورة حياة ميزة الوظيفة الإضافية الفوترة الإلكترونية.

1. في الصفحة **ميزات الوظيفة الإضافية الفوترة الإلكترونية**، في الشبكة إلى اليسار، حدد ميزة الوظيفة الإضافية الفوترة الإلكترونية.
2. في علامة التبويب **الإصدارات**، حدد **تغيير الحالة**، ثم قم بتغيير الحالة من **مسودة** إلى **مكتملة**.
3. تتم مطالبتك بتأكيد رغبتك في إكمال ميزة الوظيفة الإضافية الفوترة الإلكترونية وكافة مكوناتها. حدد  **نعم** لتأكيد الإجراء أو **لا** لإلغائه.

    > [!NOTE]
    > عند تحديد **نعم**، تتغير بشكل تلقائي حالة إصدارات التكوين، والتي تعتبر مكونات ميزة الوظيفة الإضافية الفوترة الإلكترونية من **مسودة** إلى **مكتملة**.

4. حدد **تغيير الحالة** ثم قم بتغيير الحالة من **مكتملة** إلى **نشر**.
5. تتم مطالبتك بتأكيد رغبتك في نشر ميزة الوظيفة الإضافية الفوترة الإلكترونية وكافة مكوناتها في المستودع العمومي. حدد  **نعم** لتأكيد الإجراء أو **لا** لإلغائه.

    > [!NOTE]
    > عند تحديد **نعم**، تتغير بشكل تلقائي حالة إصدارات التكوين من **مكتملة** إلى **مشتركة**.
