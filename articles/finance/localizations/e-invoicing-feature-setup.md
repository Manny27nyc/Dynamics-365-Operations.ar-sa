---
title: التعامل مع عمليات إعداد الميزة
description: توضح هذه المقالة كيفية إعداد ميزات الفوترة الإلكترونية.
author: dkalyuzh
ms.date: 12/15/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: dkalyuzh
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: 23466a53bb8ba597503aaa12d41395fc82b9f14e
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8904314"
---
# <a name="work-with-feature-setups"></a>التعامل مع عمليات إعداد الميزة

[!include [banner](../includes/banner.md)]

لإعداد إنشاء الملفات الإلكترونية وخطوات المعالجة الأخرى (على سبيل المثال، توقيع الملفات رقميًا أو تقديمها إلى خدمة الويب الحكومية وتلقي الرد أو تخزينها)، قم بإعداد خط أنابيب المعالجة وقواعد التطبيق والمتغيرات الإلكترونية ميزات الفواتير.

يتم دمج معلومات الإعداد في مفهوم *إعداد الميزة* ويمكن إنشاؤها وحذفها وتعديلها. بالنسبة للإصدارات المكتملة لميزات الفوترة الكترونيه، يمكن أيضا عرض المعلومات.

يمكنك إنشاء العديد من أصناف اعداد الميزات كما تتطلب تحديد سيناريوهات مختلفه لإنشاء الملفات الكترونيه ومعالجتها واستلامها. علي الرغم من ان عناصر اعداد الميزات هذه تحتوي علي إجراءات معالجه مستقله وشروط للتنفيذ، فانه يتم إنشاؤها كجزء من أحدي ميزات الفوترة الكترونيه، كما ترث دوره الحياة وعمليه التوزيع.

## <a name="add-a-feature-setup"></a>إضافة إعداد ميزة

1. سجل الدخول إلى حساب Regulatory Configuration Service (RCS) الخاص بك.
2. في مساحة العمل **ميزة العولمة**، في قسم **الميزات**، حدد الإطار المتجانب **الفوترة الإلكترونية**.
3. في صفحة **ميزات الفوترة الإلكترونية**، حدد إصدار ميزة فوترة إلكترونية بحالة **مسودة**.
4. في علامة التبويب **عمليات الإعداد**، حدد **إضافة**.
5. في مربع حوار القائمة المنسدلة **إنشاء إعداد الميزة** في مجموعة حقل **جديد**، حدد أحد الخيارات التالية:
 
    - **الإعداد المخصص** – قم بإنشاء إعداد ميزة جديد يحتوي على قنوات فارغة، وقائمة خطوط معالجة فارغة، وقسمًا فارغًا لقواعد التطبيق، ومجموعة افتراضية من المتغيرات، اعتمادًا على نوع الإعداد.
    - **من إعداد الميزة** – قم بإنشاء نسخة من إعداد ميزة أخرى في نطاق ميزة الفوترة الإلكترونية الحالية.

6. إذا حددت خيار **الإعداد المخصص** في الخطوة الأخيرة، أدخل اسمًا ووصفًا لعنصر إعداد الميزة، ثم في مجموعة حقل **نوع الإعداد**، حدد أحد الخيارات التالية:

    - **مسار المعالجة** – حدد هذا الخيار لإنشاء المستندات الكترونيه الصادرة ومعالجتها. بالنسبة لنوع الإعداد هذا، يقوم النظام بإنشاء قائمة خطوط أنابيب معالجة فارغة وقسمًا فارغًا لقواعد التطبيق ومجموعة افتراضية من المتغيرات. لن تتمكن من العمل مع القنوات الخاصة بالمستندات الإلكترونية الواردة.
    - **قناة البيانات** – حدد هذا الخيار لإعداد عملية استلام المستندات الإلكترونية الواردة من إحدى القنوات المحددة وتمريرها مباشرةً إلى Microsoft Dynamics 365‎ Finance أو Dynamics 365 Supply Chain Management من دون إجراءات إضافية. بالنسبة لنوع الإعداد هذا، يقوم النظام بإنشاء قائمة محددة مسبقًا من المعلمات لقنوات البيانات، وقسمًا فارغًا لقواعد التطبيق، ومجموعة من المتغيرات الافتراضية. لن تتمكن من إضافة أي إجراءات في مسار المعالجة.
    - **قناة البيانات ومسار المعالجة** – يشبه نوع الإعداد هذا نوع إعداد **قناة البيانات**. ومع ذلك، قبل أن يتم تمرير مستند إلكتروني وارد إلى Finance أو Supply Chain Management، يمكنك إعداد إجراءات إضافية في مسار المعالجة.

7. إذا حددت خيار **قناة البيانات** أو **قناة البيانات ومسار المعالجة** في الخطوة الأخيرة، في حقل **تحديد حقل البيانات**، يجب عليك تحديد القناة للتكامل معها.
8. حدد **إنشاء**.

بعد إنشاء اعداد الميزة، يمكنك تحديد **تحرير** لتكوينه.

## <a name="edit-a-feature-setup"></a>تحرير إعداد ميزة

اعتمادًا على نوع إعداد الميزة، يمكنك تكوين عملية إنشاء الملفات الإلكترونية الصادرة وإرسالها إلى القنوات الخارجية، أو استلام المستندات الواردة وتمريرها إلى تطبيق Finance أو Supply Chain Management الخاص بك.

### <a name="data-channel"></a>قناة البيانات

تأخذ *قناة البيانات* الملف الإلكتروني، وإما معالجته أو تمريره مباشرة إلى Finance أو Supply Chain Management. لا يتوفر هذا الخيار لإعدادات الميزة الخاصة بنوع **مسار المعالجة**.

لاعداد قناه بيانات، ادخل اسم القناة. ثم قم بتعريف المعلمات، استنادا إلى نوع القناة المحددة. يجب ان يشير معرف قناه البيانات إلى المتغير الذي تم إنشاؤه خصيصا لتعريف قناه البيانات. سيتم استخدامه كمرجع في Finance أو Supply Chain Management.

في علامة التبويب **تصفية المرفقات**، يجب عليك تحديد مجموعة من عوامل التصفية للحصول على ملفات معينة من القناة. يمكنك إنشاء بنود متعددة إذا كنت تتوقع ان يكون للملفات ملحقات أسماء ملفات مختلفه، أو إذا كانت الملفات يجب معالجتها بشكل مختلف استنادا إلى اسم الملف. فيما يلي المعلمات الاساسيه:

- **الاسم** - ادخل اسم الملف الذي سيقوم النظام بالاشاره اليه اثناء المعالجة. في تطبيقات Finance وSupply Chain Management، ستتمكن من رؤية الملفات في سجل الإرسال.
- **عامل التصفية** – حدد عامل التصفية لتحديد الملفات.
- **اختياري** - في حاله إلغاء تحديد خانه الاختيار هذه، يكون الملف مطلوبا. في هذه الحالة، سيقوم النظام بإظهار رسالة خطا إذا كانت القناات لا تحتوي علي ملفات تتوافق مع عامل التصفية. هذه المعلمة قابله للتطبيق علي رسائل البريد الكتروني.

إذا كانت القناة عبارة عن علبه بريد، وكانت رسالة البريد الكتروني الواردة تحتوي علي عده مرفقات، فيمكنك تكوين قواعد لتحديد كيفيه معالجه الخدمة للمرفقات. يمكن للخدمة اعتبار كل مرفق فاتورة الكترونيه منفصلة، أو يمكنه معامله مرفق واحد كفاتورة رئيسيه وكافة المرفقات الأخرى كاضافات.

### <a name="processing-pipeline"></a>مسار المعالجة

*مسار المعالجة* عبارة عن مجموعة *الإجراءات* يتم تشغيلها بالتتابع حتى يتم إكمالها بنجاح. يمكنك استخدام مسار معالجه لاعداد عمليه إنشاء الملفات الكترونيه وتنفيذ خطوات أخرى (علي سبيل المثال، توقيع الملفات رقميا وإرسالها إلى خدمات ويب خارجيه وتحليل الاستجابة واستلام المستندات الواردة ومعالجتها).

يتم تعريف قائمه الإجراءات مسبقا. يمكنك استخدام الزرين **جديد** و **حذف** لتحديد مجموعه الإجراءات التي تحدد بشكل منطقي العملية المطلوبة لإرسال المستندات أو استلامها.

ترتيب الإجراءات مهم. يمكنك تعديل الترتيب باستخدام الزرين **لأعلى** و **لأسفل**.

يكون لكل اجراء مجموعه من المعلمات التي يمكنك تكوينها أو تعديلها. تعتمد المجموعة المحددة من المعلمات علي نوع الاجراء.

- **الإجراء** – حدد نوع الإجراء.
- **اسم الإجراء** - أدخل اسم الإجراء. سيظهر هذا الاسم في سجلات الإرسال وفي الرسائل في تطبيقات Finance وSupply Chain Management.
- **الوصف** – قم بتوفير مزيد من التفاصيل حول الغرض من الاجراء في العملية.
- **تمكين إعادة المحاولة** – إذا حددت مربع الاختيار هذا، يمكنك تحديد إجراء في حقل **إجراء إعادة المحاولة** وتكوين المعلمات الإضافية في علامة التبويب **معلمات إعادة المحاولة**.

    تتيح لك وظيفة إعادة المحاولة تكوين سلوك الخدمة إذا تعذر تشغيل إجراء معين. على سبيل المثال، إذا كانت خدمة الويب الخارجية التي تحاول الاتصال بها لا تستجيب، فيمكنك تحديد عدد المرات التي يجب أن يعيد فيها النظام محاولة الاتصال، وفي أي فترة زمنية، ومن أي إجراء في مسار المعالجة.

- **تصدير النتائج** – يمكنك تحديد خانه الاختيار هذه لاجراء *واحد* في مسار المعالجة. يمكن بعد ذلك تصدير الملف الإلكتروني الذي ينتجه الإجراء في تطبيق Finance أو Supply Chain Management من صفحة **سجل إرسال المستندات الإلكترونية‬**.

### <a name="applicability-rules"></a>قواعد قابلية التطبيق

*قواعد التطبيق* عبارة عن بنود قابلة للتكوين توفر سياقًا لتشغيل ميزات الفوترة الإلكترونية من خلال مجموعة إمكانية الفوترة الإلكترونية.
لا تحمل مستندات العمل التي يتم إرسالها من Finance أو Supply Chain Management إلى الفواتير الإلكترونية مرجعًا صريحًا يمكّن مجموعة إمكانيات الفوترة الإلكترونية لاستدعاء إصدار خاص لميزة الفوترة الإلكترونية وعنصر إعداد ميزة محدد لمعالجة الإرسال. ومع ذلك، عندما يتم تكوين مستند العمل بشكل صحيح، فإنه يحتوي على العناصر المطلوبة التي ستمكّن الفواتير الإلكترونية من تحديد إصدار ميزة الفوترة الإلكترونية وخط أنابيب المعالجة الذي يجب تحديده وتشغيله.

تمكّن قواعد التطبيق خدمة الفواتير الإلكترونية من العثور على ميزات الفواتير الإلكترونية الدقيقة التي يجب استخدامها لمعالجة عملية إرسال. للعثور على الميزات الصحيحة، تتم مطابقة حقول **السياق** من مستند الأعمال المقدم مع البنود من قواعد التطبيق.

يمكنك العمل مع قواعد التطبيق بالطرق التالية:

- حدد **جديد** لإضافة عبارة جديده إلى مجموعه من قواعد امكانيه التطبيق.
- حدد **حذف** لحذف بند.
- حدد عدة سجلات، واستخدم الزر **تجميع** أو **إلغاء تجميع** لإنشاء مجموعة من العناصر أو البيانات المنطقية. علي سبيل المثال، حدد البنود التي تريد تجميعها، ثم حدد **تجميع البنود**. عندما يتم تجميع البنود، يُضاف عمود جديد إلى الشبكة. يحدد هذا العمود عامل التشغيل المنطقي للبند المجمع. يتم دعم الأنواع التالية من المشغلين:

    - Equal
    - Not equal
    - أكبر من/أصغر من
    - أكبر من أو يساوي/أصغر من أو يساوي
    - Contains
    - يبدأ بـ

    > [!NOTE]
    > عندما تقوم بإلغاء تجميع البنود، ابدأ دائمًا من مستوى التجميع دائما بالبدء من مستوي التجميع الأعمق.

### <a name="variables"></a>المتغيرات

تمنحك *المتغيرات* مزيدًا من المرونة عند إعداد مسار معالجة وتدفق البيانات بين الإجراءات. يمكنك الرجوع إلى متغير في بعض معلمات الإجراء لتخزين البيانات أو الملفات الإلكترونية مؤقتًا. تُستخدم بعض المتغيرات لتمرير البيانات بين تطبيقات Finance أو Supply Chain Management وخدمة الفوترة الإلكترونية.

يقوم النظام بإنشاء بعض المتغيرات بشكل افتراضي. على سبيل المثال، يحتوي متغير **BusinessDocumentDataModel** على بيانات الأعمال في بنية JavaScript Object Notation (JSON) التي تأتي في الاستدعاء من التطبيق المتصل أثناء عملية التقديم.

تتوفر أنواع المتغيرات التالية:

- **ثابت** – حاويه لتخزين البيانات المؤقتة المستخدمة في إجراءات مسارات المعالجة.
- **من العميل** – يتم الحصول على محتوى المتغير من عميل Dynamics 365 عند تشغيل عملية الإرسال.
- **إلى العميل** – يتم توفير محتوى المتغير للاستيراد بواسطة عميل Dynamics 365 عند تشغيل عملية الإرسال.
- **نوع البيانات** - يتيح تحديد نوع بيانات المعلومات التي يتم تخزينها في المتغير.

### <a name="parameters"></a>المعلمات‬

يتم استخدام الخيار **تعطيل تقليل بيانات الأعمال** لتحسين هيكل حمولة بيانات الأعمال التي تأتي من تطبيق Finance أو Supply Chain Management أثناء تقديم المستند الإلكتروني. يساعد التحسين على تقليل البيانات التي تدخل في خدمة الفوترة الإلكترونية لمزيد من التحول إلى الملف الإلكتروني المطلوب. القيمة الافتراضية هي **لا**.

- **نعم** – سيقوم Finance أو Supply Chain Management بإرسال ملف JSON لبنية **نموذج الفاتورة** أو **النموذج المالي** (للبرازيل) المحددة في وحدة **التقارير الإلكترونية**. تمتلئ جميع عناصر النموذج ببيانات الأعمال على جانب التطبيق، بغض النظر عن هيكل الملف الإلكتروني النهائي. تحتوي النماذج عادةً على بيانات أعمال أكثر مما تتطلبه بنية الملف الهدف، ويمكن أن يتطلب الأمر مزيدًا من الوقت لإنشاء هذه البيانات في التطبيق. مطلوب قيمة **نعم** لهذا الخيار في الحدث النادر الذي تريد إنشاء ملفات مخرجات مختلفة في إلكتروني واحد ميزة إعداد الفواتير والميزات. تُعد القيمة **نعم** مفيدة عند استكشاف السيناريوهات الخاصة بك، وهيكل الملفات الإلكترونية، واكتمال الأعمال التجارية وإصلاحها بيانات.
- **لا** – ستقوم Finance أو Supply Chain Management بإجراء المكالمة الأولى للخدمة بدون أي بيانات عمل. الغرض من هذه المكالمة هو الحصول على معلومات حول تكوين التقارير الإلكترونية (ER) التي سيتم استخدامها لتحويل الملف الإلكتروني في مسار المعالجة. يتم إرجاع هذه المعلومات إلى التطبيق الذي يستخدمها لتحديد المجموعة الفرعية لبيانات الأعمال التي يجب تضمينها في ملف JSON الخاص ببنية **نموذج الفاتورة** أو **النموذج المالي** (للبرازيل). تساعد قيمة **لا** لهذا الخيار على تقليل حجم بيانات الأعمال التي يرسلها التطبيق إلى الخدمة، لأن يمكن للتطبيق إرسال بيانات العمل المطلوبة فقط لإنشاء ملف إلكتروني بنجاح.

### <a name="validate-a-feature-setup"></a>التحقق من صحة إعداد الميزة

يمكنك تشغيل التحقق للتحقق من تناسق التكوين بالكامل. على سبيل المثال، إذا تم ترك معلمة إلزامية لإجراء ما فارغة، فإن التحقق من الصحة يكتشف هذا التناقض، وستتلقى رسالة تحذير.

- في الصفحة **إعداد إصدار الميزة**، في جزء الإجراءات، حدد **التحقق من الصحة**.

## <a name="delete-a-feature-setup"></a>حذف إعداد الميزة

1. في صفحة **ميزات الفوترة الإلكترونية**، حدد إصدار ميزة فوترة إلكترونية بحالة **مسودة**.
2. في علامة تبويب **عمليات الإعداد**، حدد **حذف**.
3. في مربع الرسالة الذي يظهر، حدد **نعم** للتأكيد على أنك تريد حذف إعداد الميزة.
