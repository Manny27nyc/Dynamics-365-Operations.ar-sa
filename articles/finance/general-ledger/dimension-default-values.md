---
title: الأبعاد المالية الافتراضية في دفاتر اليومية المالية
description: يصف هذا المقال القواعد التي تحدد كيفية تعيين قيم الأبعاد المالية على الحركات التي تم إدخالها من خلال دفاتر اليومية المالية. كما يتضمن تفاصيل حول وحدات السيناريو التي يتم فيها استخدام الأبعاد الثابتة.
author: kweekley
ms.date: 09/04/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
ms.search.form: LedgerJournalTransDaily, LedgerJournalTransVendInvoice, LedgerJournalTransVendPaym, LedgerJournalTransCustPaym
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2020-12-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: 8d0fcf836e22207baae562801fb082d735df0f96
ms.sourcegitcommit: 52b7225350daa29b1263d8e29c54ac9e20bcca70
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/03/2022
ms.locfileid: "8907911"
---
# <a name="default-financial-dimensions-on-financial-journals"></a>الأبعاد المالية الافتراضية في دفاتر اليومية المالية

[!include [banner](../includes/banner.md)]

يصف هذا المقال القواعد التي تحدد كيفية تعيين قيم الأبعاد المالية على الحركات التي تم إدخالها من خلال دفاتر اليومية المالية (لكن ليس ضمن دفاتر يومية المخزون أو دفاتر يومية المشروع). كما يتضمن تفاصيل حول وحدات السيناريو التي يتم فيها استخدام الأبعاد الثابتة.

## <a name="symptom"></a>العَرَضْ

لا يتم تعيين قيم البعد المالي بالشكل المتوقع في الحساب أو الحساب المقابل داخل دفتر اليومية المالي. والسيناريوهات التالية مثالان:

يتم إدخال إيصال في دفتر يومية عام. الحساب عبارة عن حساب مورد ويكون الحساب المقابل حسابًا بنكيًا. يتم إدخال الأبعاد المالية للمورد افتراضيًا على الحساب، ولكن لا يتم إدخال الأبعاد المالية للبنك بشكل افتراضي في الحساب المقابل. بدلا من ذلك، يتم إدخال قيم الأبعاد من الحساب بشكل افتراضي في الحساب المقابل.

لدى العميل قيم بعد مالي افتراضيه معينة، ويحتوي حساب الإيراد الرئيسي على قيمة بعد ثابت معينة للبعد المالي للقسم. يتم إدخال إيصال في دفتر يومية عام.  الحساب هو العميل والحساب المقابل هو حساب دفتر الأستاذ، وخاصة حساب الإيرادات بقيمة البعد الثابت. لم يتم تعيين البعد الثابت على الحساب المقابل لحساب الإيراد الرئيسي. وبدلا من ذلك، يتم تعيينها لقيمة بعد القسم من الحساب الذي يأتي من العميل.  بعد ترحيل الإيصال، يتم استخدام قيمة البعد الثابت في الإدخال المحاسبي الذي تم ترحيله، إلا أن الإيصال لا يزال يعرض قيمة قسم العميل في حساب الإيرادات. 

ما هي القواعد المتبعة لقيم الأبعاد المالية التي تم تعيينها في الإيصالات داخل دفتر اليومية؟

## <a name="resolution"></a>القرار

ويتم اتباع القواعد التالية لإدخال قيم الأبعاد المالية بشكل افتراضي في بنود الإيصال في دفاتر اليومية المالية، مثل دفتر اليومية العام أو دفتر يومية فاتورة المورد. 

1. **رأس دفتر اليومية**

   - يتم إدخال أبعاد رأس دفتر اليومية بشكل افتراضي من أبعاد اسم دفتر اليومية.

2. **حساب سطر دفتر اليومية**

   - يتم إدخال أبعاد حساب بند دفتر اليومية بشكل افتراضي من أبعاد رأس دفتر اليومية.
   - إذا كانت أية أبعاد مالية فارغة، سيتم إدخال قيمها بشكل افتراضي من العميل أو المورد أو البنك أو الأصل الثابت أو المشروع أو أبعاد دفتر الأستاذ.

     - إذا كان نوع الحساب هو **دفتر الأستاذ**، سيتم التعامل مع بعد ثابت في حساب دفتر الأستاذ كبعد افتراضي أثناء إدخال الحركة.
     - إذا كان نوع الحساب **عميل** أو **مورد** أو **بنك** أو **أصول ثابتة** أو **مشروع**، فلن يمكن تحديد الحساب الرئيسي حتى الآن. التالي، لن يتم إدخال بعد ثابت بشكل افتراضي للحساب.

3. **حساب مقابل لسطر دفتر اليومية**

 - أولاً، يتم تحديد أبعاد الحساب المقابل لبند دفتر اليومية بشكل افتراضي من أبعاد حساب بند دفتر اليومية.

 - إذا كانت أية أبعاد مالية فارغة، سوف تأتي قيمة الإدخال التالي الافتراضي من الأبعاد الافتراضية من العميل أو المورد أو البنك أو الأصول الثابتة أو المشروع أو دفتر الأستاذ.
   1. إذا كان نوع الحساب المقابل هو **دفتر الأستاذ**، سيتم التعامل مع بعد ثابت في حساب دفتر الأستاذ كبعد افتراضي أثناء إدخال الحركة. إذا تم بالفعل إدخال قيمة البعد بشكل افتراضي من الحساب، فلن تتجاوز قيمة البعد الافتراضية أو الثابتة الخاصة بالحساب الرئيسي القيمة الموجودة.
   2. إذا كان نوع الحساب المقابل **عميل** أو **مورد** أو **بنك** أو **أصول ثابتة** أو **مشروع**، فلن يكون الحساب الرئيسي معروفا حتى الآن حتى لا يكون هناك بعد ثابت افتراضي للحساب المقابل.

4. **ترحيل**

    1. أثناء الترحيل، يتم تقييم الحساب الرئيسي لكل بند في إدخال المحاسبة (لكل من الحساب والحساب المقابل) لتحديد ما إذا كانت هناك قيمة بعد ثابت. في حالة تحديد بعد ثابت، يتم استبدال أية قيم فارغة أو موجودة بقيمة البعد الثابت هذه.

        **لا** يتم عرض قيمة البعد الثابت في بنود دفتر اليومية بعد الترحيل. وبدلاً من ذلك، يظهر على الإدخال المحاسبي عند عرض الإيصال بعد ترحيله.

    2. لا يتم إدخال قيم أبعاد أخرى افتراضيًا أثناء الترحيل، بما في ذلك حسابات دفتر الأستاذ الإضافية التي قد تتم إضافتها أثناء الترحيل، مثل حسابات التقريب النقدية والشركات الشقيقة المستحقة أو المستحقة من حسابات. يتم أخذ إدخالات البعد الافتراضية لحسابات دفتر الأستاذ الإضافية من الحساب أو الحسابات المقابلة.

بالنسبة لغرض إدخال قيم الأبعاد بشكل افتراضي، لا يمكن للعملية الافتراضية لدفتر اليومية تحديد ما إذا كانت قيمة البعد فارغة لا تترك خاليه ام لا، أو ما إذا كان لم يتم اجراء الإدخال الافتراضي أم لا. إذا تركت قيمة البعد فارغة عمدا ، فقد يتم إدخال قيمة بشكل افتراضي باستخدام ترتيب الإعداد الافتراضي الموضح سابقًا. إذا كنت تطلب أن يحتوي البعد على قيمة فارغة، فقد تحتاج إلى إنشاء بعد يحتوي على القيمة **0** (صفر) أو **فارغ** ، بحيث يمكن استخدامه بدلا من بعد فارغ.

راجع وحدات السيناريو التالية للحصول على أمثلة لأمر القياس الافتراضي للبعد المالي.

### <a name="scenario-1"></a>السيناريو 1

الانتقال إلى **دفتر الأستاذ العام\>إعداد دفتر اليومية\>أسماء دفاتر اليومية**، وتحديد اسم دفتر اليومية **GenJrn**. وبعد ذلك، في علامة التبويب السريعة **الأبعاد المالية**، حدد القيم التالية للأبعاد المالية الافتراضية:

- **BUSINESSUNIT:** 001
- **DEPARTMENT:** 024

[![صفحة أسماء دفاتر اليومية](./media/financial-dimension-defaulting-jrnl-names-01.png)](./media/financial-dimension-defaulting-jrnl-names-01.png)

انتقل إلى **دفتر الأستاذ العام \>إدخالات دفتر اليومية \>دفتر اليومية العام**، وإنشاء دفتر يومية عام جديد يستخدم اسم دفتر اليومية **GenJrn**. يتم إدخال الأبعاد افتراضيا من اسم دفتر اليومية (جدول LedgerJournalName) إلى رأس دفتر اليومية (جدول LedgerJournalTable) ، كما هو موضح في علامة التبويب **الأبعاد المالية**.

[![علامة التبويب الأبعاد المالية في الصفحة دفاتر اليومية العامة](./media/financial-dimension-defaulting-genrl-jrnl-02.png)](./media/financial-dimension-defaulting-genrl-jrnl-02.png)

انتقل إلى **البنود**. في الحقل **نوع الحساب**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب**، أدخل **170150**. ثم حدد مفتاح **علامة التبويب** للخروج من الحقل. يتم إدخال الأبعاد بشكل افتراضي من رأس دفتر اليومية. لذلك، يتم عرض قيمة **الحساب** في شكل **170150-001-024**.

[![بنود دفتر اليومية لدفتر اليومية العام في الصفحة إيصال دفتر اليومية](./media/financial-dimension-defaulting-jrnl-vchr-03.png)](./media/financial-dimension-defaulting-jrnl-vchr-03.png)

قم بتغيير قيمة **الحساب** إلى **170150-001-023**. أدخل إما مبلغًا مدينًا أو مبلغًا دائنًا. في الحقل **نوع الحساب المقابل**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب المقابل**، أدخل **600150**. يتم إدخال قيم الأبعاد بشكل افتراضي من الحساب. لذلك، يتم عرض قيمة **الحساب المقابل** في شكل **600150-001-023**.

### <a name="scenario-2"></a>السيناريو 2

استخدم نفس الأبعاد المالية التي قمت بتحديدها لاسم دفتر اليومية في السيناريو رقم 1. وبعد ذلك ، انتقل إلى **الحسابات المدينة\> العملاء \> كافة العملاء** ، وقم بتعريف قيم الأبعاد المالية الافتراضية للعميل US-001. حدد العميل المراد فتح تفاصيل العميل منه. في علامة التبويب **الأبعاد المالية**، احتفظ بالقيمة الافتراضية لبعد **BUSINESSUNIT** (**001**). قم بإضافة البعد **COSTCENTER**، ثم أدخل **007** كقيمة.

قم بإنشاء دفتر يومية عام جديد يستخدم اسم دفتر اليومية **GenJrn**. في علامة التبويب **الأبعاد المالية**، قم بتغيير قيمه **BUSINESSUNIT** الافتراضية من **001** إلى **002**.

انتقل إلى **البنود**. في الحقل **نوع الحساب**، حدد **العميل** ، ثم في الحقل **الحساب**، أدخل **US-001**. لعرض الأبعاد المالية لأنواع الحسابات غير دفتر الأستاذ، حدد **الأبعاد المالية \> الحساب**. يتم إدخال الإدخالات الافتراضية التالية لقيم الأبعاد المالية:

- **BUSINESSUNIT:** 002 - يتم الحصول على الإدخال الافتراضي من رأس دفتر اليومية. لا يتم إدخال القيمة **001** بشكل افتراضي من العميل US-001، نظرًا لأنه قد تم إدخال قيمة افتراضية بالفعل.
- **COSTCENTER:** 007 - يتم أخذ الإدخال الافتراضي من إعداد العميل US-001.
- **DEPARTMENT:** 024 - يتم الحصول على الإدخال الافتراضي من رأس دفتر اليومية.

في **نوع الحساب المقابل**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب المقابل**، أدخل **600150**. يتم إدخال قيم الأبعاد المالية التالية على السطر:

- **BUSINESSUNIT:** 002 - يتم أخذ الإدخال الافتراضي من الأبعاد المالية للحساب. (تم الإدخال بشكل افتراضي في الأساس من رأس دفتر اليومية.)
- **DEPARTMENT:** 024 - يتم أخذ الإدخال الافتراضي من الأبعاد المالية للحساب. (تم الإدخال بشكل افتراضي في الأساس من رأس دفتر اليومية.)
- **COSTCENTER:** 007 - يتم أخذ الإدخال الافتراضي من الأبعاد المالية للحساب. (تم الإدخال بشكل افتراضي في الأساس من العميل.)

### <a name="scenario-3"></a>السيناريو 3

في نفس دفتر اليومية الذي استخدمته للسيناريو 2، أضف بندًا جديدًا. في الحقل **نوع الحساب**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب**، أدخل **170150**. قم بمسح قيم الأبعاد الافتراضية بحيث يظل 170150 الحساب الرئيسي فقط. في الحقل **نوع الحساب المقابل**، حدد **العميل** ، ثم في الحقل **الحساب المقابل**، أدخل **US-001**. يتم إدخال الإدخالات الافتراضية التالية لقيم الأبعاد المالية:

- **BUSINESSUNIT:** 002 - يتم أخذ الإدخال الافتراضي من رأس دفتر اليومية، نظرا لأن قيمة بُعد الحساب فارغة. لا يتم إدخال القيمة **001** بشكل افتراضي من العميل US-001، نظرًا لأنه قد تم أخذ قيمة افتراضية بالفعل من رأس دفتر اليومية. إذا تركت القيمة **BUSINESSUNIT** بشكل متعمد فارغة، فيجب أيضًا إزالة البُعد المالي في الحساب المقابل.
- **COSTCENTER:** 007 - يتم أخذ الإدخال الافتراضي من العميل US-001، لأن قيمة بعد الحساب وقيمة بعد رأس دفتر اليومية فارغة. إذا تركت القيمة **COSTCENTER** بشكل متعمد فارغة، فيجب أيضًا إزالة البُعد المالي في الحساب المقابل.
- **DEPARTMENT:** 024 - يتم أخذ الإدخال الافتراضي من رأس دفتر اليومية، نظرًا لأن قيمة بُعد الحساب فارغة. إذا تركت القيمة **DEPARTMENT** بشكل متعمد فارغة، فيجب أيضًا إزالة البُعد المالي في الحساب المقابل.

### <a name="scenario-4"></a>السيناريو 4

استخدم نفس قيم الأبعاد المالية الافتراضية التي قمت بتحديدها لاسم دفتر اليومية والعميل في السيناريوهات 1 و2. بعد ذلك، قم بتحديد قيمة بعد ثابت لبعد **BUSINESSUNIT** في الحساب الرئيسي 170150. انتقل إلى **دفتر الأستاذ العام \> دليل الحسابات \> الحسابات \> الحسابات الرئيسية**. في حقل **الحساب الرئيسي**، حدد **170150**، ثم في علامة التبويب **تجاوزات الكيان القانوني**، حدد **إضافة**. حدد **USMF** ككيان قانوني، ثم حدد **إضافة**. حدد ذلك السجل ، ثم حدد **الأبعاد الافتراضية**. قم بتغيير بعد **BUSINESSUNIT** إلى **قيمه ثابتة**، ثم أدخل **003** كقيمة.

قم بإنشاء دفتر يومية عام جديد يستخدم اسم دفتر اليومية **GenJrn**. في علامة التبويب **الأبعاد المالية**، قم بإزالة كافة قيم الأبعاد الافتراضية.

انتقل إلى **البنود**. في الحقل **نوع الحساب**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب**، أدخل **170150**. ثم حدد مفتاح **علامة التبويب** للخروج من الحقل. يتم إدخال قيم الأبعاد من الحساب بشكل افتراضي من إعداد الحساب الرئيسي للحساب 170150. لذلك، يتم عرض قيمة **الحساب** في شكل **170150-003-**.

قم بتغيير قيمة **الحساب** إلى **170150-004-**. **لا تمنع وظيفة دفتر اليومية تغيير قيمة بعد ثابت.** أدخل إما مبلغًا مدينًا أو مبلغًا دائنًا. في الحقل **نوع الحساب المقابل**، حدد **دفتر الأستاذ** ، ثم في الحقل **الحساب المقابل**، أدخل **170250**. يتم إدخال قيمة البُعد المالي 004 كقيمة افتراضية من الحساب. ثم قم بترحيل المستند. في دفتر اليومية، حدد **الإيصال**. لاحظ أنه تم إرجاع قيمة **BUSINESSUNIT** إلى قيمة البُعد الثابت، **003** أثناء الترحيل.

عند الرجوع إلى الإيصال الموجود في دفتر اليومية ، **لا** يعكس البعد **BUSINESSUNIT** قيمة البعد الثابت. ويكون لها دائمًا القيمة التي تم عرضها على الشاشة قبل الترحيل. لا تقوم عملية الترحيل بتغيير أي شيء يتم إدخاله على الإيصال. يتم تغيير إدخال المحاسبة فقط أثناء الترحيل.

## <a name="developer-notes"></a>ملاحظات المطور

إذا كنت مطورًا وترغب في النظر إلى التعليمات البرمجية الخاصة بعملية الافتراضي، راجع الطرق التالية:

- **LedgerJournalEngine.accountModified()** - تعد هذه الطريقة نقطة الإدخال الرئيسية لعملية الافتراضية لبعد الحساب الأساسي التي تعد قياسية لكافة دفاتر اليومية (والتي تم تجاوزها بواسطة بعض أنواع دفاتر اليومية).
- **LedgerJournalEngine.offsetAccountModified()** - تعد هذه الطريقة نقطة الإدخال الرئيسية لعملية الحساب الافتراضي للبعد المقابل للحساب.
