---
title: "اعتمادات متحرك، فاتورة"
description: "تتيح إمكانيات الجوال في Microsoft Dynamics 365 لعمليات مستخدم أعمال تصميم التجارب المحمولة. للسيناريوهات المتقدمة، النظام الأساسي أيضا المطورين توسيع القدرات كما الذي ترغب فيه. أنجع وسيلة للتعرف على بعض المفاهيم الجديدة على الهاتف الجوال للانتقال خلال عملية تصميم بعض السيناريوهات. هذا الموضوع تهدف إلى توفير نهج عملي لتصميم السيناريوهات المحمول بأخذ اعتمادات المحمول مثل حالة استخدام فاتورة المورد. من المفترض أن يساعد هذا الموضوع تصميم التباينات الأخرى من السيناريوهات ويمكن أيضا تطبيقها على السيناريوهات الأخرى التي لا علاقة لها بفواتير المورد."
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, IT Pro
ms.search.scope: Operations, Core
ms.custom: 262034
ms.assetid: 9db38b3f-26b3-436e-8449-7ff243568a18
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
translationtype: Human Translation
ms.sourcegitcommit: c8c96dc9705688308dd4a5c720700ddc17657d75
ms.openlocfilehash: 30229c0d24aed0bd927993b9af76b32d9bb073ee
ms.lasthandoff: 03/31/2017


---

# <a name="mobile-invoice-approvals"></a>اعتمادات متحرك، فاتورة

تتيح إمكانيات الجوال في Microsoft Dynamics 365 لعمليات مستخدم أعمال تصميم التجارب المحمولة. للسيناريوهات المتقدمة، النظام الأساسي أيضا المطورين توسيع القدرات كما الذي ترغب فيه. أنجع وسيلة للتعرف على بعض المفاهيم الجديدة على الهاتف الجوال للانتقال خلال عملية تصميم بعض السيناريوهات. هذا الموضوع تهدف إلى توفير نهج عملي لتصميم السيناريوهات المحمول بأخذ اعتمادات المحمول مثل حالة استخدام فاتورة المورد. من المفترض أن يساعد هذا الموضوع تصميم التباينات الأخرى من السيناريوهات ويمكن أيضا تطبيقها على السيناريوهات الأخرى التي لا علاقة لها بفواتير المورد.

<a name="prerequisites"></a>المتطلبات الأساسية
-------------

| المتطلب الأساسي                                                                                            | ‏‏الوصف                                                                                                                                                          |
|---------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| قبل قراءة دليل المحمول                                                                                |(/dynamics365/العمليات/dev-itpro/المحمول-تطبيقات/#بيييجفيديجز)                                                                                                  |
| ديناميكيات 365 للعمليات                                                                             | تحديث بيئة يحتوي Microsoft Dynamics 365 لعمليات الإصدار 1611 و Microsoft Dynamics لعمليات النظام الأساسي 3 (تشرين الثاني/نوفمبر 2016)                   |
| تثبيت الإصلاح العاجل 3204341 كيلو بايت.                                                                              | خطأ تسجيل مسجل المهام أمرين إغلاق القائمة المنسدلة مربعات الحوار يتم تضمين هذا في 365 القوى المحركة لعملية تحديث النظام الأساسي 3 (تشرين الثاني/نوفمبر عام 2016 التحديث) |
| تثبيت الإصلاح العاجل 3207800 كيلو بايت.                                                                              | يتيح هذا الإصلاح العاجل المرفقات التي سيتم عرضها على العميل المحمول يتم تضمين هذا في 365 القوى المحركة لعملية تحديث النظام الأساسي 3 (تشرين الثاني/نوفمبر عام 2016 التحديث).           |
| تثبيت الإصلاح العاجل 3208224 كيلو بايت.                                                                              | التعليمات البرمجية للتطبيق لتطبيق الموافقة فاتورة المورد محمول يتم تضمين هذا في تطبيق Microsoft Dynamics AX 7.0.1 (أيار/مايو 2016).                          |
| الروبوت أو دائرة الرقابة الداخلية أو جهاز Windows الذي يحتوي على التطبيق المحمول مثبت لديناميات 365 للعمليات | البحث عن التطبيق في مخزن التطبيق المناسب.                                                                                                                     |

## <a name="introduction"></a>مقدمة
تتطلب اعتمادات المحمول لفواتير المورد ثلاثة الإصلاحات العاجلة الموضحة في قسم "المتطلبات المسبقة". لا توفر هذه الإصلاحات العاجلة مساحة عمل لاعتمادات الفاتورة. لمعرفة ما مساحة عمل في سياق المتنقلة، قراءة المحمول الكتيب المذكور في قسم "المتطلبات المسبقة". يجب تصميم مساحة الموافقات على الفاتورة. 

ينظم كل مؤسسة ويعرف به العملية التجارية الخاصة بفواتير المورد بشكل مختلف. قبل تصميم تجربة الجوال لاعتمادات فاتورة المورد، يجب مراعاة الجوانب التالية من العملية التجارية. والفكرة استخدام نقاط البيانات هذه إلى أقصى حد ممكن من تحسين خبرة المستخدم على الجهاز.

-   ما هي الحقول من رأس الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟
-   ما هي الحقول من بنود الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟
-   عدد بنود الفاتورة الموجودة في فاتورة؟ تطبيق القاعدة 80/20 هنا، وتحسين 80 في المائة.
-   المستخدمين تريد أن ترى التوزيعات المحاسبية (الفاتورة الترميز) على الجهاز المحمول خلال عمليات الاستعراض؟ إذا كان الجواب على هذا السؤال بالإيجاب، النظر في المسائل التالية:
    -   يوجد عدد من التوزيعات المحاسبية (السعر الممتد، وضريبة المبيعات والمصاريف، انقسامات وهكذا) لبند فاتورة؟ مرة أخرى، يتم تطبيق القاعدة 80/20.
    -   الفواتير كما لم التوزيعات المحاسبية على رأس الفاتورة؟ إذا كان الأمر كذلك، يجب أن هذه التوزيعات المحاسبية تكون متوفرة على الجهاز؟

> [!NOTE]
> لا يفسر هذا الموضوع كيفية تحرير التوزيعات المحاسبية، لأن هذه الوظيفة غير معتمدة حاليا لسيناريوهات المحمول.

-   ستكون بحاجة المستخدمين لمشاهدة مرفقات للفاتورة على الجهاز؟

تصميم تجربة الجوال لاعتمادات الفاتورة سوف تختلف وفقا للإجابة على هذه الأسئلة. يهدف إلى تحسين خبرة المستخدم الخاصة بعملية الأعمال على الهاتف النقال في مؤسسة. في بقية هذا الموضوع، سوف ننظر الاختلافات بين سيناريو استناداً إلى مختلف الردود على الأسئلة السابقة. 

كتوجيه عام، عندما تعمل مع مصمم محمول، تأكد من "نشر التغييرات لتجنب فقدان التحديثات.

## <a name="designing-a-simple-invoice-approval-scenario-for-contoso"></a>تصميم سيناريو موافقة فاتورة بسيطة للتعمير
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>سمة السيناريو</th>
<th>الإجابة</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ما هي الحقول من رأس الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟</td>
<td><ol>
<li>اسم المورّد</li>
<li>إجمالي الفاتورة</li>
<li>حساب الفاتورة</li>
<li>رقم الفاتورة</li>
<li>تاريخ الفاتورة</li>
<li>وصف الفاتورة</li>
<li>تاريخ الاستحقاق</li>
<li>عملة الفاتورة</li>
</ol></td>
</tr>
<tr class="even">
<td>ما هي الحقول من بنود الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟</td>
<td><ol>
<li>فئة التدبير</li>
<li>الكمية</li>
<li>سعر الوحدة</li>
<li>المبلغ الصافي للسطر</li>
<li>مبلغ 1099</li>
</ol></td>
</tr>
<tr class="odd">
<td>عدد بنود الفاتورة الموجودة في فاتورة؟ تطبيق القاعدة 80/20 هنا، وتحسين 80 في المائة.</td>
<td>1</td>
</tr>
<tr class="even">
<td>المستخدمين تريد أن ترى التوزيعات المحاسبية (الفاتورة الترميز) على الجهاز المحمول خلال عمليات الاستعراض؟</td>
<td>نعم</td>
</tr>
<tr class="odd">
<td>يوجد عدد من التوزيعات المحاسبية (السعر الممتد، ضريبة المبيعات والمصاريف، وهكذا) لبند فاتورة؟ مرة أخرى، يتم تطبيق القاعدة 80/20.</td>
<td>السعر الممتد: ضريبة المبيعات 2: التكاليف 0: 0</td>
</tr>
<tr class="even">
<td>الفواتير كما لم التوزيعات المحاسبية على رأس الفاتورة؟ إذا كان الأمر كذلك، يجب أن هذه التوزيعات المحاسبية تكون متوفرة على الجهاز؟</td>
<td>غير مستخدم</td>
</tr>
<tr class="odd">
<td>ستكون بحاجة المستخدمين لمشاهدة مرفقات للفاتورة على الجهاز؟</td>
<td>نعم</td>
</tr>
</tbody>
</table>

### <a name="create-the-workspace"></a>إنشاء مساحة العمل

1.  في مستعرض، فتح 365 ديناميات عمليات وتسجيل الدخول.
2.  بعد أن قمت بتسجيل الدخول، إلحاق **& وضع المحمول =** إلى URL كما هو موضح في المثال التالي، وتحديث الصفحة: https://&lt;يورورل&gt;/؟ cmp = أوسمف & مي = ديفاولتداشبوارد**& وضع = المحمول**
3.  انقر فوق **إعدادات** زر (المعدات) في الجزء العلوي الأيمن من الصفحة، ومن ثم انقر فوق **التطبيق المحمول**. مصمم التطبيق المحمول يجب أن تظهر تماما كما يظهر مسجل المهام.
4.  انقر فوق **إضافة** لإنشاء مساحة عمل جديدة. على سبيل المثال، اسم مساحة العمل **الموافقات الخاصة بي**.
5.  أدخل وصفًا.
6.  حدد لون مساحة عمل. سيتم استخدام مساحة اللون للنمط العام لتجربة الجوال لمساحة العمل هذه.
7.  حدد رمزاً لمساحة العمل.
8.  انقر فوق **الانتهاء**
9.  انقر فوق **نشر مساحة** لحفظ التغييرات

### <a name="vendor-invoices-assigned-to-me"></a>فواتير المورَّد المعينة إلي

هي الصفحة الأولى المتنقلة التي يجب تصميم قائمة الفواتير التي تم تعيينها للمستخدم بالاستعراض. لتصميم هذه الصفحة المحمول، استخدم **فيندموبيلينفويسيسيجندتوميليستباجي** صفحة في ديناميات 365 للعمليات. قبل إكمال هذا الإجراء، تأكد من تعيين ذلك فاتورة مورد واحد على الأقل إليك للمراجعة، ووجود بند الفاتورة توزيعات اثنين. هذا الإعداد يفي بمتطلبات هذا السيناريو.

1.  في 365 Dynamics ل URL العمليات، استبدل اسم عنصر القائمة مع **فيندموبيلينفويسيسيجندتوميليستباجي** لفتح النسخة المحمولة من **المعلقة فواتير المورد المعينة إلى** صفحة قائمة في **الحسابات الدائنة** الوحدة النمطية. اعتماداً على عدد الفواتير التي قمت في النظام بتعيينها إليك، ستظهر هذه الصفحة تلك الفواتير. للبحث عن فاتورة معينة، يمكنك استخدام عامل التصفية على اليسار. ومع ذلك، لا نطلب فاتورة معينة على سبيل المثال. نطلب فقط بعض الفاتورة المعينة لك التي سوف تسمح لك بتصميم صفحة الأجهزة المحمولة. الصفحات الجديدة المتوفرة تم تصميمها خصيصا لوضع سيناريوهات المحمول لفاتورة المورد. ولذلك، يجب استخدام هذه الصفحات. يجب أن يشابه محدد موقع المعلومات URL التالي، وبعد إدخال، يجب أن تظهر الصفحة الذي يظهر في الرسم التوضيحي: https://&lt;يورورل&gt;/؟ cmp = أوسمف & مي =**فيندموبيلينفويسيسيجندتوميليستباجي**& وضع المحمول = [![المعلقة فواتير المورد المعينة إلى الصفحة](./media/mobile-invoice-approvals01-1024x281.png)](./media/mobile-invoice-approvals01.png)
2.  انقر فوق **إعدادات** زر (المعدات) في الجزء العلوي الأيمن من الصفحة، ومن ثم انقر فوق **التطبيق المحمول**
3.  حدد مساحة العمل الخاصة بك ثم انقر فوق **تحرير**
4.  انقر فوق **صفحة إضافة** لإنشاء الصفحة الأولى المتنقلة.
5.  أدخل اسماً، مثل **فواتير المورد الخاص بي**، والوصف، مثل **فواتير المورد المعينة إلى للمراجعة**.
6.  Click **Done**.
7.  في مصمم المحمولة، على **حقول** ، انقر فوق **تحديد حقول**. يجب أن تشبه الأعمدة في صفحة قائمة الرسم التوضيحي التالي. [![الأعمدة على فواتير معلقة المعينة إلى الصفحة](./media/mobile-invoice-approvals02-1024x117.png)](./media/mobile-invoice-approvals02.png)
8.  إضافة الأعمدة المطلوبة من صفحة القائمة التي يجب عرضها للمستخدم في صفحة الأجهزة المحمولة. الترتيب الذي تضيف هو الترتيب الذي سيتم عرض الحقول إلى المستخدم النهائي. الطريقة الوحيدة لتغيير ترتيب الحقول سيتم عن طريق إعادة تحديد كافة الحقول. استناداً إلى المتطلبات لهذا السيناريو، الحقول الثمانية التالية مطلوبة. إلا أن بعض المستخدمين قد تعتبر الحقول الثمانية الكثير من المعلومات للحصول على جهاز محمول. ولذلك، سنوضح أهم الحقول في طريقة عرض القائمة متنقلة. ستظهر الحقول المتبقية في عرض التفاصيل التي سوف نقوم بتصميم لاحقاً. الآن، سوف نقوم بإضافة الحقول التالية. انقر فوق علامة الجمع (**+**) في هذه الأعمدة المراد إضافتها إلى صفحة الأجهزة المحمولة.
    1.  اسم المورّد
    2.  إجمالي الفاتورة
    3.  حساب الفاتورة
    4.  رقم الفاتورة
    5.  تاريخ الفاتورة

    بعد إضافة الحقول، يجب أن تشبه صفحة متحركة في التوضيح التالي. [![الصفحة بعد إضافة الحقول](./media/mobile-invoice-approvals03.png)](./media/mobile-invoice-approvals03.png)
9.  يجب أيضا إضافة الأعمدة التالية الآن، حيث أن علينا تمكين إجراءات سير العمل فيما بعد.
    1.  إظهار إكمال المهمة
    2.  إظهار تفويض المهمة
    3.  إظهار المهمة الاستدعاء
    4.  إظهار رفض المهمة
    5.  إظهار طلب إكمال المهمة
    6.  إظهار المهمة إعادة إرسال

10. انقر فوق **تم** لإنهاء وضع التحرير.
11. انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
12. انقر فوق **نشر مساحة** لحفظ العمل الخاص بك.
13. تمكين **عرض الفاتورة الإجمالي في انتظار المورد فواتير قائمة** في نموذج محددات الحسابات الدائنة ضمن **الفاتورة**. لاحظ أنه فقط من خلال تمكين هذه المعلمة، إجماليات الفواتير سيتم حساب لعرضه في صفحة قائمة فواتير المورد المعلقة. هذا قدرة جديدة كجزء من الإصلاح السريع الاستدراكية 3208224.

### <a name="vendor-invoice-details"></a>تفاصيل فاتورة المورد

لتصميم الصفحة تفاصيل الفاتورة للجوال، استخدم **فيندموبيلينفويسهيديرديتيلس** صفحة في ديناميات 365 للعمليات. لاحظ أنه، استناداً إلى عدد الفواتير التي لديك في النظام، تعرض هذه الصفحة الفواتير الأقدم (الفاتورة الذي تم إنشاؤه مسبقاً). للبحث عن فاتورة معينة، يمكنك استخدام عامل التصفية على اليسار. ومع ذلك، لا نطلب فاتورة معينة على سبيل المثال. فقط نطلب بعض بيانات فاتورة كي يمكننا تصميم صفحة الأجهزة المحمولة. [![صفحة سير العمل](./media/mobile-invoice-approvals04-1024x425.png)](./media/mobile-invoice-approvals04.png)

1.  في 365 Dynamics ل URL العمليات، استبدل اسم عنصر القائمة مع **فيندموبيلينفويسهيديرديتيلس** لفتح النموذج
2.  فتح مصمم المحمول من **إعدادات** زر (المعدات).
3.  انقر فوق **تحرير** زر لبدء وضع التحرير في مساحة العمل.
4.  حدد * * فواتير المورد الخاص بي * * الصفحة التي قمت بإنشائها سابقا، ومن ثم انقر فوق **تحرير**.
5.  على **حقول** ، انقر فوق **شبكة** عنوان العمود.
6.  انقر فوق **خصائص**&gt;**صفحة إضافة**. **ملاحظة:** عندما تقوم بالنقر **شبكة** العنوان وإضافة صفحة العلاقة مع تفاصيل إنشاء الصفحة تلقائياً.
7.  أدخل عنوان صفحة، مثل **تفاصيل الفاتورة**، والوصف، مثل **عرض رأس الفاتورة وتفاصيل بند**.
8.  انقر فوق **تحديد حقول**. لاحظ أن، الترتيب الذي تضيف الترتيب الذي سيتم عرض الحقول إلى المستخدم النهائي. الطريقة الوحيدة لتغيير ترتيب الحقول سيتم عن طريق إعادة تحديد كافة الحقول.
9.  إضافة الحقول التالية من الرأس، استناداً إلى متطلبات هذا السيناريو:
    1.  اسم المورّد
    2.  إجمالي الفاتورة
    3.  حساب الفاتورة
    4.  رقم الفاتورة
    5.  تاريخ الفاتورة
    6.  وصف الفاتورة
    7.  تاريخ الاستحقاق
    8.  عملة الفاتورة

10. إضافة الحقول التالية من خطوط الشبكة في الصفحة:
    1.  فئة التدبير
    2.  الكمية
    3.  سعر الوحدة
    4.  المبلغ الصافي للسطر
    5.  مبلغ 1099

11. بعد إضافة كافة الحقول من الخطوتين السابقتين، انقر فوق **تم**. يجب أن تشبه الصفحة في التوضيح التالي. [![الصفحة بعد إضافة الحقول](./media/mobile-invoice-approvals05.png)](./media/mobile-invoice-approvals05.png)
12. انقر فوق **تم** لإنهاء وضع التحرير.
13. انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
14. انقر فوق **نشر مساحة** لحفظ العمل الخاص بك

### <a name="workflow-actions"></a>إجراءات سير العمل

لإضافة إجراءات سير العمل، استخدم **فيندموبيلينفويسهيديرديتيلس** صفحة في ديناميات 365 للعمليات. لفتح هذه الصفحة، استبدل اسم عنصر القائمة في URL، كما فعلت سابقا. ثم فتح مصمم المحمول من **إعدادات** زر (المعدات). اتبع هذه الخطوات لإضافة إجراءات سير العمل في صفحة التفاصيل.

1.  انقر فوق **تحرير** زر لبدء وضع التحرير في مساحة العمل.
2.  حدد **تفاصيل الفاتورة** الصفحة التي قمت بإنشائها سابقا، ومن ثم انقر فوق **تحرير**.
3.  على **إجراءات** ، انقر فوق **إضافة إجراء**.
4.  أدخل عنوان إجراء، مثل **قبول**، والوصف، مثل **اعتماد الفاتورة**. لاحظ أن عنوان الإجراء الذي تقوم بإدخاله هنا يصبح اسم الإجراء الذي يظهر للمستخدم في التطبيق المحمول.
5.  Click **Done**.
6.  انقر فوق **تحديد حقول**.
7.  تمر عملية سير العمل **فيندموبيلينفويسهيديرديتيلس** الصفحة وإكمال الإجراءات التي تريد تسجيلها. تأكد من إدخال التعليقات سير العمل أثناء هذه العملية، حيث أنه يتم أيضا تضمين حقل تعليقات في تجربة الجوال.
8.  بعد أن يتم تشغيل سير العمل، انقر فوق **تم** لإكمال مهمة تحديد الحقول.
9.  انقر فوق **تم** لإنهاء وضع التحرير.
10. انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
11. انقر فوق **نشر مساحة** لحفظ العمل الخاص بك
12. كرر الخطوات من 3 إلى 11 لتسجيل كافة إجراءات سير العمل المطلوبة. لاحظ، أنه مطلب لفواتير المعينة لك في حالة توفير إجراءات سير العمل التي ستقوم بتصميم ل.
13. افتح المفكرة أو Microsoft Visual Studio، ثم لصق التعليمات البرمجية التالية. حفظ الملف كملف.js. هذه التعليمات البرمجية بأمرين:
    1.  فإنه يخفي الأعمدة الإضافية المرتبطة بسير العمل التي نقوم بإضافتها مسبقاً في صفحة قائمة المحمول. وأضاف لدينا هذه الأعمدة حيث أن لديه هذه المعلومات في سياق التطبيق والقيام بالخطوة التالية.
    2.  استناداً إلى خطوة سير العمل نشطاً، فإنه يطبق منطق لإظهار تلك الإجراءات.

لاحظ أنه يجب أن يكون اسم الصفحات وعناصر التحكم الأخرى الموجودة في التعليمات البرمجية JS نفسه من مساحة العمل.

1.  الدالة الرئيسية (metadataService، داتاسيرفيسي، كاتشيسيرفيسي، $q) {العودة {appInit: الدالة (أبميتاداتا) {//إخفاء عناصر التحكم التي يجب أن تكون موجودة، ولكنه غير ظاهر metadataService.configureControl ('الخاصة بي--فواتير المورد،' شوواكسيبت '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووابروفي'، {مخفية: true})؛ metadataService.configureControl ('الخاصة بي--فواتير المورد،' شووريجيكت '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووديليجاتي'، {مخفية: true})؛ metadataService.configureControl ('الخاصة بي--فواتير المورد،' شووريقويستشانجي '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووريكال' {مخفية: true})؛ metadataService.configureControl ('بي--فواتير المورد،' شووكومبليتي '، {مخفية: true})؛ metadataService.configureControl (' {الخاصة بي--فواتير المورد، 'شووريسوبميت'، مخفية: صحيح})؛ }، باجينيت: وظيفة (باجيميتاداتا، والمعلمات) {إذا (pageMetadata.Name = = 'تفاصيل الفاتورة') {//الخطوة بناء على سير إجراءات سير العمل إظهار/إخفاء metadataService.configureAction ('قبول' {مرئية: true})؛ metadataService.configureAction ('قبول' {مرئية: true})؛ metadataService.configureAction ('رفض' {مرئية: true})؛ metadataService.configureAction ('تفويض' {مرئية: true})؛ metadataService.configureAction ('طلب تغيير'، {مرئية: true})؛ metadataService.configureAction ('استدعاء' {مرئية: true})؛ metadataService.configureAction ('اكتمال' {مرئية: true})؛ metadataService.configureAction (إعادة 'إرسال' {مرئية: true})؛

                       var entityContextParts = params.pageContext.split(':');
                       var data = dataService.getEntityData(entityContextParts[0], entityContextParts[1]);

                       var acceptControl = data.getPropertyValue('VendInvoiceInfoTable/showAccept');
                       var approveControl = data.getPropertyValue('VendInvoiceInfoTable/showApprove');
                       var rejectControl = data.getPropertyValue('VendInvoiceInfoTable/showReject');
                       var delegateControl = data.getPropertyValue('VendInvoiceInfoTable/showDelegate');
                       var requestChangeControl = data.getPropertyValue('VendInvoiceInfoTable/showRequestChange');
                       var recallControl = data.getPropertyValue('VendInvoiceInfoTable/showRecall');
                       var completeControl = data.getPropertyValue('VendInvoiceInfoTable/showComplete');
                       var resubmitControl = data.getPropertyValue('VendInvoiceInfoTable/showResubmit');

                       var showAcceptControl = Boolean(acceptControl == 1);
                       var showApproveControl = Boolean(approveControl == 1);
                       var showRejectControl = Boolean(rejectControl == 1);
                      var showDelegateControl = Boolean(delegateControl == 1);
                       var showRequestChangeControl = Boolean(requestChangeControl == 1);
                       var showRecallControl = Boolean(recallControl == 1);
                       var showCompleteControl = Boolean(completeControl == 1);
                       var showResubmitControl = Boolean(resubmitControl == 1);

                       metadataService.configureAction('Accept', { visible: showAcceptControl });
                       metadataService.configureAction('Approve', { visible: showApproveControl });
                       metadataService.configureAction('Reject', { visible: showRejectControl });
                       metadataService.configureAction('Delegate', { visible: showDelegateControl });
                       metadataService.configureAction('Request-change', { visible: showRequestChangeControl });
                       metadataService.configureAction('Recall', { visible: showRecallControl });
                       metadataService.configureAction('Complete', { visible: showCompleteControl });
                     metadataService.configureAction('Resubmit', { visible: showResubmitControl });
                   }
                 },
           };
        }

2.  تحميل ملف التعليمات البرمجية إلى مساحة العمل عن طريق تحديد **منطق** علامة التبويب
3.  انقر فوق **تم** لإنهاء وضع التحرير.
4.  انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
5.  انقر فوق **نشر مساحة** لحفظ العمل الخاص بك

### <a name="vendor-invoice-attachments"></a>مرفقات فاتورة المورد

1.  انقر فوق **إعدادات** زر (المعدات) في الجزء العلوي الأيمن من الصفحة، ومن ثم انقر فوق **التطبيق المحمول**
2.  انقر فوق **تحرير** زر لبدء وضع التحرير في مساحة العمل.
3.  حدد * * تفاصيل الفاتورة * * الصفحة التي قمت بإنشائها سابقا، ومن ثم انقر فوق **تحرير**.
4.  تعيين **إدارة المستندات** الخيار إلى **نعم** كما هو موضح أدناه. **ملاحظة:** إذا كانت هناك أية متطلبات إظهار المرفقات على جهاز محمول، يمكنك ترك هذا الخيار تعيين إلى **لا**، وهو الإعداد الافتراضي.
5.  [![دوكماناجيمينت](./media/docmanagement-216x300.png)](./media/docmanagement.png)
6.  انقر فوق **تم** لإنهاء وضع التحرير.
7.  انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
8.  انقر فوق **نشر مساحة** لحفظ العمل الخاص بك

### <a name="vendor-invoice-line-distributions"></a>توزيعات بند فاتورة المورد

متطلبات هذا السيناريو تأكيد أنه يكون هناك سوى خط مستوى التوزيعات وأنه سيتوفر فاتورة سطر واحد فقط. نظراً لأن هذا السيناريو بسيطة، يجب أن يكون أسلوب عمل المستخدم على الجهاز المحمول بسيط لا يكون للمستخدم التصفح لأسفل مستويات متعددة لعرض التوزيعات. تتضمن فواتير المورد في 365 ديناميات عمليات خيار عرض كافة توزيعات من رأس الفاتورة. هذه التجربة ما نحتاجه لسيناريو المحمول. ولذلك، سوف نستخدم **فيندموبيلينفويسيلديستريبوتيونتري** صفحة لتصميم هذا الجزء من السيناريو المحمول. 

> [!NOTE] 
> معرفة المتطلبات يساعدنا على تحديد أي صفحة محددة لاستخدامه وكيف يتم تماما لتحسين تجربة الجوال للمستخدم عندما نقوم بتصميم السيناريو. في السيناريو الثاني، سوف نستخدم صفحة مختلفة لعرض التوزيعات، بسبب اختلاف متطلبات ذلك السيناريو.

1.  في ال URL، استبدل اسم عنصر القائمة، كما فعلت من قبل. يجب أن تشبه الصفحة التي تظهر في التوضيح التالي. [![الصفحة كافة توزيعات](./media/mobile-invoice-approvals06.png)](./media/mobile-invoice-approvals06.png)
2.  فتح مصمم المحمول من **إعدادات** زر (المعدات).
3.  انقر فوق **تحرير** زر لبدء وضع التحرير في مساحة العمل. **ملاحظة:** سوف ترى صفحتين جديدتين تم إنشاؤها تلقائياً. يقوم النظام بإنشاء هذه الصفحات نظراً لتشغيل إدارة المستندات في المقطع السابق. يمكنك تجاهل هذه الصفحات الجديدة.
4.  انقر فوق **صفحة إضافة**.
5.  أدخل عنوان صفحة، مثل **المحاسبة عرض**، والوصف، مثل **طريقة العرض في حساب الفاتورة**.
6.  Click **Done**.
7.  على **حقول** ، انقر فوق **تحديد حقول**حدد الحقول التالية من صفحة التوزيعات وثم انقر فوق **إجراء**:
    1.  المبلغ
    2.  العملة
    3.  حساب دفتر الأستاذ

> [!NOTE] 
> أننا لم تحدد **وصف** عمود من شبكة التوزيع، نظراً لأن أقرت متطلبات هذا السيناريو أن سعر موسع هو المبلغ الوحيد الذي سيكون هناك توزيعات. لذلك، لن تتطلب المستخدم حقل آخر لتحديد نوع المبلغ الذي يقضي بالتوزيع. ومع ذلك، في السيناريو التالي، ونحن **سوف** استخدام هذه المعلومات لتحديد متطلبات هذا السيناريو أن الأنواع الأخرى مبلغ التوزيعات (على سبيل المثال، ضريبة المبيعات).
8.  انقر فوق **تم** لإنهاء وضع التحرير.
9.  انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
10. انقر فوق **نشر مساحة** لحفظ العمل الخاص بك

**ملاحظة:****المحاسبة عرض** صفحة متحركة غير مرتبطة حاليا بأي من صفحات المحمول التي وضعناها حتى الآن. لأنه يجب أن يكون المستخدم قادراً على الانتقال إلى **المحاسبة عرض** صفحة من **تفاصيل الفاتورة** صفحة على جهاز محمول، يجب أن نوفر التنقل من **تفاصيل الفاتورة** الصفحة إلى **المحاسبة عرض** الصفحة. نقرر أن هذا التنقل باستخدام منطق إضافي خلال JavaScript.

1.  فتح ملف.js الذي أنشأته مسبقاً، وإضافة بنود المميزة في التعليمات البرمجية التالية. هذه التعليمات البرمجية بأمرين:
    1.  يساعد على ضمان أن لا يمكن للمستخدمين الانتقال مباشرة من مساحة العمل **المحاسبة عرض** الصفحة.
    2.  كما تقوم بإنشاء عنصر تحكم تنقل من **تفاصيل الفاتورة** الصفحة **المحاسبة عرض** الصفحة.

> [!NOTE] 
> يجب أن يكون اسم الصفحات وعناصر التحكم الأخرى الموجودة في التعليمات البرمجية JS نفسه من مساحة العمل.

1.  الدالة الرئيسية (metadataService، داتاسيرفيسي، كاتشيسيرفيسي، $q) {العودة {appInit: الدالة (أبميتاداتا) {//إخفاء عناصر التحكم التي يجب أن تكون موجودة، ولكنه غير ظاهر metadataService.configureControl ('الخاصة بي--فواتير المورد،' شوواكسيبت '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووابروفي'، {مخفية: true})؛ metadataService.configureControl ('الخاصة بي--فواتير المورد،' شووريجيكت '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووديليجاتي'، {مخفية: true})؛ metadataService.configureControl ('الخاصة بي--فواتير المورد،' شووريقويستشانجي '، {مخفية: true})؛ metadataService.configureControl (' الخاصة بي--فواتير المورد، 'شووريكال' {مخفية: true})؛ metadataService.configureControl ('بي--فواتير المورد،' شووكومبليتي '، {مخفية: true})؛ metadataService.configureControl (' {الخاصة بي--فواتير المورد، 'شووريسوبميت'، مخفية: صحيح})؛ إخفاء صفحات غير قابل للتطبيق للجذر metadataService.hideNavigation('View-accounting') التنقل؛ الارتباط لعرض metadataService.addLink المحاسبة ('-تفاصيل الفاتورة،' المحاسبة طريقة العرض '،' عرض--التنقل مراقبة الحسابات '،' المحاسبة طريقة العرض '، true)؛ }، باجينيت: وظيفة (باجيميتاداتا، والمعلمات) {إذا (pageMetadata.Name = = 'تفاصيل الفاتورة') {//الخطوة بناء على سير إجراءات سير العمل إظهار/إخفاء metadataService.configureAction ('قبول' {مرئية: true})؛ metadataService.configureAction ('قبول' {مرئية: true})؛ metadataService.configureAction ('رفض' {مرئية: true})؛ metadataService.configureAction ('تفويض' {مرئية: true})؛ metadataService.configureAction ('طلب تغيير'، {مرئية: true})؛ metadataService.configureAction ('استدعاء' {مرئية: true})؛ metadataService.configureAction ('اكتمال' {مرئية: true})؛ metadataService.configureAction (إعادة 'إرسال' {مرئية: true})؛

                       var entityContextParts = params.pageContext.split(':');
                       var data = dataService.getEntityData(entityContextParts[0], entityContextParts[1]);

                       var acceptControl = data.getPropertyValue('VendInvoiceInfoTable/showAccept');
                       var approveControl = data.getPropertyValue('VendInvoiceInfoTable/showApprove');
                       var rejectControl = data.getPropertyValue('VendInvoiceInfoTable/showReject');
                       var delegateControl = data.getPropertyValue('VendInvoiceInfoTable/showDelegate');
                       var requestChangeControl = data.getPropertyValue('VendInvoiceInfoTable/showRequestChange');
                       var recallControl = data.getPropertyValue('VendInvoiceInfoTable/showRecall');
                       var completeControl = data.getPropertyValue('VendInvoiceInfoTable/showComplete');
                       var resubmitControl = data.getPropertyValue('VendInvoiceInfoTable/showResubmit');

                       var showAcceptControl = Boolean(acceptControl == 1);
                       var showApproveControl = Boolean(approveControl == 1);
                     var showRejectControl = Boolean(rejectControl == 1);
                       var showDelegateControl = Boolean(delegateControl == 1);
                       var showRequestChangeControl = Boolean(requestChangeControl == 1);
                       var showRecallControl = Boolean(recallControl == 1);
                       var showCompleteControl = Boolean(completeControl == 1);
                       var showResubmitControl = Boolean(resubmitControl == 1);

                       metadataService.configureAction('Accept', { visible: showAcceptControl });
                       metadataService.configureAction('Approve', { visible: showApproveControl });
                       metadataService.configureAction('Reject', { visible: showRejectControl });
                       metadataService.configureAction('Delegate', { visible: showDelegateControl });
                       metadataService.configureAction('Request-change', { visible: showRequestChangeControl });
                       metadataService.configureAction('Recall', { visible: showRecallControl });
                       metadataService.configureAction('Complete', { visible: showCompleteControl });
                       metadataService.configureAction('Resubmit', { visible: showResubmitControl });
        }
                 },
           };
        }

2.  تحميل ملف التعليمات البرمجية إلى مساحة العمل عن طريق تحديد **منطق** إلى الكتابة فوق التعليمات البرمجية السابقة
3.  انقر فوق **تم** لإنهاء وضع التحرير.
4.  انقر فوق **السابق** ثم **تم** للخروج من مساحة العمل
5.  انقر فوق **نشر مساحة** لحفظ العمل الخاص بك

### <a name="validation"></a>التحقق من الصحة

من الجهاز المحمول الخاص بك، افتح التطبيق، وتتصل 365 الديناميات الخاصة بك لمثيل عمليات. تأكد من تسجيل الدخول إلى الشركة حيث فواتير المورد المعينة إليك للمراجعة. يجب أن يكون قادراً على تنفيذ الإجراءات التالية:

-   راجع **الموافقات الخاصة بي** مساحة العمل.
-   النفاذ إلى **الموافقات الخاصة بي** مساحة ونرى **فواتير المورد الخاص بي** الصفحة.
-   النفاذ إلى **فواتير المورد الخاص بي** صفحة وعرض قائمة الفواتير التي تم تعيينها لك.
-   النفاذ إلى إحدى الفواتير، ومراجعة تفاصيل رأس الفاتورة وتفاصيل البند.
-   في صفحة "تفاصيل"، راجع ارتباط إلى المرفقات، واستخدم هذا الارتباط للانتقال إلى قائمة المرفقات وعرض المرفقات.
-   عرض ارتباط بالصفحة تفاصيل، **عرض المحاسبة** صفحة، واستخدم هذا الارتباط للانتقال إلى الصفحة التوزيعات وعرض التوزيعات.
-   في الصفحة "تفاصيل"، انقر فوق **إجراءات** القائمة في الجزء السفلي، وتنفيذ إجراءات سير العمل التي يمكن تطبيقها على خطوة سير العمل.

## <a name="designing-a-complex-invoice-approval-scenario-for-fabrikam"></a>تصميم سيناريو موافقة على فواتير معقدة لشركة الاتحاد للتصنيع
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>سمة السيناريو</th>
<th>الإجابة</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ما هي الحقول من رأس الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟</td>
<td><ol>
<li>اسم المورّد</li>
<li>مبلغ الفاتورة</li>
<li>حساب الفاتورة</li>
<li>رقم الفاتورة</li>
<li>تاريخ الفاتورة</li>
<li>وصف الفاتورة</li>
<li>تاريخ الاستحقاق</li>
<li>عملة الفاتورة</li>
</ol></td>
</tr>
<tr class="even">
<td>ما هي الحقول من بنود الفاتورة المستخدم تريد أن ترى في تجربة الجوال، وفي أي ترتيب؟</td>
<td><ol>
<li>فئة التدبير</li>
<li>الكمية</li>
<li>سعر الوحدة</li>
<li>المبلغ الصافي للسطر</li>
<li>مبلغ 1099</li>
</ol></td>
</tr>
<tr class="odd">
<td>عدد بنود الفاتورة الموجودة في فاتورة؟ تطبيق القاعدة 80/20 هنا، وتحسين 80 في المائة.</td>
<td>5</td>
</tr>
<tr class="even">
<td>المستخدمين تريد أن ترى التوزيعات المحاسبية (الفاتورة الترميز) على الجهاز المحمول خلال عمليات الاستعراض؟</td>
<td>نعم</td>
</tr>
<tr class="odd">
<td>يوجد عدد من التوزيعات المحاسبية (السعر الممتد، ضريبة المبيعات والمصاريف، وهكذا) لبند فاتورة؟ مرة أخرى، يتم تطبيق القاعدة 80/20.</td>
<td>السعر الممتد: ضريبة المبيعات 2: تكاليف 2: 2</td>
</tr>
<tr class="even">
<td>الفواتير كما لم التوزيعات المحاسبية على رأس الفاتورة؟ إذا كان الأمر كذلك، يجب أن هذه التوزيعات المحاسبية تكون متوفرة على الجهاز؟</td>
<td>غير مستخدم</td>
</tr>
<tr class="odd">
<td>ستكون بحاجة المستخدمين لمشاهدة مرفقات للفاتورة على الجهاز؟</td>
<td>نعم</td>
</tr>
</tbody>
</table>

### <a name="exercise"></a>التدريب

يمكن أن يتم الاختلافات التالية للسيناريو الأول، استناداً إلى المتطلبات للسيناريو الثاني. استخدم هذا المقطع كممارسة يمكن إكمالها لأغراض تعليمية.

1.  لمزيد من بنود الفاتورة المتوقع في السيناريو 2، تساعد التغييرات التالية على تصميم تحسين خبرة المستخدم على الجهاز المحمول:
    1.  بدلاً من عرض بنود الفاتورة على الصفحة "تفاصيل" (كما في السيناريو 1)، اختيار المستخدمين لعرض بنود في صفحة منفصلة محمول.
    2.  لأن بند فاتورة واحدة أو أكثر من المتوقع في هذا السيناريو، إذا **فيندموبيلينفويسيلديستريبوتيونتري** صفحة تستخدم في تصميم الصفحة التوزيعات للجوال (كما في السيناريو 1)، قد يكون مربكاً للمستخدم لربط خطوط للتوزيعات. ولذلك، استخدم **فيندموبيلينفويسيلينيديستريبوتيونتري** صفحة لتصميم صفحة التوزيعات.
    3.  ومن الناحية المثالية، ينبغي أن تظهر عمليات التوزيع في سياق بند فاتورة في هذا السيناريو. لذلك، تأكد من أن المستخدم النفاذ إلى خط لمشاهدة الصفحة التوزيعات. استخدام القدرة على الارتباط الصفحة لتأسيس استخلاص، تماما كما فعلت لصفحات التفاصيل ورأس في السيناريو 1.

2.  لأن نوع واحد أو أكثر من المبلغ المتوقع في عمليات التوزيع في السيناريو 2 (ضريبة المبيعات والمصاريف، وهكذا)، سيكون مفيداً لعرض الوصف الخاص بنوع المبلغ. (ونحن حذف هذه المعلومات في السيناريو 1.)

## <a name="conclusion"></a>الخاتمة
تتيح لك تصميم السيناريوهات المحمول المحسنة لمستخدم في إحدى المؤسسات أساسية منصة متنقلة وإمكانيات التطبيق. استناداً إلى الأمثلة التي تم توفيرها في هذا الموضوع، الذي حاول التباينات الأخرى وإنشاء خبرات مختلفة تلبي حاجة معينة.


