---
title: "نظرة عامة حول ترقية دفتر الإهلاك"
description: "في الإصدارات السابقة، كانت هناك مفهومين تقييم الأصول الثابتة-نماذج القيمة ودفاتر الإهلاك. في الإصدار 1611 من Microsoft Dynamics 365 for Operations، تم دمج وظيفة نموذج القيم ووظيفة دفتر الإهلاك في مفهوم واحد يعرف باسم الدفتر. يوفر هذا الموضوع بعض الأشياء الواجب مراعاتها عند إجراء الترقية."
author: twheeloc
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, Developer
ms.search.scope: Operations, Core
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
translationtype: Human Translation
ms.sourcegitcommit: bec019d218d80ba059d5a1c232072f46b1ae3ee2
ms.openlocfilehash: d29cb7bc5acc29be93332b4211adebc4486a7a25
ms.lasthandoff: 03/31/2017


---

# <a name="depreciation-book-upgrade-overview"></a>نظرة عامة حول ترقية دفتر الإهلاك

في الإصدارات السابقة، كانت هناك مفهومين تقييم الأصول الثابتة-نماذج القيمة ودفاتر الإهلاك. في الإصدار 1611 من Microsoft Dynamics 365 for Operations، تم دمج وظيفة نموذج القيم ووظيفة دفتر الإهلاك في مفهوم واحد يعرف باسم الدفتر. يوفر هذا الموضوع بعض الأشياء الواجب مراعاتها عند إجراء الترقية. 

ستقوم عملية الترقية بنقل إعدادك الموجود وكافة الحركات الموجودة إلى بنية الدفتر الجديد. سوف تبقى نماذج القيم على حالها، كدفتر يتم ترحيله إلى دفتر الأستاذ العام. سيتم نقل دفاتر الإهلاك إلى دفتر حيث تم تعيين الخيار **الترحيل إلى دفتر الأستاذ العام** إلى **لا**. سيتم نقل أسماء دفتر اليومية لدفتر الإهلاك لاسم دفتر يومية دفتر أستاذ عام بتعيين طبقة الترحيل **أي**. سيتم نقل حركات دفتر الإهلاك لحركات الأصول الثابتة. 

قبل تشغيل عملية ترقية البيانات، يجب عليك فهم اثنين من الخيارات المتاحة لتحديث بنود دفتر يومية دفتر الإهلاك إلى إيصالات الحركة والتسلسل الرقمي الذي سيتم استخدامه لمسلسل الإيصال. 

الخيار 1:  **التسلسل الرقمي المعرّف من قِبل النظام** - هذا هو الخيار الافتراضي لتحسين أداء الترقية. لن تستخدم عملية الترقية إطار عمل التسلسلات الرقمية، ولكن بدلاً من ذلك ستقوم بتخصيص الإيصالات من خلال نهج يستند إلى المجموعة. بعد الترقية، سيتم إنشاء التسلسل الرقمي الجديد **تعيين الرقم التالي** على النحو المناسب استناداً إلى المعاملات التي تمت ترقيتها. بشكل افتراضي، سيتم التسلسل الرقمي المستخدم في فادبوبجر\#\#\#\#\#\#\#\#\# التنسيق. هناك عدد قليل من المعالم لضبط التنسيق عند استخدام هذا الأسلوب:

-   **كود التسلسل الرقمي** – التعليمات البرمجية لتعريف التسلسل الرقمي. لا يمكن أن توجد هذه كود التسلسل الرقمي حيث سيتم إنشاؤه قبل الترقية.
    -   اسم الثابت: **NumberSequenceDefaultCode**
    -   القيمة الافتراضية: "FADBUpgr"
-   **البادئة** – قيمة السلسلة الثابتة التي سيتم استخدامها كبادئة لأرقام الإيصالات.
    -   اسم الثابت: **NumberSequenceDefaultParameterPrefix**
    -   القيمة الافتراضية: "FADBUpgr"
-   **الطول الأبجدي الرقمي‬** – طول الجزء الأبجدي الرقمي‬ في التسلسل الرقمي.
    -   اسم الثابت: * * نومبيرسيقوينسيديفاولتباراميتيرالبانوميريكلينجث * *
    -   القيمة الافتراضية: 9
-   **رقم البدء** - الرقم الأول لاستخدامه في التسلسل الرقمي.
    -   اسم الثابت: * * نومبيرسيقوينسيديفاولتباراميتيرستارتنومبير * *
    -   القيمة الافتراضية: 1

الخيار 2: **التسلسل الرقمي المعرف من قبل المستخدم موجود** -يتيح هذا الخيار إمكانية تحديد التسلسل الرقمي لاستخدامها للترقية. يمكنك استخدام هذا الخيار إذا أردت تكوين التسلسل الرقمي المتقدمة. لاستخدام تسلسل رقمي، يجب عليك تعديل فئة ترقية ReleaseUpdateDB70\_فيكسيداسيتجورنالديببوكريموفالديببوكجورنالترانس بالمعلومات التالية:

-   **كود التسلسل الرقمي** - كود التسلسل الرقمي.
    -   اسم الثابت: * * نومبيرسيقوينسيكسيستينجكودي * *
    -   القيمة الافتراضية: لا قيمة افتراضية، يجب تحديثها إلى كود التسلسل الرقمي.
-   **التسلسل الرقمي المشترك** – قيمة منطقية لتحديد نطاق التسلسل الرقمي. استخدم "true" للتسلسلات الرقمية المشتركة عبر كافة الشركات و "false" لنطاق خاص بالشركة. عند استخدام "false"، يجب أن يتواجد التسلسل الرقمي بالاسم المحدد في كل الشركات التي تحتوي على حركات دفتر الإهلاك. تسلسلات رقمية مشتركة موجودة في كل قسم يحتوي على حركات دفتر الإهلاك.
    -   اسم الثابت: * * نومبيرسيقوينسيكسيستينجيسهاريد * *
    -   القيمة الافتراضية: true

توجد المعلمات في بداية ReleaseUpdateDB70\_فيكسيداسيتجورنالديببوكريموفالديببوكجورنالترانس الفئة. 

*تحديد أسلوب المفضل توزيع قسائم*<ph id="t1">
</ph>*//true إذا كنت تريد استخدام كود تسلسل الرقمي موجود*<ph id="t2">
</ph>*//خطأ، إذا كنت تنوي استخدام تعريف نظام التسلسل الرقمي (افتراضي)* نومبيرسيقوينسيوسيكسيستينجكودي المنطقية const = false؛  

*استخدام النهج المعرفة من قبل النظام تسلسل الأرقام، حدد المعلمات للتسلسل الرقمي. *<ph id="t3">
</ph>*//سيتم إنشاء تسلسل رقمي جديد مع هذه المعايير.* شارع const نومبيرسيقوينسيديفاولتكودي = 'فادبوبجر' شارع const نومبيرسيقوينسيديفاولتباراميتيربريفيكس = 'فادبوبجر' int const نومبيرسيقوينسيديفاولتباراميتيرالبانوميريكلينجث = 9؛ int const نومبيرسيقوينسيديفاولتباراميتيرستارتنومبير = 1؛   

*استخدام النهج التسلسل الرقمي الحالي، حدد كود التسلسل الرقمي الموجود. *<ph id="t4">
</ph>*//تخصيص الإيصال سينتقل من صف التسلسلات الرقمية الموجودة.* شارع const نومبيرسيقوينسيكسيستينجكودي = ''؛ *//تحدد نطاق كود التسلسل الرقمي الموجود*<ph id="t1">
</ph>*//true إذا كان التسلسل الرقمي المحدد مشترك*<ph id="t2">
</ph>*//خطأ إذا كان التسلسل الرقمي المحدد حسب الشركة*<ph id="t3">
</ph>*//سيتم استخدام تعريف نظام التسلسل الرقمي الافتراضي إذا لم يتم العثور على كود تسلسل الرقمي مع النطاق المحدد.* const boolean NumberSequenceExistingIsShared = true; 

إعادة بناء المشروع الذي يحتوي على الفئة بعد تعديل الثوابت. 

عندما تستخدم بواسطة النظام رقم تسلسل النهج (الخيار 1)، استخدم الترقية المعالجة المستندة إلى مجموعة لتخصيص رقم الإيصال كما هو محدد في معلمات البرنامج النصي للترقية. فإنه سيتم أيضا إنشاء تسلسل رقمي جديد باستخدام المعلمات المحددة بعد التوزيع. 

عند استخدام نهج التسلسل الرقمي المعرّف من قِبل المستخدم (الخيار 2)، سوف تقوم عملية الترقية بالتحقق مما إذا كان التسلسل الرقمي مع النطاق المحدد موجودًا في قاعدة البيانات لكل قسم وشركة مع حركات كتب الإهلاك. إذا كانت موجودة، استخدم الترقية المعالجة من صف لتخصيص رقم الإيصال كما هو محدد باستخدام إطار عمل تسلسل رقم التسلسل الرقمي. في حالة عدم وجود تسلسل الأرقام مع النطاق المحدد، سيستخدم الافتراضية المعرفة من قبل النظام رقم تسلسل منهج لتخصيص رقم الإيصال الترقية، وستقوم بإنشاء تسلسل رقمي جديد مع المعلمات الافتراضية المحددة بعد التوزيع.

باستخدام أي من النهجين، سيستخدم أيضًا البرنامج النصي للترقية بيانات التسلسل الرقمي لحقل **مسلسل الإيصال** على أسماء دفاتر يومية دفتر الأستاذ العام الجديد التي تم إنشاؤها لأسماء دفاتر يومية دفتر الإهلاك السابق.


